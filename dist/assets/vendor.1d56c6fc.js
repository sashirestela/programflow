const{round:JI,floor:QI,PI:Uh}=Math,KI={linear:function(t,e,n){var r=t[1]-t[0],s=e[1]-e[0];return(n-t[0])/r*s+e[0]||0}},wi=function(t){return t%360+(t<0?360:0)},Xs=function(t,e){return e*JI(t/e)},gu=function(t){return 180*t/Uh%360},gr=function(t,e){return e=e||!1,t=e?t:t%360,t*Uh/180},jl=function(t,e){if(e===void 0)e=t===void 0?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return QI(Math.random()*(e-t+1)+t)},{cos:Ho,sin:yl,atan2:qI}=Math,Fh=function(t,e){var n=gr(t.y),r=gr(e.y),s=t.x,u=e.x,c=gr(u-s),h=yl(c)*Ho(r),p=Ho(n)*yl(r)-yl(n)*Ho(r)*Ho(c),I=gu(qI(h,p)),C=["NE","E","SE","S","SW","W","NW","N"],m=I-22.5;return m<0&&(m+=360),m=parseInt(m/45),C[m]},Kl=function(t,e){var n=t.x,r=t.y,s=e.x,u=e.y;return(n-=s)*n+(r-=u)*r},Xh=function(t,e){return Math.sqrt(Kl(t,e))},Ce={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:uu,cos:Zl,sin:Gl,sqrt:ih,min:sh,max:ah,atan2:$I,round:oh,pow:tA,PI:uh}=Math,V=function(t,e){if(!(this instanceof V))return new V(t,e);if(typeof t=="string"){var n=t.split(t.indexOf("@")===-1?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=t===void 0?0:t,this.y=e===void 0?0:e};V.fromPolar=function(t,e,n){n=new V(n);var r=uu(t*Zl(e)),s=uu(t*Gl(e)),u=wi(gu(e));return u<90?s=-s:u<180?(r=-r,s=-s):u<270&&(r=-r),new V(n.x+r,n.y+s)};V.random=function(t,e,n,r){return new V(jl(t,e),jl(n,r))};V.prototype={type:Ce.Point,chooseClosest:function(t){var e=t.length;if(e===1)return new V(t[0]);for(var n=null,r=1/0,s=0;s<e;s++){var u=new V(t[s]),c=this.squaredDistance(u);c<r&&(n=u,r=c)}return n},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=sh(ah(this.x,t.x),t.x+t.width),this.y=sh(ah(this.y,t.y),t.y+t.height),this)},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return Fh(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new V(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new V(this.x-(t||0),this.y-(e||0))},distance:function(t){return Xh(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var n=this.x,r=this.y;return new V((1-e)*n+e*t.x,(1-e)*r+e*t.y)},magnitude:function(){return ih(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return uu(t.x-this.x)+uu(t.y-this.y)},move:function(t,e){var n=gr(new V(t).theta(this)),r=this.offset(Zl(n)*e,-Gl(n)*e);return r},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new V(t).move(this,this.distance(t))},rotate:function(t,e){if(e===0)return this;t=t||new V(0,0),e=gr(wi(-e));var n=Zl(e),r=Gl(e),s=n*(this.x-t.x)-r*(this.y-t.y)+t.x,u=r*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=s,this.y=u,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=tA(10,t);break}return this.x=oh(this.x*e)/e,this.y=oh(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new V(n)||new V(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=Xs(this.x,t),this.y=Xs(this.y,e||t),this},squaredDistance:function(t){return Kl(this,t)},theta:function(t){t=new V(t);var e=-(t.y-this.y),n=t.x-this.x,r=$I(e,n);return r<0&&(r=2*uh+r),180*r/uh},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new V(t)||new V(0,0);var e=this.x,n=this.y;return this.x=ih((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=gr(t.theta(new V(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){var e=new V(0,0);return e.angleBetween(this,t)}};V.prototype.translate=V.prototype.offset;const uo=V,{max:wl,min:bl}=Math,Zt=function(t,e){if(!(this instanceof Zt))return new Zt(t,e);if(t instanceof Zt)return new Zt(t.start,t.end);this.start=new V(t),this.end=new V(e)};Zt.prototype={type:Ce.Line,angle:function(){var t=new V(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=bl(this.start.x,this.end.x),e=bl(this.start.y,this.end.y),n=wl(this.start.x,this.end.x),r=wl(this.start.y,this.end.y);return new Et(t,e,n-t,r-e)},bearing:function(){return Fh(this.start,this.end)},clone:function(){return new Zt(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new Zt(this.start,t).vector()),n=bl(1,wl(0,e/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;var r=this.length();return!(new Zt(e,t).length()>r||new Zt(t,n).length()>r)},divideAt:function(t){var e=this.pointAt(t);return[new Zt(this.start,e),new Zt(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new Zt(this.start,e),new Zt(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof Zt&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new V(this.end.x-this.start.x,this.end.y-this.start.y),n=new V(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,s=new V(t.start.x-this.start.x,t.start.y-this.start.y),u=s.x*n.y-s.y*n.x,c=s.x*e.y-s.y*e.x;if(r===0||u*r<0||c*r<0)return null;if(r>0){if(u>r||c>r)return null}else if(u<r||c<r)return null;return[new V(this.start.x+u*e.x/r,this.start.y+u*e.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Xh(this.start,this.end)},midpoint:function(){return new V((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:r}=e,s=n.clone().rotate(r,270),u=r.clone().rotate(n,90);return n.move(u,t),r.move(s,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,r=!0;t<0&&(r=!1,t=-t);var s=this.length();return t>=s?r?n.clone():e.clone():this.pointAt((r?t:s-t)/s)},pointOffset:function(t){t=new V(t);var e=this.start,n=this.end,r=(n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x);return r/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return Kl(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAt(t),s=new Zt(e,n);return s.translate(r.x-e.x,r.y-e.y),s},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAtLength(t),s=new Zt(e,n);return s.translate(r.x-e.x,r.y-e.y),s},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new V(this.end.x-this.start.x,this.end.y-this.start.y)}};Zt.prototype.intersection=Zt.prototype.intersect;const Fs=Zt,{sqrt:lh,round:Jo,pow:eA}=Math,tr=function(t,e,n){if(!(this instanceof tr))return new tr(t,e,n);if(t instanceof tr)return new tr(new V(t.x,t.y),t.a,t.b);t=new V(t),this.x=t.x,this.y=t.y,this.a=e,this.b=n};tr.fromRect=function(t){return t=new Et(t),new tr(t.center(),t.width/2,t.height/2)};tr.prototype={type:Ce.Ellipse,bbox:function(){return new Et(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new V(this.x,this.y)},clone:function(){return new tr(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,r=t.end,s=this.a,u=this.b,c=t.vector(),h=n.difference(new V(this)),p=new V(c.x/(s*s),c.y/(u*u)),I=new V(h.x/(s*s),h.y/(u*u)),C=c.dot(p),m=c.dot(I),L=h.dot(I)-1,G=m*m-C*L;if(G<0)return null;if(G>0){var j=lh(G),X=(-m-j)/C,Q=(-m+j)/C;if((X<0||1<X)&&(Q<0||1<Q))return null;0<=X&&X<=1&&e.push(n.lerp(r,X)),0<=Q&&Q<=1&&e.push(n.lerp(r,Q))}else{var J=-m/C;if(0<=J&&J<=1)e.push(n.lerp(r,J));else return null}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new V(t),e&&t.rotate(new V(this.x,this.y),e);var n=t.x-this.x,r=t.y-this.y,s;if(n===0)return s=this.bbox().pointNearestToPoint(t),e?s.rotate(new V(this.x,this.y),-e):s;var u=r/n,c=u*u,h=this.a*this.a,p=this.b*this.b,I=lh(1/(1/h+c/p));I=n<0?-I:I;var C=u*I;return s=new V(this.x+I,this.y+C),e?s.rotate(new V(this.x,this.y),-e):s},normalizedDistance:function(t){var e=t.x,n=t.y,r=this.a,s=this.b,u=this.x,c=this.y;return(e-u)*(e-u)/(r*r)+(n-c)*(n-c)/(s*s)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=eA(10,t);break}return this.x=Jo(this.x*e)/e,this.y=Jo(this.y*e)/e,this.a=Jo(this.a*e)/e,this.b=Jo(this.b*e)/e,this},tangentTheta:function(t){var e=30,n=t.x,r=t.y,s=this.a,u=this.b,c=this.bbox().center(),h=c.x,p=c.y,I=n>c.x+s/2,C=n<c.x-s/2,m,L;return I||C?(m=n>c.x?r-e:r+e,L=s*s/(n-h)-s*s*(r-p)*(m-p)/(u*u*(n-h))+h):(L=r>c.y?n+e:n-e,m=u*u/(r-p)-u*u*(n-h)*(L-h)/(s*s*(r-p))+p),new V(L,m).theta(t)},toString:function(){return new V(this.x,this.y).toString()+" "+this.a+" "+this.b}};const nA=tr,{abs:ch,cos:rA,sin:iA,min:eo,max:fh,round:Qo,pow:sA}=Math,Et=function(t,e,n,r){if(!(this instanceof Et))return new Et(t,e,n,r);Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t===void 0?0:t,this.y=e===void 0?0:e,this.width=n===void 0?0:n,this.height=r===void 0?0:r};Et.fromEllipse=function(t){return t=new tr(t),new Et(t.x-t.a,t.y-t.b,2*t.a,2*t.b)};Et.fromPointUnion=function(...t){if(t.length===0)return null;const e=new V;let n,r,s,u;n=r=1/0,s=u=-1/0;for(let c=0;c<t.length;c++){e.update(t[c]);const h=e.x,p=e.y;h<n&&(n=h),h>s&&(s=h),p<r&&(r=p),p>u&&(u=p)}return new Et(n,r,s-n,u-r)};Et.fromRectUnion=function(...t){if(t.length===0)return null;const e=new Et;let n,r,s,u;n=r=1/0,s=u=-1/0;for(let c=0;c<t.length;c++){e.update(t[c]);const h=e.x,p=e.y,I=h+e.width,C=p+e.height;h<n&&(n=h),I>s&&(s=I),p<r&&(r=p),C>u&&(u=C)}return new Et(n,r,s-n,u-r)};Et.prototype={type:Ce.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,r=gr(t),s=ch(iA(r)),u=ch(rA(r)),c=e*u+n*s,h=e*s+n*u;return this.x+=(e-c)/2,this.y+=(n-h)/2,this.width=c,this.height=h,this},bottomLeft:function(){return new V(this.x,this.y+this.height)},bottomLine:function(){return new Zt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new V(this.x+this.width/2,this.y+this.height)},center:function(){return new V(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Et(this)},containsPoint:function(t){return t=new V(t),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new Et(this).normalize(),n=new Et(t).normalize(),r=e.width,s=e.height,u=n.width,c=n.height;if(!r||!s||!u||!c)return!1;var h=e.x,p=e.y,I=n.x,C=n.y;return u+=I,r+=h,c+=C,s+=p,h<=I&&u<=r&&p<=C&&c<=s},corner:function(){return new V(this.x+this.width,this.y+this.height)},equals:function(t){var e=new Et(this).normalize(),n=new Et(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),r=t.origin(),s=t.corner();if(s.x<=e.x||s.y<=e.y||r.x>=n.x||r.y>=n.y)return null;var u=fh(e.x,r.x),c=fh(e.y,r.y);return new Et(u,c,eo(n.x,s.x)-u,eo(n.y,s.y)-c)},intersectionWithLine:function(t){var e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],r=[],s=[],u,c,h=n.length;for(c=0;c<h;c++)u=t.intersect(n[c]),u!==null&&s.indexOf(u.toString())<0&&(r.push(u),s.push(u.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new V(t);var n=new V(this.x+this.width/2,this.y+this.height/2),r;e&&t.rotate(n,e);for(var s=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],u=new Zt(n,t),c=s.length-1;c>=0;--c){var h=s[c].intersection(u);if(h!==null){r=h;break}}return r&&e&&r.rotate(n,-e),r},leftLine:function(){return new Zt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new V(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new Et(t),e||(e=t.center());var n,r,s,u,c,h,p,I,C=e.x,m=e.y;n=r=s=u=c=h=p=I=1/0;var L=t.topLeft();L.x<C&&(n=(this.x-C)/(L.x-C)),L.y<m&&(c=(this.y-m)/(L.y-m));var G=t.bottomRight();G.x>C&&(r=(this.x+this.width-C)/(G.x-C)),G.y>m&&(h=(this.y+this.height-m)/(G.y-m));var j=t.topRight();j.x>C&&(s=(this.x+this.width-C)/(j.x-C)),j.y<m&&(p=(this.y-m)/(j.y-m));var X=t.bottomLeft();return X.x<C&&(u=(this.x-C)/(X.x-C)),X.y>m&&(I=(this.y+this.height-m)/(X.y-m)),{sx:eo(n,r,s,u),sy:eo(c,h,p,I)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return eo(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this},offset:function(t,e){return V.prototype.offset.call(this,t,e)},origin:function(){return new V(this.x,this.y)},pointNearestToPoint:function(t){if(t=new V(t),this.containsPoint(t)){var e=this.sideNearestToPoint(t);switch(e){case"right":return new V(this.x+this.width,t.y);case"left":return new V(this.x,t.y);case"bottom":return new V(t.x,this.y+this.height);case"top":return new V(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return new Zt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new V(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=sA(10,t);break}return this.x=Qo(this.x*e)/e,this.y=Qo(this.y*e)/e,this.width=Qo(this.width*e)/e,this.height=Qo(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new V(t);var e=t.x-this.x,n=this.x+this.width-t.x,r=t.y-this.y,s=this.y+this.height-t.y,u=e,c="left";return n<u&&(u=n,c="right"),r<u&&(u=r,c="top"),s<u&&(c="bottom"),c},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),r=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Zt(this.topLeft(),this.topRight())},topMiddle:function(){return new V(this.x+this.width/2,this.y)},topRight:function(){return new V(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return Et.fromRectUnion(this,t)},update:function(t,e,n,r){return Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this}};Et.prototype.bottomRight=Et.prototype.corner;Et.prototype.topLeft=Et.prototype.origin;Et.prototype.translate=Et.prototype.offset;const aA=Et;function Vh(t){if(t=t.trim(),t==="")return[];const e=[],n=t.split(/\s*,\s*|\s+/),r=n.length;for(let s=0;s<r;s+=2)e.push({x:+n[s],y:+n[s+1]});return e}function Hh(t){const e=t.length;if(e===0)return[];const n=[];for(let r=0;r<e;r++){const s=t[r].clone();n.push(s)}return n}function Jh(t){const{abs:e}=Math;var n,r,s=t.length;if(s===0)return[];var u;for(n=0;n<s;n++)(u===void 0||t[n].y<u.y||t[n].y===u.y&&t[n].x>u.x)&&(u=t[n]);var c=[];for(n=0;n<s;n++){var h=u.theta(t[n]);h===0&&(h=360);var p=[t[n],n,h];c.push(p)}if(c.sort(function(Nt,St){var Dt=Nt[2]-St[2];return Dt===0&&(Dt=St[1]-Nt[1]),Dt}),c.length>2){var I=c[c.length-1];c.unshift(I)}for(var C={},m=[],L,G,j,X,Q,J;c.length!==0;)if(L=c.pop(),G=L[0],!C.hasOwnProperty(L[0]+"@@"+L[1]))for(var st=!1;!st;)if(m.length<2)m.push(L),st=!0;else{j=m.pop(),X=j[0],Q=m.pop(),J=Q[0];var y=J.cross(X,G);if(y<0)m.push(Q),m.push(j),m.push(L),st=!0;else if(y===0){var M=1e-10,D=X.angleBetween(J,G);e(D-180)<M||X.equals(G)||J.equals(X)?(C[j[0]+"@@"+j[1]]=X,m.push(Q)):e((D+1)%360-1)<M&&(m.push(Q),c.push(j))}else C[j[0]+"@@"+j[1]]=X,m.push(Q)}m.length>2&&m.pop();var d,B=-1;for(r=m.length,n=0;n<r;n++){var q=m[n][1];(d===void 0||q<d)&&(d=q,B=n)}var et=[];if(B>0){var at=m.slice(B),wt=m.slice(0,B);et=at.concat(wt)}else et=m;var pt=[];for(r=et.length,n=0;n<r;n++)pt.push(et[n][0]);return pt}const $e=function(t){if(!(this instanceof $e))return new $e(t);if(typeof t=="string")return new $e.parse(t);this.points=Array.isArray(t)?t.map(V):[]};$e.parse=function(t){return new $e(Vh(t))};$e.fromRect=function(t){return new $e([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])};$e.prototype={type:Ce.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,s=this.points,u=s.length;if(u===0)return null;for(var c=0;c<u;c++){var h=s[c],p=h.x,I=h.y;p<t&&(t=p),p>e&&(e=p),I<n&&(n=I),I>r&&(r=I)}return new Et(t,n,e-t,r-n)},clone:function(){return new $e(Hh(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return 0;for(var r,s=1/0,u=0,c=n-1,h=0;h<c;h++){var p=new Zt(e[h],e[h+1]),I=p.length(),C=p.closestPointNormalizedLength(t),m=p.pointAt(C),L=m.squaredDistance(t);L<s&&(s=L,r=u+C*I),u+=I}return r},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(e===0)return 0;var n=this.length();return n===0?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(n===0)return!1;for(var r=t.x,s=t.y,u=n-1,c=0,h=0,p=new Zt,I=new Zt,C=new V;c<n;c++){var m=e[u],L=e[c];if(t.equals(m)||(p.start=m,p.end=L,p.containsPoint(t)))return!0;if(s<=m.y&&s>L.y||s>m.y&&s<=L.y){var G=m.x-r>L.x-r?m.x-r:L.x-r;G>=0&&(C.x=r+G,C.y=s,I.start=t,I.end=C,p.intersect(I)&&h++)}u=c}return h%2===1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new $e(Jh(this.points))},equals:function(t){if(!t)return!1;var e=this.points,n=t.points,r=e.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var u=e[s],c=t.points[s];if(!u.equals(c))return!1}return!0},intersectionWithLine:function(t){for(var e=new Zt(t),n=[],r=this.lengthPoints(),s=new Zt,u=0,c=r.length-1;u<c;u++){s.start=r[u],s.end=r[u+1];var h=e.intersectionWithLine(s);h&&n.push(h[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(e===0)return!1;for(var n=new Zt,r=e-1,s=0;s<r;s++)if(n.start=t[s],n.end=t[s+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(e===0)return 0;for(var n=0,r=e-1,s=0;s<r;s++)n+=t[s].distance(t[s+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var r=this.length(),s=r*t;return this.pointAtLength(s)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1)return e[0].clone();var r=!0;t<0&&(r=!1,t=-t);for(var s=0,u=n-1,c=0;c<u;c++){var h=r?c:u-1-c,p=e[h],I=e[h+1],C=new Zt(p,I),m=p.distance(I);if(t<=s+m)return C.pointAtLength((r?1:-1)*(t-s));s+=m}var L=r?e[n-1]:e[0];return L.clone()},round:function(t){for(var e=this.points,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.points,s=r.length,u=0;u<s;u++)r[u].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const s=r,u=r+1,c=r+2,h=e[s],p=e[u],I=e[c];new Zt(h,I).closestPoint(p).distance(p)<=n?e.splice(u,1):r+=1}return this},tangentAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length(),s=r*t;return this.tangentAtLength(s)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;var r=!0;t<0&&(r=!1,t=-t);for(var s,u=0,c=n-1,h=0;h<c;h++){var p=r?h:c-1-h,I=e[p],C=e[p+1],m=new Zt(I,C),L=I.distance(C);if(m.isDifferentiable()){if(t<=u+L)return m.tangentAtLength((r?1:-1)*(t-u));s=m}u+=L}if(s){var G=r?1:0;return s.tangentAt(G)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,r=n.length,s=0;s<r;s++)n[s].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(e===0)return"";for(var n="",r=0;r<e;r++){var s=t[r];n+=s.x+","+s.y+" "}return n.trim()}};Object.defineProperty($e.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[0]}});Object.defineProperty($e.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[e-1]}});const{abs:Ko,sqrt:oA,min:hh,max:gh,pow:xl}=Math,Ue=function(t,e,n,r){if(!(this instanceof Ue))return new Ue(t,e,n,r);if(t instanceof Ue)return new Ue(t.start,t.controlPoint1,t.controlPoint2,t.end);this.start=new V(t),this.controlPoint1=new V(e),this.controlPoint2=new V(n),this.end=new V(r)};Ue.throughPoints=function(){function t(n){var r=[],s=[],u=n.length-1,c;if(u==1)return r[0]=new V((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),s[0]=new V(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,s];var h=[];for(c=1;c<u-1;c++)h[c]=4*n[c].x+2*n[c+1].x;h[0]=n[0].x+2*n[1].x,h[u-1]=(8*n[u-1].x+n[u].x)/2;var p=e(h);for(c=1;c<u-1;++c)h[c]=4*n[c].y+2*n[c+1].y;h[0]=n[0].y+2*n[1].y,h[u-1]=(8*n[u-1].y+n[u].y)/2;var I=e(h);for(c=0;c<u;c++)r.push(new V(p[c],I[c])),c<u-1?s.push(new V(2*n[c+1].x-p[c+1],2*n[c+1].y-I[c+1])):s.push(new V((n[u].x+p[u-1])/2,(n[u].y+I[u-1])/2));return[r,s]}function e(n){var r=n.length,s=[],u=[],c=2;s[0]=n[0]/c;for(var h=1;h<r;h++)u[h]=1/c,c=(h<r-1?4:3.5)-u[h],s[h]=(n[h]-s[h-1])/c;for(h=1;h<r;h++)s[r-h-1]-=u[r-h]*s[r-h];return s}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=t(n),s=[],u=r[0].length,c=0;c<u;c++){var h=new V(r[0][c].x,r[0][c].y),p=new V(r[1][c].x,r[1][c].y);s.push(new Ue(n[c],h,p,n[c+1]))}return s}}();Ue.prototype={type:Ce.Curve,bbox:function(){for(var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,s=t.x,u=t.y,c=e.x,h=e.y,p=n.x,I=n.y,C=r.x,m=r.y,L=new Array,G=new Array,j=[new Array,new Array],X,Q,J,st,y,M,D,d,B=0;B<2;++B){if(B===0?(Q=6*s-12*c+6*p,X=-3*s+9*c-9*p+3*C,J=3*c-3*s):(Q=6*u-12*h+6*I,X=-3*u+9*h-9*I+3*m,J=3*h-3*u),Ko(X)<1e-12){if(Ko(Q)<1e-12)continue;st=-J/Q,0<st&&st<1&&G.push(st);continue}D=Q*Q-4*J*X,d=oA(D),!(D<0)&&(y=(-Q+d)/(2*X),0<y&&y<1&&G.push(y),M=(-Q-d)/(2*X),0<M&&M<1&&G.push(M))}for(var q=G.length,et=q,at,wt,pt;q--;)st=G[q],at=1-st,wt=at*at*at*s+3*at*at*st*c+3*at*st*st*p+st*st*st*C,j[0][q]=wt,pt=at*at*at*u+3*at*at*st*h+3*at*st*st*I+st*st*st*m,j[1][q]=pt,L[q]={X:wt,Y:pt};G[et]=0,G[et+1]=1,L[et]={X:s,Y:u},L[et+1]={X:C,Y:m},j[0][et]=s,j[1][et]=u,j[0][et+1]=C,j[1][et+1]=m,G.length=et+2,j[0].length=et+2,j[1].length=et+2,L.length=et+2;var Nt=hh.apply(null,j[0]),St=hh.apply(null,j[1]),Dt=gh.apply(null,j[0]),_t=gh.apply(null,j[1]);return new Et(Nt,St,Dt-Nt,_t-St)},clone:function(){return new Ue(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(t,s),s)},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s={precision:n,subdivisions:r},u=this.closestPointLength(t,s);if(!u)return 0;var c=this.length(s);return c===0?0:u/c},closestPointT:function(t,e){e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s,u,c,h,p,I,C,m=r.length,L=m?1/m:0,G=0;G<m;G++){var j=r[G],X=j.start.distance(t),Q=j.end.distance(t),J=X+Q;(!C||J<C)&&(s=j,u=G*L,c=(G+1)*L,h=X,p=Q,I=j.start.distance(j.end),C=J)}for(var st=xl(10,-n);;){var y=h?Ko(h-p)/h:0,M=p?Ko(h-p)/p:0,D=y<st||M<st,d=h?h<I*st:!0,B=p?p<I*st:!0,q=d||B;if(D||q)return h<=p?u:c;var et=s.divide(.5);L/=2;var at=et[0].start.distance(t),wt=et[0].end.distance(t),pt=at+wt,Nt=et[1].start.distance(t),St=et[1].end.distance(t),Dt=Nt+St;pt<=Dt?(s=et[0],c-=L,h=at,p=wt):(s=et[1],u+=L,h=Nt,p=St)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){var n=this.toPolyline(e);return n.containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return[new Ue(e,e,e,e),new Ue(e,n,r,s)];if(t>=1)return[new Ue(e,n,r,s),new Ue(s,s,s,s)];var u=this.getSkeletonPoints(t),c=u.startControlPoint1,h=u.startControlPoint2,p=u.divider,I=u.dividerControlPoint1,C=u.dividerControlPoint2;return[new Ue(e,c,h,p),new Ue(p,I,C,s)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};var u=new Zt(e,n).pointAt(t),c=new Zt(n,r).pointAt(t),h=new Zt(r,s).pointAt(t),p=new Zt(u,c).pointAt(t),I=new Zt(c,h).pointAt(t),C=new Zt(p,I).pointAt(t),m={startControlPoint1:u,startControlPoint2:p,divider:C,dividerControlPoint1:I,dividerControlPoint2:h};return m},getSubdivisions:function(t){t=t||{};var e=t.precision===void 0?this.PRECISION:t.precision,n=[new Ue(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return n;for(var r=this.endpointDistance(),s=xl(10,-e),u=0;;){u+=1;for(var c=[],h=n.length,p=0;p<h;p++){var I=n[p],C=I.divide(.5);c.push(C[0],C[1])}for(var m=0,L=c.length,G=0;G<L;G++){var j=c[G];m+=j.endpointDistance()}var X=m!==0?(m-r)/m:0;if(u>1&&X<s)return c;n=c,r=m}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},length:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=0,s=n.length,u=0;u<s;u++){var c=n[u];r+=c.endpointDistance()}return r},lengthAtT:function(t,e){if(t<=0)return 0;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=this.divide(t)[0],s=r.length({precision:n});return s},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,s=e.divider,u=new Zt(n,r);return u.translate(s.x-n.x,s.y-n.y),u},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,s={precision:n,subdivisions:r},u=this.length(s),c=u*t;return this.tAtLength(c,s)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t),e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,s=e.subdivisions===void 0?this.getSubdivisions({precision:r}):e.subdivisions,u={precision:r,subdivisions:s},c,h,p,I,C,m=0,L=s.length,G=1/L,j=0;j<L;j++){var X=n?j:L-1-j,Q=s[j],J=Q.endpointDistance();if(t<=m+J){c=Q,h=X*G,p=(X+1)*G,I=n?t-m:J+m-t,C=n?J+m-t:t-m;break}m+=J}if(!c)return n?1:0;for(var st=this.length(u),y=xl(10,-r);;){var M;if(M=st!==0?I/st:0,M<y)return h;if(M=st!==0?C/st:0,M<y)return p;var D,d,B=c.divide(.5);G/=2;var q=B[0].endpointDistance(),et=B[1].endpointDistance();I<=q?(c=B[0],p-=G,D=I,d=q-D):(c=B[1],h+=G,D=I-q,d=et-D),I=D,C=d}},toPoints:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=[n[0].start.clone()],s=n.length,u=0;u<s;u++){var c=n[u];r.push(c.end.clone())}return r},toPolyline:function(t){return new $e(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Ue.prototype.divide=Ue.prototype.divideAtT;function co(t){var e,n,r=[];for(n=arguments.length,e=1;e<n;e++)r.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var s=Object.create(t);for(n=r.length,e=0;e<n;e++){var u=r[e],c,h;for(h in u)u.hasOwnProperty(h)&&(delete s[h],c=Object.getOwnPropertyDescriptor(u,h),Object.defineProperty(s,h,c))}return s}const Ft=function(t){if(!(this instanceof Ft))return new Ft(t);if(typeof t=="string")return new Ft.parse(t);this.segments=[];var e,n;if(t)if(Array.isArray(t)&&t.length!==0)if(t=t.reduce(function(h,p){return h.concat(p)},[]),n=t.length,t[0].isSegment)for(e=0;e<n;e++){var r=t[e];this.appendSegment(r)}else{var s=null;for(e=0;e<n;e++){var u=t[e];if(!(u instanceof Zt||u instanceof Ue))throw new Error("Cannot construct a path segment from the provided object.");e===0&&this.appendSegment(Ft.createSegment("M",u.start)),s&&!s.end.equals(u.start)&&this.appendSegment(Ft.createSegment("M",u.start)),u instanceof Zt?this.appendSegment(Ft.createSegment("L",u.end)):u instanceof Ue&&this.appendSegment(Ft.createSegment("C",u.controlPoint1,u.controlPoint2,u.end)),s=u}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof Zt)this.appendSegment(Ft.createSegment("M",t.start)),this.appendSegment(Ft.createSegment("L",t.end));else if(t instanceof Ue)this.appendSegment(Ft.createSegment("M",t.start)),this.appendSegment(Ft.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof $e){if(!(t.points&&t.points.length!==0))return;for(n=t.points.length,e=0;e<n;e++){var c=t.points[e];e===0?this.appendSegment(Ft.createSegment("M",c)):this.appendSegment(Ft.createSegment("L",c))}}else throw new Error("Cannot construct a path from the provided object.")};Ft.parse=function(t){if(!t)return new Ft;for(var e=new Ft,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=t.match(n),s=r.length,u=0;u<s;u++){var c=r[u],h=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,p=c.match(h),I=Ft.createSegment.apply(this,p);e.appendSegment(I)}return e};Ft.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=Ft.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,s=1;s<r;s++)n.push(arguments[s]);return Ci(e,n)};Ft.prototype={type:Ce.Path,appendSegment:function(t){var e=this.segments,n=e.length,r,s=n!==0?e[n-1]:null,u=null;if(Array.isArray(t)){if(t=t.reduce(function(I,C){return I.concat(C)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var c=t.length,h=0;h<c;h++){var p=t[h];r=this.prepareSegment(p,s,u),e.push(r),s=r}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,s,u),e.push(r)}},bbox:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n,r=0;r<e;r++){var s=t[r];if(s.isVisible){var u=s.bbox();n=n?n.union(u):u}}if(n)return n;var c=t[e-1];return new Et(c.end.x,c.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new Ft,r=0;r<e;r++){var s=t[r].clone();n.appendSegment(s)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,s={precision:n,segmentSubdivisions:r},u=this.closestPointT(t,s);return u?this.lengthAtT(u,s):0},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,s={precision:n,segmentSubdivisions:r},u=this.closestPointLength(t,s);if(u===0)return 0;var c=this.length(s);return c===0?0:u/c},closestPointT:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,u=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c,h=1/0,p=0;p<r;p++){var I=n[p],C=u[p];if(I.isVisible){var m=I.closestPointT(t,{precision:s,subdivisions:C}),L=I.pointAtT(m),G=new Zt(L,t).squaredLength();G<h&&(c={segmentIndex:p,value:m},h=G)}}return c||{segmentIndex:r-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,u=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c,h=1/0,p=0;p<r;p++){var I=n[p],C=u[p];if(I.isDifferentiable()){var m=I.closestPointT(t,{precision:s,subdivisions:C}),L=I.pointAtT(m),G=new Zt(L,t).squaredLength();G<h&&(c=I.tangentAtT(m),h=G)}}return c||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var r=n.length,s=0,u=0;u<r;u++){var c=n[u];c.containsPoint(t)&&s++}return s%2===1},divideAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,u=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c={precision:s,segmentSubdivisions:u},h=this.length(c),p=h*t;return this.divideAtLength(p,c)},divideAtLength:function(t,e){var n=this.segments.length;if(n===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,u=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c,h,p=0,I,C,m,L,G;for(c=0;c<n;c++){var j=r?c:n-1-c;h=this.getSegment(j);var X=u[j],Q=h.length({precision:s,subdivisions:X});if(h.isDifferentiable()&&(m=h,L=j,t<=p+Q)){C=j,I=h.divideAtLength((r?1:-1)*(t-p),{precision:s,subdivisions:X});break}p+=Q}if(!m)return null;I||(C=L,G=r?1:0,I=m.divideAtT(G));var J=this.clone();J.replaceSegment(C,I);var st=C,y=C+1,M=C+2;I[0].isDifferentiable()||(J.removeSegment(st),y-=1,M-=1);var D=J.getSegment(y).start;J.insertSegment(y,Ft.createSegment("M",D)),M+=1,I[1].isDifferentiable()||(J.removeSegment(M-1),M-=1);var d=M-st-1;for(c=M;c<J.segments.length;c++){var B=this.getSegment(c-d);if(h=J.getSegment(c),h.type==="Z"&&!B.subpathStartSegment.end.equals(h.subpathStartSegment.end)){var q=Ft.createSegment("L",B.end);J.replaceSegment(c,q)}}var et=new Ft(J.segments.slice(0,y)),at=new Ft(J.segments.slice(y));return[et,at]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(var s=0;s<r;s++){var u=e[s],c=n[s];if(u.type!==c.type||!u.equals(c))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){var e=this.segments,n=e.length;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,s=[],u=0;u<n;u++){var c=e[u],h=c.getSubdivisions({precision:r});s.push(h)}return s},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,r=[];for(let s=0;s<n;s++){const u=e[s];u.isSubpathStart?r.push(new Ft(u)):r[r.length-1].appendSegment(u)}return r},insertSegment:function(t,e){var n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var s,u=null,c=null;if(r!==0&&(t>=1?(u=n[t-1],c=u.nextSegment):c=n[0]),Array.isArray(e)){if(e=e.reduce(function(C,m){return C.concat(m)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var h=e.length,p=0;p<h;p++){var I=e[p];s=this.prepareSegment(I,u,c),n.splice(t+p,0,s),u=s}}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,u,c),n.splice(t,0,s)}},intersectionWithLine:function(t,e){var n=null,r=this.toPolylines(e);if(!r)return null;for(var s=0,u=r.length;s<u;s++){var c=r[s],h=t.intersect(c);h&&(n||(n=[]),Array.isArray(h)?Array.prototype.push.apply(n,h):n.push(h))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++){var r=t[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments,e=t.length===0||t[0].type==="M";return e},length:function(t){var e=this.segments,n=e.length;if(n===0)return 0;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,u=0,c=0;c<n;c++){var h=e[c],p=s[c];u+=h.length({subdivisions:p})}return u},lengthAtT:function(t,e){var n=this.segments,r=n.length;if(r===0)return 0;var s=t.segmentIndex;if(s<0)return 0;var u=t.value;s>=r?(s=r-1,u=1):u<0?u=0:u>1&&(u=1),e=e||{};for(var c=e.precision===void 0?this.PRECISION:e.precision,h=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:c}):e.segmentSubdivisions,p,I=0,C=0;C<s;C++){var m=n[C];p=h[C],I+=m.length({precisison:c,subdivisions:p})}return m=n[s],p=h[s],I+=m.lengthAtT(u,{precisison:c,subdivisions:p}),I},pointAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,u=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c={precision:s,segmentSubdivisions:u},h=this.length(c),p=h*t;return this.pointAtLength(p,c)},pointAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t===0)return this.start.clone();var s=!0;t<0&&(s=!1,t=-t),e=e||{};for(var u=e.precision===void 0?this.PRECISION:e.precision,c=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:u}):e.segmentSubdivisions,h,p=0,I=0;I<r;I++){var C=s?I:r-1-I,m=n[C],L=c[C],G=m.length({precision:u,subdivisions:L});if(m.isVisible){if(t<=p+G)return m.pointAtLength((s?1:-1)*(t-p),{precision:u,subdivisions:L});h=m}p+=G}if(h)return s?h.end:h.start;var j=n[r-1];return j.end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].pointAtT(s)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r&&this.updateSubpathStartSegment(r),t},removeSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r=e.splice(t,1)[0],s=r.previousSegment,u=r.nextSegment;s&&(s.nextSegment=u),u&&(u.previousSegment=s),r.isSubpathStart&&u&&this.updateSubpathStartSegment(u)},replaceSegment:function(t,e){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var s,u=n[t],c=u.previousSegment,h=u.nextSegment,p=u.isSubpathStart;if(Array.isArray(e)){if(e=e.reduce(function(L,G){return L.concat(G)},[]),!e[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var I=e.length,C=0;C<I;C++){var m=e[C];s=this.prepareSegment(m,c,h),n.splice(t+C,0,s),c=s,p&&s.isSubpathStart&&(p=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");s=this.prepareSegment(e,c,h),n.splice(t,1,s),p&&s.isSubpathStart&&(p=!1)}p&&h&&this.updateSubpathStartSegment(h)},round:function(t){for(var e=this.segments,n=e.length,r=0;r<n;r++){var s=e[r];s.round(t)}return this},scale:function(t,e,n){for(var r=this.segments,s=r.length,u=0;u<s;u++){var c=r[u];c.scale(t,e,n)}return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,u=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c={precision:s,segmentSubdivisions:u},h=this.length(c),p=h*t;return this.segmentIndexAtLength(p,c)},segmentIndexAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var s=!0;t<0&&(s=!1,t=-t),e=e||{};for(var u=e.precision===void 0?this.PRECISION:e.precision,c=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:u}):e.segmentSubdivisions,h=null,p=0,I=0;I<r;I++){var C=s?I:r-1-I,m=n[C],L=c[C],G=m.length({precision:u,subdivisions:L});if(m.isVisible){if(t<=p+G)return C;h=C}p+=G}return h},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var s=e.precision===void 0?this.PRECISION:e.precision,u=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c={precision:s,segmentSubdivisions:u},h=this.length(c),p=h*t;return this.tangentAtLength(p,c)},tangentAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var s=!0;t<0&&(s=!1,t=-t),e=e||{};for(var u=e.precision===void 0?this.PRECISION:e.precision,c=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:u}):e.segmentSubdivisions,h,p=0,I=0;I<r;I++){var C=s?I:r-1-I,m=n[C],L=c[C],G=m.length({precision:u,subdivisions:L});if(m.isDifferentiable()){if(t<=p+G)return m.tangentAtLength((s?1:-1)*(t-p),{precision:u,subdivisions:L});h=m}p+=G}if(h){var j=s?1:0;return h.tangentAtT(j)}return null},tangentAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].tangentAtT(0);if(r>=n)return e[n-1].tangentAtT(1);var s=t.value;return s<0?s=0:s>1&&(s=1),e[r].tangentAtT(s)},toPoints:function(t){var e=this.segments,n=e.length;if(n===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,u=[],c=[],h=0;h<n;h++){var p=e[h];if(p.isVisible){var I=s[h];if(I.length>0){var C=I.map(function(m){return m.start});Array.prototype.push.apply(c,C)}else c.push(p.start)}else c.length>0&&(c.push(e[h-1].end),u.push(c),c=[])}return c.length>0&&(c.push(this.end),u.push(c)),u},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var r=0,s=n.length;r<s;r++)e.push(new $e(n[r]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",r=0;r<e;r++){var s=t[r];n+=s.serialize()+" "}return n.trim()},translate:function(t,e){for(var n=this.segments,r=n.length,s=0;s<r;s++){var u=n[s];u.translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)e?t.subpathStartSegment=e.subpathStartSegment:t.subpathStartSegment=null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Ft.createSegment("M",0,0)),this}};Object.defineProperty(Ft.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=0;n<e;n++){var r=t[n];if(r.isVisible)return r.start}return t[e-1].end}});Object.defineProperty(Ft.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=e-1;n>=0;n--){var r=t[n];if(r.isVisible)return r.end}return t[e-1].end}});function Ci(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}var Hs={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Hs,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Hs,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Hs,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var En=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof En))return Ci(En,t);if(e===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof Zt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new V(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),r.push(Ci(En,s));return r}else{if(e===1)return this.end=new V(t[0]),this;var u;for(r=[],n=0;n<e;n+=1)u=t[n],r.push(new En(u));return r}},Qh={clone:function(){return new En(this.end)},divideAt:function(t){var e=new Zt(this.start,this.end),n=e.divideAt(t);return[new En(n[0]),new En(n[1])]},divideAtLength:function(t){var e=new Zt(this.start,this.end),n=e.divideAtLength(t);return[new En(n[0]),new En(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Qh,"type",{configurable:!0,enumerable:!0,value:"L"});En.prototype=co(Hs,Zt.prototype,Qh);var Nr=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Nr))return Ci(Nr,t);if(e===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(t[0]instanceof Ue){if(e===1)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===6)return this.controlPoint1=new V(+t[0],+t[1]),this.controlPoint2=new V(+t[2],+t[3]),this.end=new V(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=6)s=t.slice(n,n+6),r.push(Ci(Nr,s));return r}else{if(e===3)return this.controlPoint1=new V(t[0]),this.controlPoint2=new V(t[1]),this.end=new V(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");var u;for(r=[],n=0;n<e;n+=3)u=t.slice(n,n+3),r.push(Ci(Nr,u));return r}},Kh={clone:function(){return new Nr(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var n=new Ue(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(t,e);return[new Nr(r[0]),new Nr(r[1])]},divideAtLength:function(t,e){var n=new Ue(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(t,e);return[new Nr(r[0]),new Nr(r[1])]},divideAtT:function(t){var e=new Ue(this.start,this.controlPoint1,this.controlPoint2,this.end),n=e.divideAtT(t);return[new Nr(n[0]),new Nr(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(Kh,"type",{configurable:!0,enumerable:!0,value:"C"});Nr.prototype=co(Hs,Ue.prototype,Kh);var Ys=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Ys))return Ci(Ys,t);if(e===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof Zt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(t[0]instanceof Ue){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new V(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var s;for(r=[],n=0;n<e;n+=2)s=t.slice(n,n+2),n===0?r.push(Ci(Ys,s)):r.push(Ci(En,s));return r}else{if(e===1)return this.end=new V(t[0]),this;var u;for(r=[],n=0;n<e;n+=1)u=t[n],n===0?r.push(new Ys(u)):r.push(new En(u));return r}},ql={bbox:function(){return null},clone:function(){return new Ys(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(ql,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(ql,"type",{configurable:!0,enumerable:!0,value:"M"});Ys.prototype=co(Hs,ql);var Ta=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Ta))return Ci(Ta,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},$l={clone:function(){return new Ta},divideAt:function(t){var e=new Zt(this.start,this.end),n=e.divideAt(t);return[n[1].isDifferentiable()?new En(n[0]):this.clone(),new En(n[1])]},divideAtLength:function(t){var e=new Zt(this.start,this.end),n=e.divideAtLength(t);return[n[1].isDifferentiable()?new En(n[0]):this.clone(),new En(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty($l,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty($l,"type",{configurable:!0,enumerable:!0,value:"Z"});Ta.prototype=co(Hs,Zt.prototype,$l);var uA=Ft.segmentTypes={L:En,C:Nr,M:Ys,Z:Ta,z:Ta};Ft.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(uA).join("")+",.]*$");Ft.isDataSupported=function(t){return typeof t!="string"?!1:this.regexSupportedData.test(t)};const lA={curveThroughPoints:function(t){return console.warn("deprecated"),new Ft(Ue.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],n=[],r=t.length-1,s;if(r==1)return e[0]=new V((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new V(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var u=[];for(s=1;s<r-1;s++)u[s]=4*t[s].x+2*t[s+1].x;u[0]=t[0].x+2*t[1].x,u[r-1]=(8*t[r-1].x+t[r].x)/2;var c=this.getFirstControlPoints(u);for(s=1;s<r-1;++s)u[s]=4*t[s].y+2*t[s+1].y;u[0]=t[0].y+2*t[1].y,u[r-1]=(8*t[r-1].y+t[r].y)/2;var h=this.getFirstControlPoints(u);for(s=0;s<r;s++)e.push(new V(c[s],h[s])),s<r-1?n.push(new V(2*t[s+1].x-c[s+1],2*t[s+1].y-h[s+1])):n.push(new V((t[r].x+c[r-1])/2,(t[r].y+h[r-1])/2));return[e,n]},getCurveDivider:function(t,e,n,r){console.warn("deprecated");var s=new Ue(t,e,n,r);return function(c){var h=s.divide(c);return[{p0:h[0].start,p1:h[0].controlPoint1,p2:h[0].controlPoint2,p3:h[0].end},{p0:h[1].start,p1:h[1].controlPoint1,p2:h[1].controlPoint2,p3:h[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],r=[],s=2;n[0]=t[0]/s;for(var u=1;u<e;u++)r[u]=1/s,s=(u<e-1?4:3.5)-r[u],n[u]=(t[u]-n[u-1])/s;for(u=1;u<e;u++)n[e-u-1]-=r[e-u]*n[e-u];return n},getInversionSolver:function(t,e,n,r){console.warn("deprecated");var s=new Ue(t,e,n,r);return function(c){return s.closestPointT(c)}}},dr=function(t){if(!(this instanceof dr))return new dr(t);if(typeof t=="string")return new dr.parse(t);this.points=Array.isArray(t)?t.map(V):[]};dr.parse=function(t){return new dr(Vh(t))};dr.fromRect=function(t){return new dr([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])};dr.prototype=co($e.prototype,{type:Ce.Polygon,clone:function(){return new dr(Hh(this.points))},convexHull:function(){return new dr(Jh(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});function qh(t,e,n,r){switch(t.type){case Ce.Line:{switch(e.type){case Ce.Line:return Us(t,e)}break}case Ce.Ellipse:{switch(e.type){case Ce.Line:return tc(t,e);case Ce.Ellipse:return $h(t,e)}break}case Ce.Rect:{switch(e.type){case Ce.Line:return tg(t,e);case Ce.Ellipse:return eg(t,e);case Ce.Rect:return ec(t,e)}break}case Ce.Polyline:{switch(e.type){case Ce.Line:return du(t,e);case Ce.Ellipse:return nc(t,e);case Ce.Rect:return ng(t,e);case Ce.Polyline:return rg(t,e)}break}case Ce.Polygon:{switch(e.type){case Ce.Line:return rc(t,e);case Ce.Ellipse:return pu(t,e);case Ce.Rect:return ig(t,e);case Ce.Polyline:return sg(t,e);case Ce.Polygon:return ag(t,e)}break}case Ce.Path:{switch(e.type){case Ce.Line:return og(t,e,n);case Ce.Ellipse:return ug(t,e,n);case Ce.Rect:return lg(t,e,n);case Ce.Polyline:return ic(t,e,n);case Ce.Polygon:return vu(t,e,n);case Ce.Path:return cg(t,e,n,r)}break}}switch(e.type){case Ce.Ellipse:case Ce.Rect:case Ce.Polyline:case Ce.Polygon:case Ce.Path:return qh(e,t,r,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function Us(t,e){const n=t.start.x,r=t.start.y,s=t.end.x,u=t.end.y,c=e.start.x,h=e.start.y,p=e.end.x,I=e.end.y,C=s-n,m=u-r,L=p-c,G=I-h,j=n-c,X=r-h,Q=C*G-L*m,J=(C*X-m*j)/Q,st=(L*X-G*j)/Q;return J>=0&&J<=1&&st>=0&&st<=1}function tc(t,e){const n=t.a,r=t.b,s=t.x,u=t.y,c=e.start.x-s,h=e.end.x-s,p=e.start.y-u,I=e.end.y-u,C=n*n,m=r*r,L=h-c,G=I-p,j=L*L/C+G*G/m,X=2*c*L/C+2*p*G/m,Q=c*c/C+p*p/m-1,J=X*X-4*j*Q;if(J===0){const st=-X/2/j;return st>=0&&st<=1}else if(J>0){const st=Math.sqrt(J),y=(-X+st)/2/j,M=(-X-st)/2/j;return y>=0&&y<=1||M>=0&&M<=1}return!1}function $h(t,e){return cA(t,0,e,0)}function tg(t,e){const{start:n,end:r}=e,{x:s,y:u,width:c,height:h}=t;return n.x>s+c&&r.x>s+c||n.x<s&&r.x<s||n.y>u+h&&r.y>u+h||n.y<u&&r.y<u?!1:t.containsPoint(e.start)||t.containsPoint(e.end)?!0:Us(t.topLine(),e)||Us(t.rightLine(),e)||Us(t.bottomLine(),e)||Us(t.leftLine(),e)}function eg(t,e){return ec(t,Et.fromEllipse(e))?pu(dr.fromRect(t),e):!1}function ec(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function du(t,e){return fg(t,e,{interior:!1})}function nc(t,e){return hg(t,e,{interior:!1})}function ng(t,e){return gg(t,e,{interior:!1})}function rg(t,e){return mu(t,e,{interior:!1})}function rc(t,e){return fg(t,e,{interior:!0})}function pu(t,e){return hg(t,e,{interior:!0})}function ig(t,e){return gg(t,e,{interior:!0})}function sg(t,e){return mu(t,e,{interior:!0})}function ag(t,e){return sc(t,e,{interior:!0})}function og(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:u}=r.getSegment(-1);return u==="Z"?rc(s,e):du(s,e)})}function ug(t,e,n){return t.getSubpaths().some(r=>{const[s]=r.toPolylines(n),{type:u}=r.getSegment(-1);return u==="Z"?pu(s,e):nc(s,e)})}function lg(t,e,n){return vu(t,dr.fromRect(e),n)}function ic(t,e,n){return dg(t,e,n,{interior:!1})}function vu(t,e,n){return dg(t,e,n,{interior:!0})}function cg(t,e,n,r){return t.getSubpaths().some(s=>{const[u]=s.toPolylines(n),{type:c}=s.getSegment(-1);return c==="Z"?vu(e,u,r):ic(e,u,r)})}function fg(t,e,n={}){const{interior:r=!1}=n;let s;if(r){if(t.containsPoint(e.start))return!0;const{start:h,end:p,points:I}=t;s=p.equals(h)?I:[...I,h]}else s=t.points;const{length:u}=s,c=new Zt;for(let h=0;h<u-1;h++)if(c.start=s[h],c.end=s[h+1],Us(e,c))return!0;return!1}function hg(t,e,n={}){const{start:r,end:s,points:u}=t;if(e.containsPoint(r))return!0;let c;const{interior:h=!1}=n;if(h){if(t.containsPoint(e.center()))return!0;c=s.equals(r)?u:[...u,r]}else c=u;const{length:p}=c,I=new Zt;for(let C=0;C<p-1;C++)if(I.start=c[C],I.end=c[C+1],tc(e,I))return!0;return!1}function gg(t,e,n){const r=dr.fromRect(e);return sc(t,r,n)}function dg(t,e,n,r){return t.getSubpaths().some(s=>{const[u]=s.toPolylines(n),{type:c}=s.getSegment(-1);return c==="Z"?sc(e,u,r):mu(e,u,r)})}function mu(t,e,n={}){const{interior:r=!1}=n;let s;if(r){const{start:p}=e;if(t.containsPoint(p))return!0;s=t.clone().close()}else s=t;const u=e.points,{length:c}=u,h=new Zt;for(let p=0;p<c-1;p++)if(h.start=u[p],h.end=u[p+1],du(s,h))return!0;return!1}function sc(t,e,n){return e.containsPoint(t.start)||mu(t,e.clone().close(),n)}function cA(t,e,n,r){const{cos:s,sin:u}=Math,c=u(e),h=s(e),p=u(r),I=s(r),C=c*c,m=h*h,L=c*h,G=p*p,j=I*I,X=p*I,Q=t.a*t.a,J=t.b*t.b,st=n.a*n.a,y=n.b*n.b,M=Q*C+J*m,D=st*G+y*j,d=Q*m+J*C,B=st*j+y*G;let q=2*(J-Q)*L,et=2*(y-st)*X,at=-2*M*t.x-q*t.y,wt=-2*D*n.x-et*n.y,pt=-q*t.x-2*d*t.y,Nt=-et*n.x-2*B*n.y;const St=M*t.x*t.x+d*t.y*t.y+q*t.x*t.y-Q*J,Dt=D*n.x*n.x+B*n.y*n.y+et*n.x*n.y-st*y;q=q/2,et=et/2,at=at/2,wt=wt/2,pt=pt/2,Nt=Nt/2;const _t=ls([[M,q,at],[q,d,pt],[at,pt,St]]),fe=ls([[D,et,wt],[et,B,Nt],[wt,Nt,Dt]]),ee=.33333333*(ls([[D,q,at],[et,d,pt],[wt,pt,St]])+ls([[M,et,at],[q,B,pt],[at,Nt,St]])+ls([[M,q,wt],[q,d,Nt],[at,pt,Dt]])),Se=.33333333*(ls([[M,et,wt],[q,B,Nt],[at,Nt,Dt]])+ls([[D,q,wt],[et,d,Nt],[wt,pt,Dt]])+ls([[D,et,at],[et,B,pt],[wt,Nt,St]])),Lt=qo([[_t,ee],[ee,Se]]),zt=qo([[_t,Se],[ee,fe]]),Wt=qo([[ee,Se],[Se,fe]]);return!(qo([[2*Lt,zt],[zt,2*Wt]])>0&&(Se>0||ee>0))}function qo(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function ls(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}const fA=Object.freeze(Object.defineProperty({__proto__:null,exists:qh,lineWithLine:Us,ellipseWithLine:tc,ellipseWithEllipse:$h,rectWithLine:tg,rectWithEllipse:eg,rectWithRect:ec,polylineWithLine:du,polylineWithEllipse:nc,polylineWithRect:ng,polylineWithPolyline:rg,polygonWithLine:rc,polygonWithEllipse:pu,polygonWithRect:ig,polygonWithPolyline:sg,polygonWithPolygon:ag,pathWithLine:og,pathWithEllipse:ug,pathWithRect:lg,pathWithPolyline:ic,pathWithPolygon:vu,pathWithPath:cg},Symbol.toStringTag,{value:"Module"})),hA=fA,gA=Object.freeze(Object.defineProperty({__proto__:null,intersection:hA,scale:KI,normalizeAngle:wi,snapToGrid:Xs,toDeg:gu,toRad:gr,random:jl,bezier:lA,Curve:Ue,Ellipse:tr,ellipse:nA,Line:Zt,line:Fs,Path:Ft,Point:V,point:uo,Polyline:$e,Polygon:dr,Rect:Et,rect:aA,types:Ce},Symbol.toStringTag,{value:"Module"}));var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pg={},Nl={exports:{}},dh;function dA(){return dh||(dh=1,function(t,e){(function(n,r){t.exports=r()})($n,function(){var n="1.13.4",r=typeof self=="object"&&self.self===self&&self||typeof $n=="object"&&$n.global===$n&&$n||Function("return this")()||{},s=Array.prototype,u=Object.prototype,c=typeof Symbol<"u"?Symbol.prototype:null,h=s.push,p=s.slice,I=u.toString,C=u.hasOwnProperty,m=typeof ArrayBuffer<"u",L=typeof DataView<"u",G=Array.isArray,j=Object.keys,X=Object.create,Q=m&&ArrayBuffer.isView,J=isNaN,st=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],D=Math.pow(2,53)-1;function d(x,P){return P=P==null?x.length-1:+P,function(){for(var _=Math.max(arguments.length-P,0),W=Array(_),o=0;o<_;o++)W[o]=arguments[o+P];switch(P){case 0:return x.call(this,W);case 1:return x.call(this,arguments[0],W);case 2:return x.call(this,arguments[0],arguments[1],W)}var l=Array(P+1);for(o=0;o<P;o++)l[o]=arguments[o];return l[P]=W,x.apply(this,l)}}function B(x){var P=typeof x;return P==="function"||P==="object"&&!!x}function q(x){return x===void 0}function et(x){return x===!0||x===!1||I.call(x)==="[object Boolean]"}function at(x){var P="[object "+x+"]";return function(_){return I.call(_)===P}}var wt=at("String"),pt=at("Number"),Nt=at("Date"),St=at("RegExp"),Dt=at("Error"),_t=at("Symbol"),fe=at("ArrayBuffer"),ee=at("Function"),Se=r.document&&r.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Se!="function"&&(ee=function(x){return typeof x=="function"||!1});var Lt=ee,zt=at("Object"),Wt=L&&zt(new DataView(new ArrayBuffer(8))),Gt=typeof Map<"u"&&zt(new Map),re=at("DataView"),ce=Wt?function(x){return x!=null&&Lt(x.getInt8)&&fe(x.buffer)}:re,he=G||at("Array");function Yt(x,P){return x!=null&&C.call(x,P)}var Ie=at("Arguments");(function(){Ie(arguments)||(Ie=function(x){return Yt(x,"callee")})})();var Vt=Ie;function Kt(x){return pt(x)&&J(x)}function ie(x){return function(){return x}}function Bt(x){return function(P){var _=x(P);return typeof _=="number"&&_>=0&&_<=D}}function xt(x){return function(P){return P==null?void 0:P[x]}}var N=xt("byteLength"),z=Bt(N),Z=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,$=m?function(x){return Q?Q(x)&&!ce(x):z(x)&&Z.test(I.call(x))}:ie(!1),ht=xt("length");function It(x,P){P=function(g){for(var v={},w=g.length,b=0;b<w;++b)v[g[b]]=!0;return{contains:function(T){return v[T]===!0},push:function(T){return v[T]=!0,g.push(T)}}}(P);var _=M.length,W=x.constructor,o=Lt(W)&&W.prototype||u,l="constructor";for(Yt(x,l)&&!P.contains(l)&&P.push(l);_--;)(l=M[_])in x&&x[l]!==o[l]&&!P.contains(l)&&P.push(l)}function Mt(x){if(!B(x))return[];if(j)return j(x);var P=[];for(var _ in x)Yt(x,_)&&P.push(_);return y&&It(x,P),P}function Ht(x,P){var _=Mt(P),W=_.length;if(x==null)return!W;for(var o=Object(x),l=0;l<W;l++){var g=_[l];if(P[g]!==o[g]||!(g in o))return!1}return!0}function kt(x){return x instanceof kt?x:this instanceof kt?void(this._wrapped=x):new kt(x)}function se(x){return new Uint8Array(x.buffer||x,x.byteOffset||0,N(x))}kt.VERSION=n,kt.prototype.value=function(){return this._wrapped},kt.prototype.valueOf=kt.prototype.toJSON=kt.prototype.value,kt.prototype.toString=function(){return String(this._wrapped)};var Ze="[object DataView]";function me(x,P,_,W){if(x===P)return x!==0||1/x==1/P;if(x==null||P==null)return!1;if(x!=x)return P!=P;var o=typeof x;return(o==="function"||o==="object"||typeof P=="object")&&function l(g,v,w,b){g instanceof kt&&(g=g._wrapped),v instanceof kt&&(v=v._wrapped);var T=I.call(g);if(T!==I.call(v))return!1;if(Wt&&T=="[object Object]"&&ce(g)){if(!ce(v))return!1;T=Ze}switch(T){case"[object RegExp]":case"[object String]":return""+g==""+v;case"[object Number]":return+g!=+g?+v!=+v:+g==0?1/+g==1/v:+g==+v;case"[object Date]":case"[object Boolean]":return+g==+v;case"[object Symbol]":return c.valueOf.call(g)===c.valueOf.call(v);case"[object ArrayBuffer]":case Ze:return l(se(g),se(v),w,b)}var U=T==="[object Array]";if(!U&&$(g)){if(N(g)!==N(v))return!1;if(g.buffer===v.buffer&&g.byteOffset===v.byteOffset)return!0;U=!0}if(!U){if(typeof g!="object"||typeof v!="object")return!1;var R=g.constructor,nt=v.constructor;if(R!==nt&&!(Lt(R)&&R instanceof R&&Lt(nt)&&nt instanceof nt)&&"constructor"in g&&"constructor"in v)return!1}b=b||[];for(var ut=(w=w||[]).length;ut--;)if(w[ut]===g)return b[ut]===v;if(w.push(g),b.push(v),U){if((ut=g.length)!==v.length)return!1;for(;ut--;)if(!me(g[ut],v[ut],w,b))return!1}else{var mt,ot=Mt(g);if(ut=ot.length,Mt(v).length!==ut)return!1;for(;ut--;)if(mt=ot[ut],!Yt(v,mt)||!me(g[mt],v[mt],w,b))return!1}return w.pop(),b.pop(),!0}(x,P,_,W)}function Je(x){if(!B(x))return[];var P=[];for(var _ in x)P.push(_);return y&&It(x,P),P}function un(x){var P=ht(x);return function(_){if(_==null)return!1;var W=Je(_);if(ht(W))return!1;for(var o=0;o<P;o++)if(!Lt(_[x[o]]))return!1;return x!==Nn||!Lt(_[mn])}}var mn="forEach",Xe="has",He=["clear","delete"],fn=["get",Xe,"set"],In=He.concat(mn,fn),Nn=He.concat(fn),pr=["add"].concat(He,mn,Xe),vr=Gt?un(In):at("Map"),Qe=Gt?un(Nn):at("WeakMap"),sn=Gt?un(pr):at("Set"),ei=at("WeakSet");function mr(x){for(var P=Mt(x),_=P.length,W=Array(_),o=0;o<_;o++)W[o]=x[P[o]];return W}function bi(x){for(var P={},_=Mt(x),W=0,o=_.length;W<o;W++)P[x[_[W]]]=_[W];return P}function Mn(x){var P=[];for(var _ in x)Lt(x[_])&&P.push(_);return P.sort()}function Ir(x,P){return function(_){var W=arguments.length;if(P&&(_=Object(_)),W<2||_==null)return _;for(var o=1;o<W;o++)for(var l=arguments[o],g=x(l),v=g.length,w=0;w<v;w++){var b=g[w];P&&_[b]!==void 0||(_[b]=l[b])}return _}}var Fr=Ir(Je),Vi=Ir(Mt),Ks=Ir(Je,!0);function Hi(x){if(!B(x))return{};if(X)return X(x);var P=function(){};P.prototype=x;var _=new P;return P.prototype=null,_}function ni(x){return he(x)?x:[x]}function xi(x){return kt.toPath(x)}function ds(x,P){for(var _=P.length,W=0;W<_;W++){if(x==null)return;x=x[P[W]]}return _?x:void 0}function qs(x,P,_){var W=ds(x,xi(P));return q(W)?_:W}function ri(x){return x}function Ni(x){return x=Vi({},x),function(P){return Ht(P,x)}}function Mi(x){return x=xi(x),function(P){return ds(P,x)}}function ii(x,P,_){if(P===void 0)return x;switch(_==null?3:_){case 1:return function(W){return x.call(P,W)};case 3:return function(W,o,l){return x.call(P,W,o,l)};case 4:return function(W,o,l,g){return x.call(P,W,o,l,g)}}return function(){return x.apply(P,arguments)}}function $s(x,P,_){return x==null?ri:Lt(x)?ii(x,P,_):B(x)&&!he(x)?Ni(x):Mi(x)}function Mr(x,P){return $s(x,P,1/0)}function An(x,P,_){return kt.iteratee!==Mr?kt.iteratee(x,P):$s(x,P,_)}function Ji(){}function Si(x,P){return P==null&&(P=x,x=0),x+Math.floor(Math.random()*(P-x+1))}kt.toPath=ni,kt.iteratee=Mr;var Sr=Date.now||function(){return new Date().getTime()};function ps(x){var P=function(l){return x[l]},_="(?:"+Mt(x).join("|")+")",W=RegExp(_),o=RegExp(_,"g");return function(l){return l=l==null?"":""+l,W.test(l)?l.replace(o,P):l}}var vs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ta=ps(vs),Pa=ps(bi(vs)),Ti=kt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Qi=/(.)^/,ea={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},na=/\\|'|\r|\n|\u2028|\u2029/g;function Di(x){return"\\"+ea[x]}var ka=/^\s*(\w|\$)+\s*$/,si=0;function ra(x,P,_,W,o){if(!(W instanceof P))return x.apply(_,o);var l=Hi(x.prototype),g=x.apply(l,o);return B(g)?g:l}var ai=d(function(x,P){var _=ai.placeholder,W=function(){for(var o=0,l=P.length,g=Array(l),v=0;v<l;v++)g[v]=P[v]===_?arguments[o++]:P[v];for(;o<arguments.length;)g.push(arguments[o++]);return ra(x,W,this,this,g)};return W});ai.placeholder=kt;var ms=d(function(x,P,_){if(!Lt(x))throw new TypeError("Bind must be called on a function");var W=d(function(o){return ra(x,W,P,this,_.concat(o))});return W}),Cn=Bt(ht);function nr(x,P,_,W){if(W=W||[],P||P===0){if(P<=0)return W.concat(x)}else P=1/0;for(var o=W.length,l=0,g=ht(x);l<g;l++){var v=x[l];if(Cn(v)&&(he(v)||Vt(v)))if(P>1)nr(v,P-1,_,W),o=W.length;else for(var w=0,b=v.length;w<b;)W[o++]=v[w++];else _||(W[o++]=v)}return W}var Is=d(function(x,P){var _=(P=nr(P,!1,!1)).length;if(_<1)throw new Error("bindAll must be passed function names");for(;_--;){var W=P[_];x[W]=ms(x[W],x)}return x}),yn=d(function(x,P,_){return setTimeout(function(){return x.apply(null,_)},P)}),oi=ai(yn,kt,1);function ui(x){return function(){return!x.apply(this,arguments)}}function ia(x,P){var _;return function(){return--x>0&&(_=P.apply(this,arguments)),x<=1&&(P=null),_}}var sa=ai(ia,2);function Li(x,P,_){P=An(P,_);for(var W,o=Mt(x),l=0,g=o.length;l<g;l++)if(P(x[W=o[l]],W,x))return W}function Ki(x){return function(P,_,W){_=An(_,W);for(var o=ht(P),l=x>0?0:o-1;l>=0&&l<o;l+=x)if(_(P[l],l,P))return l;return-1}}var Tr=Ki(1),As=Ki(-1);function Cs(x,P,_,W){for(var o=(_=An(_,W,1))(P),l=0,g=ht(x);l<g;){var v=Math.floor((l+g)/2);_(x[v])<o?l=v+1:g=v}return l}function Pi(x,P,_){return function(W,o,l){var g=0,v=ht(W);if(typeof l=="number")x>0?g=l>=0?l:Math.max(l+v,g):v=l>=0?Math.min(l+1,v):l+v+1;else if(_&&l&&v)return W[l=_(W,o)]===o?l:-1;if(o!=o)return(l=P(p.call(W,g,v),Kt))>=0?l+g:-1;for(l=x>0?g:v-1;l>=0&&l<v;l+=x)if(W[l]===o)return l;return-1}}var zn=Pi(1,Tr,Cs),aa=Pi(-1,As);function Dr(x,P,_){var W=(Cn(x)?Tr:Li)(x,P,_);if(W!==void 0&&W!==-1)return x[W]}function rr(x,P,_){var W,o;if(P=ii(P,_),Cn(x))for(W=0,o=x.length;W<o;W++)P(x[W],W,x);else{var l=Mt(x);for(W=0,o=l.length;W<o;W++)P(x[l[W]],l[W],x)}return x}function Ar(x,P,_){P=An(P,_);for(var W=!Cn(x)&&Mt(x),o=(W||x).length,l=Array(o),g=0;g<o;g++){var v=W?W[g]:g;l[g]=P(x[v],v,x)}return l}function Lr(x){var P=function(_,W,o,l){var g=!Cn(_)&&Mt(_),v=(g||_).length,w=x>0?0:v-1;for(l||(o=_[g?g[w]:w],w+=x);w>=0&&w<v;w+=x){var b=g?g[w]:w;o=W(o,_[b],b,_)}return o};return function(_,W,o,l){var g=arguments.length>=3;return P(_,ii(W,l,4),o,g)}}var ir=Lr(1),li=Lr(-1);function Pr(x,P,_){var W=[];return P=An(P,_),rr(x,function(o,l,g){P(o,l,g)&&W.push(o)}),W}function kr(x,P,_){P=An(P,_);for(var W=!Cn(x)&&Mt(x),o=(W||x).length,l=0;l<o;l++){var g=W?W[l]:l;if(!P(x[g],g,x))return!1}return!0}function qi(x,P,_){P=An(P,_);for(var W=!Cn(x)&&Mt(x),o=(W||x).length,l=0;l<o;l++){var g=W?W[l]:l;if(P(x[g],g,x))return!0}return!1}function Sn(x,P,_,W){return Cn(x)||(x=mr(x)),(typeof _!="number"||W)&&(_=0),zn(x,P,_)>=0}var oa=d(function(x,P,_){var W,o;return Lt(P)?o=P:(P=xi(P),W=P.slice(0,-1),P=P[P.length-1]),Ar(x,function(l){var g=o;if(!g){if(W&&W.length&&(l=ds(l,W)),l==null)return;g=l[P]}return g==null?g:g.apply(l,_)})});function ci(x,P){return Ar(x,Mi(P))}function ys(x,P,_){var W,o,l=-1/0,g=-1/0;if(P==null||typeof P=="number"&&typeof x[0]!="object"&&x!=null)for(var v=0,w=(x=Cn(x)?x:mr(x)).length;v<w;v++)(W=x[v])!=null&&W>l&&(l=W);else P=An(P,_),rr(x,function(b,T,U){((o=P(b,T,U))>g||o===-1/0&&l===-1/0)&&(l=b,g=o)});return l}var ws=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function bs(x){return x?he(x)?p.call(x):wt(x)?x.match(ws):Cn(x)?Ar(x,ri):mr(x):[]}function ua(x,P,_){if(P==null||_)return Cn(x)||(x=mr(x)),x[Si(x.length-1)];var W=bs(x),o=ht(W);P=Math.max(Math.min(P,o),0);for(var l=o-1,g=0;g<P;g++){var v=Si(g,l),w=W[g];W[g]=W[v],W[v]=w}return W.slice(0,P)}function fi(x,P){return function(_,W,o){var l=P?[[],[]]:{};return W=An(W,o),rr(_,function(g,v){var w=W(g,v,_);x(l,g,w)}),l}}var za=fi(function(x,P,_){Yt(x,_)?x[_].push(P):x[_]=[P]}),la=fi(function(x,P,_){x[_]=P}),Oa=fi(function(x,P,_){Yt(x,_)?x[_]++:x[_]=1}),Ea=fi(function(x,P,_){x[_?0:1].push(P)},!0);function ja(x,P,_){return P in _}var ca=d(function(x,P){var _={},W=P[0];if(x==null)return _;Lt(W)?(P.length>1&&(W=ii(W,P[1])),P=Je(x)):(W=ja,P=nr(P,!1,!1),x=Object(x));for(var o=0,l=P.length;o<l;o++){var g=P[o],v=x[g];W(v,g,x)&&(_[g]=v)}return _}),xs=d(function(x,P){var _,W=P[0];return Lt(W)?(W=ui(W),P.length>1&&(_=P[1])):(P=Ar(nr(P,!1,!1),String),W=function(o,l){return!Sn(P,l)}),ca(x,W,_)});function Ns(x,P,_){return p.call(x,0,Math.max(0,x.length-(P==null||_?1:P)))}function ki(x,P,_){return x==null||x.length<1?P==null||_?void 0:[]:P==null||_?x[0]:Ns(x,x.length-P)}function zi(x,P,_){return p.call(x,P==null||_?1:P)}var $i=d(function(x,P){return P=nr(P,!0,!0),Pr(x,function(_){return!Sn(P,_)})}),fa=d(function(x,P){return $i(x,P)});function _e(x,P,_,W){et(P)||(W=_,_=P,P=!1),_!=null&&(_=An(_,W));for(var o=[],l=[],g=0,v=ht(x);g<v;g++){var w=x[g],b=_?_(w,g,x):w;P&&!_?(g&&l===b||o.push(w),l=b):_?Sn(l,b)||(l.push(b),o.push(w)):Sn(o,w)||o.push(w)}return o}var We=d(function(x){return _e(nr(x,!0,!0))});function Ms(x){for(var P=x&&ys(x,ht).length||0,_=Array(P),W=0;W<P;W++)_[W]=ci(x,W);return _}var Za=d(Ms);function Ss(x,P){return x._chain?kt(P).chain():P}function hi(x){return rr(Mn(x),function(P){var _=kt[P]=x[P];kt.prototype[P]=function(){var W=[this._wrapped];return h.apply(W,arguments),Ss(this,_.apply(kt,W))}}),kt}rr(["pop","push","reverse","shift","sort","splice","unshift"],function(x){var P=s[x];kt.prototype[x]=function(){var _=this._wrapped;return _!=null&&(P.apply(_,arguments),x!=="shift"&&x!=="splice"||_.length!==0||delete _[0]),Ss(this,_)}}),rr(["concat","join","slice"],function(x){var P=s[x];kt.prototype[x]=function(){var _=this._wrapped;return _!=null&&(_=P.apply(_,arguments)),Ss(this,_)}});var ts=hi({__proto__:null,VERSION:n,restArguments:d,isObject:B,isNull:function(x){return x===null},isUndefined:q,isBoolean:et,isElement:function(x){return!(!x||x.nodeType!==1)},isString:wt,isNumber:pt,isDate:Nt,isRegExp:St,isError:Dt,isSymbol:_t,isArrayBuffer:fe,isDataView:ce,isArray:he,isFunction:Lt,isArguments:Vt,isFinite:function(x){return!_t(x)&&st(x)&&!isNaN(parseFloat(x))},isNaN:Kt,isTypedArray:$,isEmpty:function(x){if(x==null)return!0;var P=ht(x);return typeof P=="number"&&(he(x)||wt(x)||Vt(x))?P===0:ht(Mt(x))===0},isMatch:Ht,isEqual:function(x,P){return me(x,P)},isMap:vr,isWeakMap:Qe,isSet:sn,isWeakSet:ei,keys:Mt,allKeys:Je,values:mr,pairs:function(x){for(var P=Mt(x),_=P.length,W=Array(_),o=0;o<_;o++)W[o]=[P[o],x[P[o]]];return W},invert:bi,functions:Mn,methods:Mn,extend:Fr,extendOwn:Vi,assign:Vi,defaults:Ks,create:function(x,P){var _=Hi(x);return P&&Vi(_,P),_},clone:function(x){return B(x)?he(x)?x.slice():Fr({},x):x},tap:function(x,P){return P(x),x},get:qs,has:function(x,P){for(var _=(P=xi(P)).length,W=0;W<_;W++){var o=P[W];if(!Yt(x,o))return!1;x=x[o]}return!!_},mapObject:function(x,P,_){P=An(P,_);for(var W=Mt(x),o=W.length,l={},g=0;g<o;g++){var v=W[g];l[v]=P(x[v],v,x)}return l},identity:ri,constant:ie,noop:Ji,toPath:ni,property:Mi,propertyOf:function(x){return x==null?Ji:function(P){return qs(x,P)}},matcher:Ni,matches:Ni,times:function(x,P,_){var W=Array(Math.max(0,x));P=ii(P,_,1);for(var o=0;o<x;o++)W[o]=P(o);return W},random:Si,now:Sr,escape:ta,unescape:Pa,templateSettings:Ti,template:function(x,P,_){!P&&_&&(P=_),P=Ks({},P,kt.templateSettings);var W=RegExp([(P.escape||Qi).source,(P.interpolate||Qi).source,(P.evaluate||Qi).source].join("|")+"|$","g"),o=0,l="__p+='";x.replace(W,function(b,T,U,R,nt){return l+=x.slice(o,nt).replace(na,Di),o=nt+b.length,T?l+=`'+
((__t=(`+T+`))==null?'':_.escape(__t))+
'`:U?l+=`'+
((__t=(`+U+`))==null?'':__t)+
'`:R&&(l+=`';
`+R+`
__p+='`),b}),l+=`';
`;var g,v=P.variable;if(v){if(!ka.test(v))throw new Error("variable is not a bare identifier: "+v)}else l=`with(obj||{}){
`+l+`}
`,v="obj";l=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+l+`return __p;
`;try{g=new Function(v,"_",l)}catch(b){throw b.source=l,b}var w=function(b){return g.call(this,b,kt)};return w.source="function("+v+`){
`+l+"}",w},result:function(x,P,_){var W=(P=xi(P)).length;if(!W)return Lt(_)?_.call(x):_;for(var o=0;o<W;o++){var l=x==null?void 0:x[P[o]];l===void 0&&(l=_,o=W),x=Lt(l)?l.call(x):l}return x},uniqueId:function(x){var P=++si+"";return x?x+P:P},chain:function(x){var P=kt(x);return P._chain=!0,P},iteratee:Mr,partial:ai,bind:ms,bindAll:Is,memoize:function(x,P){var _=function(W){var o=_.cache,l=""+(P?P.apply(this,arguments):W);return Yt(o,l)||(o[l]=x.apply(this,arguments)),o[l]};return _.cache={},_},delay:yn,defer:oi,throttle:function(x,P,_){var W,o,l,g,v=0;_||(_={});var w=function(){v=_.leading===!1?0:Sr(),W=null,g=x.apply(o,l),W||(o=l=null)},b=function(){var T=Sr();v||_.leading!==!1||(v=T);var U=P-(T-v);return o=this,l=arguments,U<=0||U>P?(W&&(clearTimeout(W),W=null),v=T,g=x.apply(o,l),W||(o=l=null)):W||_.trailing===!1||(W=setTimeout(w,U)),g};return b.cancel=function(){clearTimeout(W),v=0,W=o=l=null},b},debounce:function(x,P,_){var W,o,l,g,v,w=function(){var T=Sr()-o;P>T?W=setTimeout(w,P-T):(W=null,_||(g=x.apply(v,l)),W||(l=v=null))},b=d(function(T){return v=this,l=T,o=Sr(),W||(W=setTimeout(w,P),_&&(g=x.apply(v,l))),g});return b.cancel=function(){clearTimeout(W),W=l=v=null},b},wrap:function(x,P){return ai(P,x)},negate:ui,compose:function(){var x=arguments,P=x.length-1;return function(){for(var _=P,W=x[P].apply(this,arguments);_--;)W=x[_].call(this,W);return W}},after:function(x,P){return function(){if(--x<1)return P.apply(this,arguments)}},before:ia,once:sa,findKey:Li,findIndex:Tr,findLastIndex:As,sortedIndex:Cs,indexOf:zn,lastIndexOf:aa,find:Dr,detect:Dr,findWhere:function(x,P){return Dr(x,Ni(P))},each:rr,forEach:rr,map:Ar,collect:Ar,reduce:ir,foldl:ir,inject:ir,reduceRight:li,foldr:li,filter:Pr,select:Pr,reject:function(x,P,_){return Pr(x,ui(An(P)),_)},every:kr,all:kr,some:qi,any:qi,contains:Sn,includes:Sn,include:Sn,invoke:oa,pluck:ci,where:function(x,P){return Pr(x,Ni(P))},max:ys,min:function(x,P,_){var W,o,l=1/0,g=1/0;if(P==null||typeof P=="number"&&typeof x[0]!="object"&&x!=null)for(var v=0,w=(x=Cn(x)?x:mr(x)).length;v<w;v++)(W=x[v])!=null&&W<l&&(l=W);else P=An(P,_),rr(x,function(b,T,U){((o=P(b,T,U))<g||o===1/0&&l===1/0)&&(l=b,g=o)});return l},shuffle:function(x){return ua(x,1/0)},sample:ua,sortBy:function(x,P,_){var W=0;return P=An(P,_),ci(Ar(x,function(o,l,g){return{value:o,index:W++,criteria:P(o,l,g)}}).sort(function(o,l){var g=o.criteria,v=l.criteria;if(g!==v){if(g>v||g===void 0)return 1;if(g<v||v===void 0)return-1}return o.index-l.index}),"value")},groupBy:za,indexBy:la,countBy:Oa,partition:Ea,toArray:bs,size:function(x){return x==null?0:Cn(x)?x.length:Mt(x).length},pick:ca,omit:xs,first:ki,head:ki,take:ki,initial:Ns,last:function(x,P,_){return x==null||x.length<1?P==null||_?void 0:[]:P==null||_?x[x.length-1]:zi(x,Math.max(0,x.length-P))},rest:zi,tail:zi,drop:zi,compact:function(x){return Pr(x,Boolean)},flatten:function(x,P){return nr(x,P,!1)},without:fa,uniq:_e,unique:_e,union:We,intersection:function(x){for(var P=[],_=arguments.length,W=0,o=ht(x);W<o;W++){var l=x[W];if(!Sn(P,l)){var g;for(g=1;g<_&&Sn(arguments[g],l);g++);g===_&&P.push(l)}}return P},difference:$i,unzip:Ms,transpose:Ms,zip:Za,object:function(x,P){for(var _={},W=0,o=ht(x);W<o;W++)P?_[x[W]]=P[W]:_[x[W][0]]=x[W][1];return _},range:function(x,P,_){P==null&&(P=x||0,x=0),_||(_=P<x?-1:1);for(var W=Math.max(Math.ceil((P-x)/_),0),o=Array(W),l=0;l<W;l++,x+=_)o[l]=x;return o},chunk:function(x,P){if(P==null||P<1)return[];for(var _=[],W=0,o=x.length;W<o;)_.push(p.call(x,W,W+=P));return _},mixin:hi,default:kt});return ts._=ts,ts})}(Nl)),Nl.exports}var ac={exports:{}};/*!
 * jQuery JavaScript Library v3.6.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-08-26T17:52Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:$n,function(e,n){var r=[],s=Object.getPrototypeOf,u=r.slice,c=r.flat?function(o){return r.flat.call(o)}:function(o){return r.concat.apply([],o)},h=r.push,p=r.indexOf,I={},C=I.toString,m=I.hasOwnProperty,L=m.toString,G=L.call(Object),j={},X=function(l){return typeof l=="function"&&typeof l.nodeType!="number"&&typeof l.item!="function"},Q=function(l){return l!=null&&l===l.window},J=e.document,st={type:!0,src:!0,nonce:!0,noModule:!0};function y(o,l,g){g=g||J;var v,w,b=g.createElement("script");if(b.text=o,l)for(v in st)w=l[v]||l.getAttribute&&l.getAttribute(v),w&&b.setAttribute(v,w);g.head.appendChild(b).parentNode.removeChild(b)}function M(o){return o==null?o+"":typeof o=="object"||typeof o=="function"?I[C.call(o)]||"object":typeof o}var D="3.6.1",d=function(o,l){return new d.fn.init(o,l)};d.fn=d.prototype={jquery:D,constructor:d,length:0,toArray:function(){return u.call(this)},get:function(o){return o==null?u.call(this):o<0?this[o+this.length]:this[o]},pushStack:function(o){var l=d.merge(this.constructor(),o);return l.prevObject=this,l},each:function(o){return d.each(this,o)},map:function(o){return this.pushStack(d.map(this,function(l,g){return o.call(l,g,l)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(o,l){return(l+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(o,l){return l%2}))},eq:function(o){var l=this.length,g=+o+(o<0?l:0);return this.pushStack(g>=0&&g<l?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:r.sort,splice:r.splice},d.extend=d.fn.extend=function(){var o,l,g,v,w,b,T=arguments[0]||{},U=1,R=arguments.length,nt=!1;for(typeof T=="boolean"&&(nt=T,T=arguments[U]||{},U++),typeof T!="object"&&!X(T)&&(T={}),U===R&&(T=this,U--);U<R;U++)if((o=arguments[U])!=null)for(l in o)v=o[l],!(l==="__proto__"||T===v)&&(nt&&v&&(d.isPlainObject(v)||(w=Array.isArray(v)))?(g=T[l],w&&!Array.isArray(g)?b=[]:!w&&!d.isPlainObject(g)?b={}:b=g,w=!1,T[l]=d.extend(nt,b,v)):v!==void 0&&(T[l]=v));return T},d.extend({expando:"jQuery"+(D+Math.random()).replace(/\D/g,""),isReady:!0,error:function(o){throw new Error(o)},noop:function(){},isPlainObject:function(o){var l,g;return!o||C.call(o)!=="[object Object]"?!1:(l=s(o),l?(g=m.call(l,"constructor")&&l.constructor,typeof g=="function"&&L.call(g)===G):!0)},isEmptyObject:function(o){var l;for(l in o)return!1;return!0},globalEval:function(o,l,g){y(o,{nonce:l&&l.nonce},g)},each:function(o,l){var g,v=0;if(B(o))for(g=o.length;v<g&&l.call(o[v],v,o[v])!==!1;v++);else for(v in o)if(l.call(o[v],v,o[v])===!1)break;return o},makeArray:function(o,l){var g=l||[];return o!=null&&(B(Object(o))?d.merge(g,typeof o=="string"?[o]:o):h.call(g,o)),g},inArray:function(o,l,g){return l==null?-1:p.call(l,o,g)},merge:function(o,l){for(var g=+l.length,v=0,w=o.length;v<g;v++)o[w++]=l[v];return o.length=w,o},grep:function(o,l,g){for(var v,w=[],b=0,T=o.length,U=!g;b<T;b++)v=!l(o[b],b),v!==U&&w.push(o[b]);return w},map:function(o,l,g){var v,w,b=0,T=[];if(B(o))for(v=o.length;b<v;b++)w=l(o[b],b,g),w!=null&&T.push(w);else for(b in o)w=l(o[b],b,g),w!=null&&T.push(w);return c(T)},guid:1,support:j}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=r[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(o,l){I["[object "+l+"]"]=l.toLowerCase()});function B(o){var l=!!o&&"length"in o&&o.length,g=M(o);return X(o)||Q(o)?!1:g==="array"||l===0||typeof l=="number"&&l>0&&l-1 in o}var q=function(o){var l,g,v,w,b,T,U,R,nt,ut,mt,ot,ft,Xt,ge,Rt,en,nn,xe,Te="sizzle"+1*new Date,ue=o.document,Zn=0,De=0,tn=Rn(),Ts=Rn(),ha=Rn(),Gn=Rn(),zr=function(O,F){return O===F&&(mt=!0),0},sr={}.hasOwnProperty,Bn=[],Xr=Bn.pop,Fn=Bn.push,Or=Bn.push,ga=Bn.slice,gi=function(O,F){for(var K=0,vt=O.length;K<vt;K++)if(O[K]===F)return K;return-1},Ga="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ge="[\\x20\\t\\r\\n\\f]",Vr="(?:\\\\[\\da-fA-F]{1,6}"+Ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",po="\\["+Ge+"*("+Vr+")(?:"+Ge+"*([*^$|!~]?=)"+Ge+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Vr+"))|)"+Ge+"*\\]",da=":("+Vr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+po+")*)|.*)\\)|)",Xn=new RegExp(Ge+"+","g"),es=new RegExp("^"+Ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ge+"+$","g"),Ds=new RegExp("^"+Ge+"*,"+Ge+"*"),Ba=new RegExp("^"+Ge+"*([>+~]|"+Ge+")"+Ge+"*"),vo=new RegExp(Ge+"|>"),Cu=new RegExp(da),yu=new RegExp("^"+Vr+"$"),pa={ID:new RegExp("^#("+Vr+")"),CLASS:new RegExp("^\\.("+Vr+")"),TAG:new RegExp("^("+Vr+"|[*])"),ATTR:new RegExp("^"+po),PSEUDO:new RegExp("^"+da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ge+"*(even|odd|(([+-]|)(\\d*)n|)"+Ge+"*(?:([+-]|)"+Ge+"*(\\d+)|))"+Ge+"*\\)|)","i"),bool:new RegExp("^(?:"+Ga+")$","i"),needsContext:new RegExp("^"+Ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ge+"*((?:-\\d)?\\d*)"+Ge+"*\\)|)(?=[^-]|$)","i")},wu=/HTML$/i,bu=/^(?:input|select|textarea|button)$/i,ns=/^h\d$/i,Ls=/^[^{]+\{\s*\[native \w/,xu=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ps=/[+~]/,Er=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ge+"?|\\\\([^\\r\\n\\f])","g"),Tn=function(O,F){var K="0x"+O.slice(1)-65536;return F||(K<0?String.fromCharCode(K+65536):String.fromCharCode(K>>10|55296,K&1023|56320))},ks=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,mo=function(O,F){return F?O==="\0"?"\uFFFD":O.slice(0,-1)+"\\"+O.charCodeAt(O.length-1).toString(16)+" ":"\\"+O},Io=function(){ot()},Nu=le(function(O){return O.disabled===!0&&O.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Or.apply(Bn=ga.call(ue.childNodes),ue.childNodes),Bn[ue.childNodes.length].nodeType}catch{Or={apply:Bn.length?function(F,K){Fn.apply(F,ga.call(K))}:function(F,K){for(var vt=F.length,rt=0;F[vt++]=K[rt++];);F.length=vt-1}}}function Be(O,F,K,vt){var rt,lt,yt,Tt,Pt,$t,Qt,te=F&&F.ownerDocument,pe=F?F.nodeType:9;if(K=K||[],typeof O!="string"||!O||pe!==1&&pe!==9&&pe!==11)return K;if(!vt&&(ot(F),F=F||ft,ge)){if(pe!==11&&(Pt=xu.exec(O)))if(rt=Pt[1]){if(pe===9)if(yt=F.getElementById(rt)){if(yt.id===rt)return K.push(yt),K}else return K;else if(te&&(yt=te.getElementById(rt))&&xe(F,yt)&&yt.id===rt)return K.push(yt),K}else{if(Pt[2])return Or.apply(K,F.getElementsByTagName(O)),K;if((rt=Pt[3])&&g.getElementsByClassName&&F.getElementsByClassName)return Or.apply(K,F.getElementsByClassName(rt)),K}if(g.qsa&&!Gn[O+" "]&&(!Rt||!Rt.test(O))&&(pe!==1||F.nodeName.toLowerCase()!=="object")){if(Qt=O,te=F,pe===1&&(vo.test(O)||Ba.test(O))){for(te=Ps.test(O)&&dt(F.parentNode)||F,(te!==F||!g.scope)&&((Tt=F.getAttribute("id"))?Tt=Tt.replace(ks,mo):F.setAttribute("id",Tt=Te)),$t=T(O),lt=$t.length;lt--;)$t[lt]=(Tt?"#"+Tt:":scope")+" "+jt($t[lt]);Qt=$t.join(",")}try{return Or.apply(K,te.querySelectorAll(Qt)),K}catch{Gn(O,!0)}finally{Tt===Te&&F.removeAttribute("id")}}}return R(O.replace(es,"$1"),F,K,vt)}function Rn(){var O=[];function F(K,vt){return O.push(K+" ")>v.cacheLength&&delete F[O.shift()],F[K+" "]=vt}return F}function ar(O){return O[Te]=!0,O}function Cr(O){var F=ft.createElement("fieldset");try{return!!O(F)}catch{return!1}finally{F.parentNode&&F.parentNode.removeChild(F),F=null}}function Ra(O,F){for(var K=O.split("|"),vt=K.length;vt--;)v.attrHandle[K[vt]]=F}function Ao(O,F){var K=F&&O,vt=K&&O.nodeType===1&&F.nodeType===1&&O.sourceIndex-F.sourceIndex;if(vt)return vt;if(K){for(;K=K.nextSibling;)if(K===F)return-1}return O?1:-1}function Mu(O){return function(F){var K=F.nodeName.toLowerCase();return K==="input"&&F.type===O}}function Su(O){return function(F){var K=F.nodeName.toLowerCase();return(K==="input"||K==="button")&&F.type===O}}function Oi(O){return function(F){return"form"in F?F.parentNode&&F.disabled===!1?"label"in F?"label"in F.parentNode?F.parentNode.disabled===O:F.disabled===O:F.isDisabled===O||F.isDisabled!==!O&&Nu(F)===O:F.disabled===O:"label"in F?F.disabled===O:!1}}function tt(O){return ar(function(F){return F=+F,ar(function(K,vt){for(var rt,lt=O([],K.length,F),yt=lt.length;yt--;)K[rt=lt[yt]]&&(K[rt]=!(vt[rt]=K[rt]))})})}function dt(O){return O&&typeof O.getElementsByTagName<"u"&&O}g=Be.support={},b=Be.isXML=function(O){var F=O&&O.namespaceURI,K=O&&(O.ownerDocument||O).documentElement;return!wu.test(F||K&&K.nodeName||"HTML")},ot=Be.setDocument=function(O){var F,K,vt=O?O.ownerDocument||O:ue;return vt==ft||vt.nodeType!==9||!vt.documentElement||(ft=vt,Xt=ft.documentElement,ge=!b(ft),ue!=ft&&(K=ft.defaultView)&&K.top!==K&&(K.addEventListener?K.addEventListener("unload",Io,!1):K.attachEvent&&K.attachEvent("onunload",Io)),g.scope=Cr(function(rt){return Xt.appendChild(rt).appendChild(ft.createElement("div")),typeof rt.querySelectorAll<"u"&&!rt.querySelectorAll(":scope fieldset div").length}),g.attributes=Cr(function(rt){return rt.className="i",!rt.getAttribute("className")}),g.getElementsByTagName=Cr(function(rt){return rt.appendChild(ft.createComment("")),!rt.getElementsByTagName("*").length}),g.getElementsByClassName=Ls.test(ft.getElementsByClassName),g.getById=Cr(function(rt){return Xt.appendChild(rt).id=Te,!ft.getElementsByName||!ft.getElementsByName(Te).length}),g.getById?(v.filter.ID=function(rt){var lt=rt.replace(Er,Tn);return function(yt){return yt.getAttribute("id")===lt}},v.find.ID=function(rt,lt){if(typeof lt.getElementById<"u"&&ge){var yt=lt.getElementById(rt);return yt?[yt]:[]}}):(v.filter.ID=function(rt){var lt=rt.replace(Er,Tn);return function(yt){var Tt=typeof yt.getAttributeNode<"u"&&yt.getAttributeNode("id");return Tt&&Tt.value===lt}},v.find.ID=function(rt,lt){if(typeof lt.getElementById<"u"&&ge){var yt,Tt,Pt,$t=lt.getElementById(rt);if($t){if(yt=$t.getAttributeNode("id"),yt&&yt.value===rt)return[$t];for(Pt=lt.getElementsByName(rt),Tt=0;$t=Pt[Tt++];)if(yt=$t.getAttributeNode("id"),yt&&yt.value===rt)return[$t]}return[]}}),v.find.TAG=g.getElementsByTagName?function(rt,lt){if(typeof lt.getElementsByTagName<"u")return lt.getElementsByTagName(rt);if(g.qsa)return lt.querySelectorAll(rt)}:function(rt,lt){var yt,Tt=[],Pt=0,$t=lt.getElementsByTagName(rt);if(rt==="*"){for(;yt=$t[Pt++];)yt.nodeType===1&&Tt.push(yt);return Tt}return $t},v.find.CLASS=g.getElementsByClassName&&function(rt,lt){if(typeof lt.getElementsByClassName<"u"&&ge)return lt.getElementsByClassName(rt)},en=[],Rt=[],(g.qsa=Ls.test(ft.querySelectorAll))&&(Cr(function(rt){var lt;Xt.appendChild(rt).innerHTML="<a id='"+Te+"'></a><select id='"+Te+"-\r\\' msallowcapture=''><option selected=''></option></select>",rt.querySelectorAll("[msallowcapture^='']").length&&Rt.push("[*^$]="+Ge+`*(?:''|"")`),rt.querySelectorAll("[selected]").length||Rt.push("\\["+Ge+"*(?:value|"+Ga+")"),rt.querySelectorAll("[id~="+Te+"-]").length||Rt.push("~="),lt=ft.createElement("input"),lt.setAttribute("name",""),rt.appendChild(lt),rt.querySelectorAll("[name='']").length||Rt.push("\\["+Ge+"*name"+Ge+"*="+Ge+`*(?:''|"")`),rt.querySelectorAll(":checked").length||Rt.push(":checked"),rt.querySelectorAll("a#"+Te+"+*").length||Rt.push(".#.+[+~]"),rt.querySelectorAll("\\\f"),Rt.push("[\\r\\n\\f]")}),Cr(function(rt){rt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var lt=ft.createElement("input");lt.setAttribute("type","hidden"),rt.appendChild(lt).setAttribute("name","D"),rt.querySelectorAll("[name=d]").length&&Rt.push("name"+Ge+"*[*^$|!~]?="),rt.querySelectorAll(":enabled").length!==2&&Rt.push(":enabled",":disabled"),Xt.appendChild(rt).disabled=!0,rt.querySelectorAll(":disabled").length!==2&&Rt.push(":enabled",":disabled"),rt.querySelectorAll("*,:x"),Rt.push(",.*:")})),(g.matchesSelector=Ls.test(nn=Xt.matches||Xt.webkitMatchesSelector||Xt.mozMatchesSelector||Xt.oMatchesSelector||Xt.msMatchesSelector))&&Cr(function(rt){g.disconnectedMatch=nn.call(rt,"*"),nn.call(rt,"[s!='']:x"),en.push("!=",da)}),Rt=Rt.length&&new RegExp(Rt.join("|")),en=en.length&&new RegExp(en.join("|")),F=Ls.test(Xt.compareDocumentPosition),xe=F||Ls.test(Xt.contains)?function(rt,lt){var yt=rt.nodeType===9?rt.documentElement:rt,Tt=lt&&lt.parentNode;return rt===Tt||!!(Tt&&Tt.nodeType===1&&(yt.contains?yt.contains(Tt):rt.compareDocumentPosition&&rt.compareDocumentPosition(Tt)&16))}:function(rt,lt){if(lt){for(;lt=lt.parentNode;)if(lt===rt)return!0}return!1},zr=F?function(rt,lt){if(rt===lt)return mt=!0,0;var yt=!rt.compareDocumentPosition-!lt.compareDocumentPosition;return yt||(yt=(rt.ownerDocument||rt)==(lt.ownerDocument||lt)?rt.compareDocumentPosition(lt):1,yt&1||!g.sortDetached&&lt.compareDocumentPosition(rt)===yt?rt==ft||rt.ownerDocument==ue&&xe(ue,rt)?-1:lt==ft||lt.ownerDocument==ue&&xe(ue,lt)?1:ut?gi(ut,rt)-gi(ut,lt):0:yt&4?-1:1)}:function(rt,lt){if(rt===lt)return mt=!0,0;var yt,Tt=0,Pt=rt.parentNode,$t=lt.parentNode,Qt=[rt],te=[lt];if(!Pt||!$t)return rt==ft?-1:lt==ft?1:Pt?-1:$t?1:ut?gi(ut,rt)-gi(ut,lt):0;if(Pt===$t)return Ao(rt,lt);for(yt=rt;yt=yt.parentNode;)Qt.unshift(yt);for(yt=lt;yt=yt.parentNode;)te.unshift(yt);for(;Qt[Tt]===te[Tt];)Tt++;return Tt?Ao(Qt[Tt],te[Tt]):Qt[Tt]==ue?-1:te[Tt]==ue?1:0}),ft},Be.matches=function(O,F){return Be(O,null,null,F)},Be.matchesSelector=function(O,F){if(ot(O),g.matchesSelector&&ge&&!Gn[F+" "]&&(!en||!en.test(F))&&(!Rt||!Rt.test(F)))try{var K=nn.call(O,F);if(K||g.disconnectedMatch||O.document&&O.document.nodeType!==11)return K}catch{Gn(F,!0)}return Be(F,ft,null,[O]).length>0},Be.contains=function(O,F){return(O.ownerDocument||O)!=ft&&ot(O),xe(O,F)},Be.attr=function(O,F){(O.ownerDocument||O)!=ft&&ot(O);var K=v.attrHandle[F.toLowerCase()],vt=K&&sr.call(v.attrHandle,F.toLowerCase())?K(O,F,!ge):void 0;return vt!==void 0?vt:g.attributes||!ge?O.getAttribute(F):(vt=O.getAttributeNode(F))&&vt.specified?vt.value:null},Be.escape=function(O){return(O+"").replace(ks,mo)},Be.error=function(O){throw new Error("Syntax error, unrecognized expression: "+O)},Be.uniqueSort=function(O){var F,K=[],vt=0,rt=0;if(mt=!g.detectDuplicates,ut=!g.sortStable&&O.slice(0),O.sort(zr),mt){for(;F=O[rt++];)F===O[rt]&&(vt=K.push(rt));for(;vt--;)O.splice(K[vt],1)}return ut=null,O},w=Be.getText=function(O){var F,K="",vt=0,rt=O.nodeType;if(rt){if(rt===1||rt===9||rt===11){if(typeof O.textContent=="string")return O.textContent;for(O=O.firstChild;O;O=O.nextSibling)K+=w(O)}else if(rt===3||rt===4)return O.nodeValue}else for(;F=O[vt++];)K+=w(F);return K},v=Be.selectors={cacheLength:50,createPseudo:ar,match:pa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(O){return O[1]=O[1].replace(Er,Tn),O[3]=(O[3]||O[4]||O[5]||"").replace(Er,Tn),O[2]==="~="&&(O[3]=" "+O[3]+" "),O.slice(0,4)},CHILD:function(O){return O[1]=O[1].toLowerCase(),O[1].slice(0,3)==="nth"?(O[3]||Be.error(O[0]),O[4]=+(O[4]?O[5]+(O[6]||1):2*(O[3]==="even"||O[3]==="odd")),O[5]=+(O[7]+O[8]||O[3]==="odd")):O[3]&&Be.error(O[0]),O},PSEUDO:function(O){var F,K=!O[6]&&O[2];return pa.CHILD.test(O[0])?null:(O[3]?O[2]=O[4]||O[5]||"":K&&Cu.test(K)&&(F=T(K,!0))&&(F=K.indexOf(")",K.length-F)-K.length)&&(O[0]=O[0].slice(0,F),O[2]=K.slice(0,F)),O.slice(0,3))}},filter:{TAG:function(O){var F=O.replace(Er,Tn).toLowerCase();return O==="*"?function(){return!0}:function(K){return K.nodeName&&K.nodeName.toLowerCase()===F}},CLASS:function(O){var F=tn[O+" "];return F||(F=new RegExp("(^|"+Ge+")"+O+"("+Ge+"|$)"))&&tn(O,function(K){return F.test(typeof K.className=="string"&&K.className||typeof K.getAttribute<"u"&&K.getAttribute("class")||"")})},ATTR:function(O,F,K){return function(vt){var rt=Be.attr(vt,O);return rt==null?F==="!=":F?(rt+="",F==="="?rt===K:F==="!="?rt!==K:F==="^="?K&&rt.indexOf(K)===0:F==="*="?K&&rt.indexOf(K)>-1:F==="$="?K&&rt.slice(-K.length)===K:F==="~="?(" "+rt.replace(Xn," ")+" ").indexOf(K)>-1:F==="|="?rt===K||rt.slice(0,K.length+1)===K+"-":!1):!0}},CHILD:function(O,F,K,vt,rt){var lt=O.slice(0,3)!=="nth",yt=O.slice(-4)!=="last",Tt=F==="of-type";return vt===1&&rt===0?function(Pt){return!!Pt.parentNode}:function(Pt,$t,Qt){var te,pe,Pe,Jt,ln,gn,_n=lt!==yt?"nextSibling":"previousSibling",Ke=Pt.parentNode,di=Tt&&Pt.nodeName.toLowerCase(),rs=!Qt&&!Tt,wn=!1;if(Ke){if(lt){for(;_n;){for(Jt=Pt;Jt=Jt[_n];)if(Tt?Jt.nodeName.toLowerCase()===di:Jt.nodeType===1)return!1;gn=_n=O==="only"&&!gn&&"nextSibling"}return!0}if(gn=[yt?Ke.firstChild:Ke.lastChild],yt&&rs){for(Jt=Ke,Pe=Jt[Te]||(Jt[Te]={}),pe=Pe[Jt.uniqueID]||(Pe[Jt.uniqueID]={}),te=pe[O]||[],ln=te[0]===Zn&&te[1],wn=ln&&te[2],Jt=ln&&Ke.childNodes[ln];Jt=++ln&&Jt&&Jt[_n]||(wn=ln=0)||gn.pop();)if(Jt.nodeType===1&&++wn&&Jt===Pt){pe[O]=[Zn,ln,wn];break}}else if(rs&&(Jt=Pt,Pe=Jt[Te]||(Jt[Te]={}),pe=Pe[Jt.uniqueID]||(Pe[Jt.uniqueID]={}),te=pe[O]||[],ln=te[0]===Zn&&te[1],wn=ln),wn===!1)for(;(Jt=++ln&&Jt&&Jt[_n]||(wn=ln=0)||gn.pop())&&!((Tt?Jt.nodeName.toLowerCase()===di:Jt.nodeType===1)&&++wn&&(rs&&(Pe=Jt[Te]||(Jt[Te]={}),pe=Pe[Jt.uniqueID]||(Pe[Jt.uniqueID]={}),pe[O]=[Zn,wn]),Jt===Pt)););return wn-=rt,wn===vt||wn%vt===0&&wn/vt>=0}}},PSEUDO:function(O,F){var K,vt=v.pseudos[O]||v.setFilters[O.toLowerCase()]||Be.error("unsupported pseudo: "+O);return vt[Te]?vt(F):vt.length>1?(K=[O,O,"",F],v.setFilters.hasOwnProperty(O.toLowerCase())?ar(function(rt,lt){for(var yt,Tt=vt(rt,F),Pt=Tt.length;Pt--;)yt=gi(rt,Tt[Pt]),rt[yt]=!(lt[yt]=Tt[Pt])}):function(rt){return vt(rt,0,K)}):vt}},pseudos:{not:ar(function(O){var F=[],K=[],vt=U(O.replace(es,"$1"));return vt[Te]?ar(function(rt,lt,yt,Tt){for(var Pt,$t=vt(rt,null,Tt,[]),Qt=rt.length;Qt--;)(Pt=$t[Qt])&&(rt[Qt]=!(lt[Qt]=Pt))}):function(rt,lt,yt){return F[0]=rt,vt(F,null,yt,K),F[0]=null,!K.pop()}}),has:ar(function(O){return function(F){return Be(O,F).length>0}}),contains:ar(function(O){return O=O.replace(Er,Tn),function(F){return(F.textContent||w(F)).indexOf(O)>-1}}),lang:ar(function(O){return yu.test(O||"")||Be.error("unsupported lang: "+O),O=O.replace(Er,Tn).toLowerCase(),function(F){var K;do if(K=ge?F.lang:F.getAttribute("xml:lang")||F.getAttribute("lang"))return K=K.toLowerCase(),K===O||K.indexOf(O+"-")===0;while((F=F.parentNode)&&F.nodeType===1);return!1}}),target:function(O){var F=o.location&&o.location.hash;return F&&F.slice(1)===O.id},root:function(O){return O===Xt},focus:function(O){return O===ft.activeElement&&(!ft.hasFocus||ft.hasFocus())&&!!(O.type||O.href||~O.tabIndex)},enabled:Oi(!1),disabled:Oi(!0),checked:function(O){var F=O.nodeName.toLowerCase();return F==="input"&&!!O.checked||F==="option"&&!!O.selected},selected:function(O){return O.parentNode&&O.parentNode.selectedIndex,O.selected===!0},empty:function(O){for(O=O.firstChild;O;O=O.nextSibling)if(O.nodeType<6)return!1;return!0},parent:function(O){return!v.pseudos.empty(O)},header:function(O){return ns.test(O.nodeName)},input:function(O){return bu.test(O.nodeName)},button:function(O){var F=O.nodeName.toLowerCase();return F==="input"&&O.type==="button"||F==="button"},text:function(O){var F;return O.nodeName.toLowerCase()==="input"&&O.type==="text"&&((F=O.getAttribute("type"))==null||F.toLowerCase()==="text")},first:tt(function(){return[0]}),last:tt(function(O,F){return[F-1]}),eq:tt(function(O,F,K){return[K<0?K+F:K]}),even:tt(function(O,F){for(var K=0;K<F;K+=2)O.push(K);return O}),odd:tt(function(O,F){for(var K=1;K<F;K+=2)O.push(K);return O}),lt:tt(function(O,F,K){for(var vt=K<0?K+F:K>F?F:K;--vt>=0;)O.push(vt);return O}),gt:tt(function(O,F,K){for(var vt=K<0?K+F:K;++vt<F;)O.push(vt);return O})}},v.pseudos.nth=v.pseudos.eq;for(l in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[l]=Mu(l);for(l in{submit:!0,reset:!0})v.pseudos[l]=Su(l);function ct(){}ct.prototype=v.filters=v.pseudos,v.setFilters=new ct,T=Be.tokenize=function(O,F){var K,vt,rt,lt,yt,Tt,Pt,$t=Ts[O+" "];if($t)return F?0:$t.slice(0);for(yt=O,Tt=[],Pt=v.preFilter;yt;){(!K||(vt=Ds.exec(yt)))&&(vt&&(yt=yt.slice(vt[0].length)||yt),Tt.push(rt=[])),K=!1,(vt=Ba.exec(yt))&&(K=vt.shift(),rt.push({value:K,type:vt[0].replace(es," ")}),yt=yt.slice(K.length));for(lt in v.filter)(vt=pa[lt].exec(yt))&&(!Pt[lt]||(vt=Pt[lt](vt)))&&(K=vt.shift(),rt.push({value:K,type:lt,matches:vt}),yt=yt.slice(K.length));if(!K)break}return F?yt.length:yt?Be.error(O):Ts(O,Tt).slice(0)};function jt(O){for(var F=0,K=O.length,vt="";F<K;F++)vt+=O[F].value;return vt}function le(O,F,K){var vt=F.dir,rt=F.next,lt=rt||vt,yt=K&&lt==="parentNode",Tt=De++;return F.first?function(Pt,$t,Qt){for(;Pt=Pt[vt];)if(Pt.nodeType===1||yt)return O(Pt,$t,Qt);return!1}:function(Pt,$t,Qt){var te,pe,Pe,Jt=[Zn,Tt];if(Qt){for(;Pt=Pt[vt];)if((Pt.nodeType===1||yt)&&O(Pt,$t,Qt))return!0}else for(;Pt=Pt[vt];)if(Pt.nodeType===1||yt)if(Pe=Pt[Te]||(Pt[Te]={}),pe=Pe[Pt.uniqueID]||(Pe[Pt.uniqueID]={}),rt&&rt===Pt.nodeName.toLowerCase())Pt=Pt[vt]||Pt;else{if((te=pe[lt])&&te[0]===Zn&&te[1]===Tt)return Jt[2]=te[2];if(pe[lt]=Jt,Jt[2]=O(Pt,$t,Qt))return!0}return!1}}function ze(O){return O.length>1?function(F,K,vt){for(var rt=O.length;rt--;)if(!O[rt](F,K,vt))return!1;return!0}:O[0]}function hn(O,F,K){for(var vt=0,rt=F.length;vt<rt;vt++)Be(O,F[vt],K);return K}function Ye(O,F,K,vt,rt){for(var lt,yt=[],Tt=0,Pt=O.length,$t=F!=null;Tt<Pt;Tt++)(lt=O[Tt])&&(!K||K(lt,vt,rt))&&(yt.push(lt),$t&&F.push(Tt));return yt}function zs(O,F,K,vt,rt,lt){return vt&&!vt[Te]&&(vt=zs(vt)),rt&&!rt[Te]&&(rt=zs(rt,lt)),ar(function(yt,Tt,Pt,$t){var Qt,te,pe,Pe=[],Jt=[],ln=Tt.length,gn=yt||hn(F||"*",Pt.nodeType?[Pt]:Pt,[]),_n=O&&(yt||!F)?Ye(gn,Pe,O,Pt,$t):gn,Ke=K?rt||(yt?O:ln||vt)?[]:Tt:_n;if(K&&K(_n,Ke,Pt,$t),vt)for(Qt=Ye(Ke,Jt),vt(Qt,[],Pt,$t),te=Qt.length;te--;)(pe=Qt[te])&&(Ke[Jt[te]]=!(_n[Jt[te]]=pe));if(yt){if(rt||O){if(rt){for(Qt=[],te=Ke.length;te--;)(pe=Ke[te])&&Qt.push(_n[te]=pe);rt(null,Ke=[],Qt,$t)}for(te=Ke.length;te--;)(pe=Ke[te])&&(Qt=rt?gi(yt,pe):Pe[te])>-1&&(yt[Qt]=!(Tt[Qt]=pe))}}else Ke=Ye(Ke===Tt?Ke.splice(ln,Ke.length):Ke),rt?rt(null,Tt,Ke,$t):Or.apply(Tt,Ke)})}function _a(O){for(var F,K,vt,rt=O.length,lt=v.relative[O[0].type],yt=lt||v.relative[" "],Tt=lt?1:0,Pt=le(function(te){return te===F},yt,!0),$t=le(function(te){return gi(F,te)>-1},yt,!0),Qt=[function(te,pe,Pe){var Jt=!lt&&(Pe||pe!==nt)||((F=pe).nodeType?Pt(te,pe,Pe):$t(te,pe,Pe));return F=null,Jt}];Tt<rt;Tt++)if(K=v.relative[O[Tt].type])Qt=[le(ze(Qt),K)];else{if(K=v.filter[O[Tt].type].apply(null,O[Tt].matches),K[Te]){for(vt=++Tt;vt<rt&&!v.relative[O[vt].type];vt++);return zs(Tt>1&&ze(Qt),Tt>1&&jt(O.slice(0,Tt-1).concat({value:O[Tt-2].type===" "?"*":""})).replace(es,"$1"),K,Tt<vt&&_a(O.slice(Tt,vt)),vt<rt&&_a(O=O.slice(vt)),vt<rt&&jt(O))}Qt.push(K)}return ze(Qt)}function or(O,F){var K=F.length>0,vt=O.length>0,rt=function(lt,yt,Tt,Pt,$t){var Qt,te,pe,Pe=0,Jt="0",ln=lt&&[],gn=[],_n=nt,Ke=lt||vt&&v.find.TAG("*",$t),di=Zn+=_n==null?1:Math.random()||.1,rs=Ke.length;for($t&&(nt=yt==ft||yt||$t);Jt!==rs&&(Qt=Ke[Jt])!=null;Jt++){if(vt&&Qt){for(te=0,!yt&&Qt.ownerDocument!=ft&&(ot(Qt),Tt=!ge);pe=O[te++];)if(pe(Qt,yt||ft,Tt)){Pt.push(Qt);break}$t&&(Zn=di)}K&&((Qt=!pe&&Qt)&&Pe--,lt&&ln.push(Qt))}if(Pe+=Jt,K&&Jt!==Pe){for(te=0;pe=F[te++];)pe(ln,gn,yt,Tt);if(lt){if(Pe>0)for(;Jt--;)ln[Jt]||gn[Jt]||(gn[Jt]=Xr.call(Pt));gn=Ye(gn)}Or.apply(Pt,gn),$t&&!lt&&gn.length>0&&Pe+F.length>1&&Be.uniqueSort(Pt)}return $t&&(Zn=di,nt=_n),ln};return K?ar(rt):rt}return U=Be.compile=function(O,F){var K,vt=[],rt=[],lt=ha[O+" "];if(!lt){for(F||(F=T(O)),K=F.length;K--;)lt=_a(F[K]),lt[Te]?vt.push(lt):rt.push(lt);lt=ha(O,or(rt,vt)),lt.selector=O}return lt},R=Be.select=function(O,F,K,vt){var rt,lt,yt,Tt,Pt,$t=typeof O=="function"&&O,Qt=!vt&&T(O=$t.selector||O);if(K=K||[],Qt.length===1){if(lt=Qt[0]=Qt[0].slice(0),lt.length>2&&(yt=lt[0]).type==="ID"&&F.nodeType===9&&ge&&v.relative[lt[1].type]){if(F=(v.find.ID(yt.matches[0].replace(Er,Tn),F)||[])[0],F)$t&&(F=F.parentNode);else return K;O=O.slice(lt.shift().value.length)}for(rt=pa.needsContext.test(O)?0:lt.length;rt--&&(yt=lt[rt],!v.relative[Tt=yt.type]);)if((Pt=v.find[Tt])&&(vt=Pt(yt.matches[0].replace(Er,Tn),Ps.test(lt[0].type)&&dt(F.parentNode)||F))){if(lt.splice(rt,1),O=vt.length&&jt(lt),!O)return Or.apply(K,vt),K;break}}return($t||U(O,Qt))(vt,F,!ge,K,!F||Ps.test(O)&&dt(F.parentNode)||F),K},g.sortStable=Te.split("").sort(zr).join("")===Te,g.detectDuplicates=!!mt,ot(),g.sortDetached=Cr(function(O){return O.compareDocumentPosition(ft.createElement("fieldset"))&1}),Cr(function(O){return O.innerHTML="<a href='#'></a>",O.firstChild.getAttribute("href")==="#"})||Ra("type|href|height|width",function(O,F,K){if(!K)return O.getAttribute(F,F.toLowerCase()==="type"?1:2)}),(!g.attributes||!Cr(function(O){return O.innerHTML="<input/>",O.firstChild.setAttribute("value",""),O.firstChild.getAttribute("value")===""}))&&Ra("value",function(O,F,K){if(!K&&O.nodeName.toLowerCase()==="input")return O.defaultValue}),Cr(function(O){return O.getAttribute("disabled")==null})||Ra(Ga,function(O,F,K){var vt;if(!K)return O[F]===!0?F.toLowerCase():(vt=O.getAttributeNode(F))&&vt.specified?vt.value:null}),Be}(e);d.find=q,d.expr=q.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=q.uniqueSort,d.text=q.getText,d.isXMLDoc=q.isXML,d.contains=q.contains,d.escapeSelector=q.escape;var et=function(o,l,g){for(var v=[],w=g!==void 0;(o=o[l])&&o.nodeType!==9;)if(o.nodeType===1){if(w&&d(o).is(g))break;v.push(o)}return v},at=function(o,l){for(var g=[];o;o=o.nextSibling)o.nodeType===1&&o!==l&&g.push(o);return g},wt=d.expr.match.needsContext;function pt(o,l){return o.nodeName&&o.nodeName.toLowerCase()===l.toLowerCase()}var Nt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function St(o,l,g){return X(l)?d.grep(o,function(v,w){return!!l.call(v,w,v)!==g}):l.nodeType?d.grep(o,function(v){return v===l!==g}):typeof l!="string"?d.grep(o,function(v){return p.call(l,v)>-1!==g}):d.filter(l,o,g)}d.filter=function(o,l,g){var v=l[0];return g&&(o=":not("+o+")"),l.length===1&&v.nodeType===1?d.find.matchesSelector(v,o)?[v]:[]:d.find.matches(o,d.grep(l,function(w){return w.nodeType===1}))},d.fn.extend({find:function(o){var l,g,v=this.length,w=this;if(typeof o!="string")return this.pushStack(d(o).filter(function(){for(l=0;l<v;l++)if(d.contains(w[l],this))return!0}));for(g=this.pushStack([]),l=0;l<v;l++)d.find(o,w[l],g);return v>1?d.uniqueSort(g):g},filter:function(o){return this.pushStack(St(this,o||[],!1))},not:function(o){return this.pushStack(St(this,o||[],!0))},is:function(o){return!!St(this,typeof o=="string"&&wt.test(o)?d(o):o||[],!1).length}});var Dt,_t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,fe=d.fn.init=function(o,l,g){var v,w;if(!o)return this;if(g=g||Dt,typeof o=="string")if(o[0]==="<"&&o[o.length-1]===">"&&o.length>=3?v=[null,o,null]:v=_t.exec(o),v&&(v[1]||!l))if(v[1]){if(l=l instanceof d?l[0]:l,d.merge(this,d.parseHTML(v[1],l&&l.nodeType?l.ownerDocument||l:J,!0)),Nt.test(v[1])&&d.isPlainObject(l))for(v in l)X(this[v])?this[v](l[v]):this.attr(v,l[v]);return this}else return w=J.getElementById(v[2]),w&&(this[0]=w,this.length=1),this;else return!l||l.jquery?(l||g).find(o):this.constructor(l).find(o);else{if(o.nodeType)return this[0]=o,this.length=1,this;if(X(o))return g.ready!==void 0?g.ready(o):o(d)}return d.makeArray(o,this)};fe.prototype=d.fn,Dt=d(J);var ee=/^(?:parents|prev(?:Until|All))/,Se={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(o){var l=d(o,this),g=l.length;return this.filter(function(){for(var v=0;v<g;v++)if(d.contains(this,l[v]))return!0})},closest:function(o,l){var g,v=0,w=this.length,b=[],T=typeof o!="string"&&d(o);if(!wt.test(o)){for(;v<w;v++)for(g=this[v];g&&g!==l;g=g.parentNode)if(g.nodeType<11&&(T?T.index(g)>-1:g.nodeType===1&&d.find.matchesSelector(g,o))){b.push(g);break}}return this.pushStack(b.length>1?d.uniqueSort(b):b)},index:function(o){return o?typeof o=="string"?p.call(d(o),this[0]):p.call(this,o.jquery?o[0]:o):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(o,l){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(o,l))))},addBack:function(o){return this.add(o==null?this.prevObject:this.prevObject.filter(o))}});function Lt(o,l){for(;(o=o[l])&&o.nodeType!==1;);return o}d.each({parent:function(o){var l=o.parentNode;return l&&l.nodeType!==11?l:null},parents:function(o){return et(o,"parentNode")},parentsUntil:function(o,l,g){return et(o,"parentNode",g)},next:function(o){return Lt(o,"nextSibling")},prev:function(o){return Lt(o,"previousSibling")},nextAll:function(o){return et(o,"nextSibling")},prevAll:function(o){return et(o,"previousSibling")},nextUntil:function(o,l,g){return et(o,"nextSibling",g)},prevUntil:function(o,l,g){return et(o,"previousSibling",g)},siblings:function(o){return at((o.parentNode||{}).firstChild,o)},children:function(o){return at(o.firstChild)},contents:function(o){return o.contentDocument!=null&&s(o.contentDocument)?o.contentDocument:(pt(o,"template")&&(o=o.content||o),d.merge([],o.childNodes))}},function(o,l){d.fn[o]=function(g,v){var w=d.map(this,l,g);return o.slice(-5)!=="Until"&&(v=g),v&&typeof v=="string"&&(w=d.filter(v,w)),this.length>1&&(Se[o]||d.uniqueSort(w),ee.test(o)&&w.reverse()),this.pushStack(w)}});var zt=/[^\x20\t\r\n\f]+/g;function Wt(o){var l={};return d.each(o.match(zt)||[],function(g,v){l[v]=!0}),l}d.Callbacks=function(o){o=typeof o=="string"?Wt(o):d.extend({},o);var l,g,v,w,b=[],T=[],U=-1,R=function(){for(w=w||o.once,v=l=!0;T.length;U=-1)for(g=T.shift();++U<b.length;)b[U].apply(g[0],g[1])===!1&&o.stopOnFalse&&(U=b.length,g=!1);o.memory||(g=!1),l=!1,w&&(g?b=[]:b="")},nt={add:function(){return b&&(g&&!l&&(U=b.length-1,T.push(g)),function ut(mt){d.each(mt,function(ot,ft){X(ft)?(!o.unique||!nt.has(ft))&&b.push(ft):ft&&ft.length&&M(ft)!=="string"&&ut(ft)})}(arguments),g&&!l&&R()),this},remove:function(){return d.each(arguments,function(ut,mt){for(var ot;(ot=d.inArray(mt,b,ot))>-1;)b.splice(ot,1),ot<=U&&U--}),this},has:function(ut){return ut?d.inArray(ut,b)>-1:b.length>0},empty:function(){return b&&(b=[]),this},disable:function(){return w=T=[],b=g="",this},disabled:function(){return!b},lock:function(){return w=T=[],!g&&!l&&(b=g=""),this},locked:function(){return!!w},fireWith:function(ut,mt){return w||(mt=mt||[],mt=[ut,mt.slice?mt.slice():mt],T.push(mt),l||R()),this},fire:function(){return nt.fireWith(this,arguments),this},fired:function(){return!!v}};return nt};function Gt(o){return o}function re(o){throw o}function ce(o,l,g,v){var w;try{o&&X(w=o.promise)?w.call(o).done(l).fail(g):o&&X(w=o.then)?w.call(o,l,g):l.apply(void 0,[o].slice(v))}catch(b){g.apply(void 0,[b])}}d.extend({Deferred:function(o){var l=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],g="pending",v={state:function(){return g},always:function(){return w.done(arguments).fail(arguments),this},catch:function(b){return v.then(null,b)},pipe:function(){var b=arguments;return d.Deferred(function(T){d.each(l,function(U,R){var nt=X(b[R[4]])&&b[R[4]];w[R[1]](function(){var ut=nt&&nt.apply(this,arguments);ut&&X(ut.promise)?ut.promise().progress(T.notify).done(T.resolve).fail(T.reject):T[R[0]+"With"](this,nt?[ut]:arguments)})}),b=null}).promise()},then:function(b,T,U){var R=0;function nt(ut,mt,ot,ft){return function(){var Xt=this,ge=arguments,Rt=function(){var nn,xe;if(!(ut<R)){if(nn=ot.apply(Xt,ge),nn===mt.promise())throw new TypeError("Thenable self-resolution");xe=nn&&(typeof nn=="object"||typeof nn=="function")&&nn.then,X(xe)?ft?xe.call(nn,nt(R,mt,Gt,ft),nt(R,mt,re,ft)):(R++,xe.call(nn,nt(R,mt,Gt,ft),nt(R,mt,re,ft),nt(R,mt,Gt,mt.notifyWith))):(ot!==Gt&&(Xt=void 0,ge=[nn]),(ft||mt.resolveWith)(Xt,ge))}},en=ft?Rt:function(){try{Rt()}catch(nn){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(nn,en.stackTrace),ut+1>=R&&(ot!==re&&(Xt=void 0,ge=[nn]),mt.rejectWith(Xt,ge))}};ut?en():(d.Deferred.getStackHook&&(en.stackTrace=d.Deferred.getStackHook()),e.setTimeout(en))}}return d.Deferred(function(ut){l[0][3].add(nt(0,ut,X(U)?U:Gt,ut.notifyWith)),l[1][3].add(nt(0,ut,X(b)?b:Gt)),l[2][3].add(nt(0,ut,X(T)?T:re))}).promise()},promise:function(b){return b!=null?d.extend(b,v):v}},w={};return d.each(l,function(b,T){var U=T[2],R=T[5];v[T[1]]=U.add,R&&U.add(function(){g=R},l[3-b][2].disable,l[3-b][3].disable,l[0][2].lock,l[0][3].lock),U.add(T[3].fire),w[T[0]]=function(){return w[T[0]+"With"](this===w?void 0:this,arguments),this},w[T[0]+"With"]=U.fireWith}),v.promise(w),o&&o.call(w,w),w},when:function(o){var l=arguments.length,g=l,v=Array(g),w=u.call(arguments),b=d.Deferred(),T=function(U){return function(R){v[U]=this,w[U]=arguments.length>1?u.call(arguments):R,--l||b.resolveWith(v,w)}};if(l<=1&&(ce(o,b.done(T(g)).resolve,b.reject,!l),b.state()==="pending"||X(w[g]&&w[g].then)))return b.then();for(;g--;)ce(w[g],T(g),b.reject);return b.promise()}});var he=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(o,l){e.console&&e.console.warn&&o&&he.test(o.name)&&e.console.warn("jQuery.Deferred exception: "+o.message,o.stack,l)},d.readyException=function(o){e.setTimeout(function(){throw o})};var Yt=d.Deferred();d.fn.ready=function(o){return Yt.then(o).catch(function(l){d.readyException(l)}),this},d.extend({isReady:!1,readyWait:1,ready:function(o){(o===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(o!==!0&&--d.readyWait>0)&&Yt.resolveWith(J,[d]))}}),d.ready.then=Yt.then;function Ie(){J.removeEventListener("DOMContentLoaded",Ie),e.removeEventListener("load",Ie),d.ready()}J.readyState==="complete"||J.readyState!=="loading"&&!J.documentElement.doScroll?e.setTimeout(d.ready):(J.addEventListener("DOMContentLoaded",Ie),e.addEventListener("load",Ie));var Vt=function(o,l,g,v,w,b,T){var U=0,R=o.length,nt=g==null;if(M(g)==="object"){w=!0;for(U in g)Vt(o,l,U,g[U],!0,b,T)}else if(v!==void 0&&(w=!0,X(v)||(T=!0),nt&&(T?(l.call(o,v),l=null):(nt=l,l=function(ut,mt,ot){return nt.call(d(ut),ot)})),l))for(;U<R;U++)l(o[U],g,T?v:v.call(o[U],U,l(o[U],g)));return w?o:nt?l.call(o):R?l(o[0],g):b},Kt=/^-ms-/,ie=/-([a-z])/g;function Bt(o,l){return l.toUpperCase()}function xt(o){return o.replace(Kt,"ms-").replace(ie,Bt)}var N=function(o){return o.nodeType===1||o.nodeType===9||!+o.nodeType};function z(){this.expando=d.expando+z.uid++}z.uid=1,z.prototype={cache:function(o){var l=o[this.expando];return l||(l={},N(o)&&(o.nodeType?o[this.expando]=l:Object.defineProperty(o,this.expando,{value:l,configurable:!0}))),l},set:function(o,l,g){var v,w=this.cache(o);if(typeof l=="string")w[xt(l)]=g;else for(v in l)w[xt(v)]=l[v];return w},get:function(o,l){return l===void 0?this.cache(o):o[this.expando]&&o[this.expando][xt(l)]},access:function(o,l,g){return l===void 0||l&&typeof l=="string"&&g===void 0?this.get(o,l):(this.set(o,l,g),g!==void 0?g:l)},remove:function(o,l){var g,v=o[this.expando];if(v!==void 0){if(l!==void 0)for(Array.isArray(l)?l=l.map(xt):(l=xt(l),l=l in v?[l]:l.match(zt)||[]),g=l.length;g--;)delete v[l[g]];(l===void 0||d.isEmptyObject(v))&&(o.nodeType?o[this.expando]=void 0:delete o[this.expando])}},hasData:function(o){var l=o[this.expando];return l!==void 0&&!d.isEmptyObject(l)}};var Z=new z,$=new z,ht=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/[A-Z]/g;function Mt(o){return o==="true"?!0:o==="false"?!1:o==="null"?null:o===+o+""?+o:ht.test(o)?JSON.parse(o):o}function Ht(o,l,g){var v;if(g===void 0&&o.nodeType===1)if(v="data-"+l.replace(It,"-$&").toLowerCase(),g=o.getAttribute(v),typeof g=="string"){try{g=Mt(g)}catch{}$.set(o,l,g)}else g=void 0;return g}d.extend({hasData:function(o){return $.hasData(o)||Z.hasData(o)},data:function(o,l,g){return $.access(o,l,g)},removeData:function(o,l){$.remove(o,l)},_data:function(o,l,g){return Z.access(o,l,g)},_removeData:function(o,l){Z.remove(o,l)}}),d.fn.extend({data:function(o,l){var g,v,w,b=this[0],T=b&&b.attributes;if(o===void 0){if(this.length&&(w=$.get(b),b.nodeType===1&&!Z.get(b,"hasDataAttrs"))){for(g=T.length;g--;)T[g]&&(v=T[g].name,v.indexOf("data-")===0&&(v=xt(v.slice(5)),Ht(b,v,w[v])));Z.set(b,"hasDataAttrs",!0)}return w}return typeof o=="object"?this.each(function(){$.set(this,o)}):Vt(this,function(U){var R;if(b&&U===void 0)return R=$.get(b,o),R!==void 0||(R=Ht(b,o),R!==void 0)?R:void 0;this.each(function(){$.set(this,o,U)})},null,l,arguments.length>1,null,!0)},removeData:function(o){return this.each(function(){$.remove(this,o)})}}),d.extend({queue:function(o,l,g){var v;if(o)return l=(l||"fx")+"queue",v=Z.get(o,l),g&&(!v||Array.isArray(g)?v=Z.access(o,l,d.makeArray(g)):v.push(g)),v||[]},dequeue:function(o,l){l=l||"fx";var g=d.queue(o,l),v=g.length,w=g.shift(),b=d._queueHooks(o,l),T=function(){d.dequeue(o,l)};w==="inprogress"&&(w=g.shift(),v--),w&&(l==="fx"&&g.unshift("inprogress"),delete b.stop,w.call(o,T,b)),!v&&b&&b.empty.fire()},_queueHooks:function(o,l){var g=l+"queueHooks";return Z.get(o,g)||Z.access(o,g,{empty:d.Callbacks("once memory").add(function(){Z.remove(o,[l+"queue",g])})})}}),d.fn.extend({queue:function(o,l){var g=2;return typeof o!="string"&&(l=o,o="fx",g--),arguments.length<g?d.queue(this[0],o):l===void 0?this:this.each(function(){var v=d.queue(this,o,l);d._queueHooks(this,o),o==="fx"&&v[0]!=="inprogress"&&d.dequeue(this,o)})},dequeue:function(o){return this.each(function(){d.dequeue(this,o)})},clearQueue:function(o){return this.queue(o||"fx",[])},promise:function(o,l){var g,v=1,w=d.Deferred(),b=this,T=this.length,U=function(){--v||w.resolveWith(b,[b])};for(typeof o!="string"&&(l=o,o=void 0),o=o||"fx";T--;)g=Z.get(b[T],o+"queueHooks"),g&&g.empty&&(v++,g.empty.add(U));return U(),w.promise(l)}});var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=new RegExp("^(?:([+-])=|)("+kt+")([a-z%]*)$","i"),Ze=["Top","Right","Bottom","Left"],me=J.documentElement,Je=function(o){return d.contains(o.ownerDocument,o)},un={composed:!0};me.getRootNode&&(Je=function(o){return d.contains(o.ownerDocument,o)||o.getRootNode(un)===o.ownerDocument});var mn=function(o,l){return o=l||o,o.style.display==="none"||o.style.display===""&&Je(o)&&d.css(o,"display")==="none"};function Xe(o,l,g,v){var w,b,T=20,U=v?function(){return v.cur()}:function(){return d.css(o,l,"")},R=U(),nt=g&&g[3]||(d.cssNumber[l]?"":"px"),ut=o.nodeType&&(d.cssNumber[l]||nt!=="px"&&+R)&&se.exec(d.css(o,l));if(ut&&ut[3]!==nt){for(R=R/2,nt=nt||ut[3],ut=+R||1;T--;)d.style(o,l,ut+nt),(1-b)*(1-(b=U()/R||.5))<=0&&(T=0),ut=ut/b;ut=ut*2,d.style(o,l,ut+nt),g=g||[]}return g&&(ut=+ut||+R||0,w=g[1]?ut+(g[1]+1)*g[2]:+g[2],v&&(v.unit=nt,v.start=ut,v.end=w)),w}var He={};function fn(o){var l,g=o.ownerDocument,v=o.nodeName,w=He[v];return w||(l=g.body.appendChild(g.createElement(v)),w=d.css(l,"display"),l.parentNode.removeChild(l),w==="none"&&(w="block"),He[v]=w,w)}function In(o,l){for(var g,v,w=[],b=0,T=o.length;b<T;b++)v=o[b],v.style&&(g=v.style.display,l?(g==="none"&&(w[b]=Z.get(v,"display")||null,w[b]||(v.style.display="")),v.style.display===""&&mn(v)&&(w[b]=fn(v))):g!=="none"&&(w[b]="none",Z.set(v,"display",g)));for(b=0;b<T;b++)w[b]!=null&&(o[b].style.display=w[b]);return o}d.fn.extend({show:function(){return In(this,!0)},hide:function(){return In(this)},toggle:function(o){return typeof o=="boolean"?o?this.show():this.hide():this.each(function(){mn(this)?d(this).show():d(this).hide()})}});var Nn=/^(?:checkbox|radio)$/i,pr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var o=J.createDocumentFragment(),l=o.appendChild(J.createElement("div")),g=J.createElement("input");g.setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),l.appendChild(g),j.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,l.innerHTML="<textarea>x</textarea>",j.noCloneChecked=!!l.cloneNode(!0).lastChild.defaultValue,l.innerHTML="<option></option>",j.option=!!l.lastChild})();var Qe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,j.option||(Qe.optgroup=Qe.option=[1,"<select multiple='multiple'>","</select>"]);function sn(o,l){var g;return typeof o.getElementsByTagName<"u"?g=o.getElementsByTagName(l||"*"):typeof o.querySelectorAll<"u"?g=o.querySelectorAll(l||"*"):g=[],l===void 0||l&&pt(o,l)?d.merge([o],g):g}function ei(o,l){for(var g=0,v=o.length;g<v;g++)Z.set(o[g],"globalEval",!l||Z.get(l[g],"globalEval"))}var mr=/<|&#?\w+;/;function bi(o,l,g,v,w){for(var b,T,U,R,nt,ut,mt=l.createDocumentFragment(),ot=[],ft=0,Xt=o.length;ft<Xt;ft++)if(b=o[ft],b||b===0)if(M(b)==="object")d.merge(ot,b.nodeType?[b]:b);else if(!mr.test(b))ot.push(l.createTextNode(b));else{for(T=T||mt.appendChild(l.createElement("div")),U=(pr.exec(b)||["",""])[1].toLowerCase(),R=Qe[U]||Qe._default,T.innerHTML=R[1]+d.htmlPrefilter(b)+R[2],ut=R[0];ut--;)T=T.lastChild;d.merge(ot,T.childNodes),T=mt.firstChild,T.textContent=""}for(mt.textContent="",ft=0;b=ot[ft++];){if(v&&d.inArray(b,v)>-1){w&&w.push(b);continue}if(nt=Je(b),T=sn(mt.appendChild(b),"script"),nt&&ei(T),g)for(ut=0;b=T[ut++];)vr.test(b.type||"")&&g.push(b)}return mt}var Mn=/^([^.]*)(?:\.(.+)|)/;function Ir(){return!0}function Fr(){return!1}function Vi(o,l){return o===Ks()==(l==="focus")}function Ks(){try{return J.activeElement}catch{}}function Hi(o,l,g,v,w,b){var T,U;if(typeof l=="object"){typeof g!="string"&&(v=v||g,g=void 0);for(U in l)Hi(o,U,g,v,l[U],b);return o}if(v==null&&w==null?(w=g,v=g=void 0):w==null&&(typeof g=="string"?(w=v,v=void 0):(w=v,v=g,g=void 0)),w===!1)w=Fr;else if(!w)return o;return b===1&&(T=w,w=function(R){return d().off(R),T.apply(this,arguments)},w.guid=T.guid||(T.guid=d.guid++)),o.each(function(){d.event.add(this,l,w,v,g)})}d.event={global:{},add:function(o,l,g,v,w){var b,T,U,R,nt,ut,mt,ot,ft,Xt,ge,Rt=Z.get(o);if(!!N(o))for(g.handler&&(b=g,g=b.handler,w=b.selector),w&&d.find.matchesSelector(me,w),g.guid||(g.guid=d.guid++),(R=Rt.events)||(R=Rt.events=Object.create(null)),(T=Rt.handle)||(T=Rt.handle=function(en){return typeof d<"u"&&d.event.triggered!==en.type?d.event.dispatch.apply(o,arguments):void 0}),l=(l||"").match(zt)||[""],nt=l.length;nt--;)U=Mn.exec(l[nt])||[],ft=ge=U[1],Xt=(U[2]||"").split(".").sort(),ft&&(mt=d.event.special[ft]||{},ft=(w?mt.delegateType:mt.bindType)||ft,mt=d.event.special[ft]||{},ut=d.extend({type:ft,origType:ge,data:v,handler:g,guid:g.guid,selector:w,needsContext:w&&d.expr.match.needsContext.test(w),namespace:Xt.join(".")},b),(ot=R[ft])||(ot=R[ft]=[],ot.delegateCount=0,(!mt.setup||mt.setup.call(o,v,Xt,T)===!1)&&o.addEventListener&&o.addEventListener(ft,T)),mt.add&&(mt.add.call(o,ut),ut.handler.guid||(ut.handler.guid=g.guid)),w?ot.splice(ot.delegateCount++,0,ut):ot.push(ut),d.event.global[ft]=!0)},remove:function(o,l,g,v,w){var b,T,U,R,nt,ut,mt,ot,ft,Xt,ge,Rt=Z.hasData(o)&&Z.get(o);if(!(!Rt||!(R=Rt.events))){for(l=(l||"").match(zt)||[""],nt=l.length;nt--;){if(U=Mn.exec(l[nt])||[],ft=ge=U[1],Xt=(U[2]||"").split(".").sort(),!ft){for(ft in R)d.event.remove(o,ft+l[nt],g,v,!0);continue}for(mt=d.event.special[ft]||{},ft=(v?mt.delegateType:mt.bindType)||ft,ot=R[ft]||[],U=U[2]&&new RegExp("(^|\\.)"+Xt.join("\\.(?:.*\\.|)")+"(\\.|$)"),T=b=ot.length;b--;)ut=ot[b],(w||ge===ut.origType)&&(!g||g.guid===ut.guid)&&(!U||U.test(ut.namespace))&&(!v||v===ut.selector||v==="**"&&ut.selector)&&(ot.splice(b,1),ut.selector&&ot.delegateCount--,mt.remove&&mt.remove.call(o,ut));T&&!ot.length&&((!mt.teardown||mt.teardown.call(o,Xt,Rt.handle)===!1)&&d.removeEvent(o,ft,Rt.handle),delete R[ft])}d.isEmptyObject(R)&&Z.remove(o,"handle events")}},dispatch:function(o){var l,g,v,w,b,T,U=new Array(arguments.length),R=d.event.fix(o),nt=(Z.get(this,"events")||Object.create(null))[R.type]||[],ut=d.event.special[R.type]||{};for(U[0]=R,l=1;l<arguments.length;l++)U[l]=arguments[l];if(R.delegateTarget=this,!(ut.preDispatch&&ut.preDispatch.call(this,R)===!1)){for(T=d.event.handlers.call(this,R,nt),l=0;(w=T[l++])&&!R.isPropagationStopped();)for(R.currentTarget=w.elem,g=0;(b=w.handlers[g++])&&!R.isImmediatePropagationStopped();)(!R.rnamespace||b.namespace===!1||R.rnamespace.test(b.namespace))&&(R.handleObj=b,R.data=b.data,v=((d.event.special[b.origType]||{}).handle||b.handler).apply(w.elem,U),v!==void 0&&(R.result=v)===!1&&(R.preventDefault(),R.stopPropagation()));return ut.postDispatch&&ut.postDispatch.call(this,R),R.result}},handlers:function(o,l){var g,v,w,b,T,U=[],R=l.delegateCount,nt=o.target;if(R&&nt.nodeType&&!(o.type==="click"&&o.button>=1)){for(;nt!==this;nt=nt.parentNode||this)if(nt.nodeType===1&&!(o.type==="click"&&nt.disabled===!0)){for(b=[],T={},g=0;g<R;g++)v=l[g],w=v.selector+" ",T[w]===void 0&&(T[w]=v.needsContext?d(w,this).index(nt)>-1:d.find(w,this,null,[nt]).length),T[w]&&b.push(v);b.length&&U.push({elem:nt,handlers:b})}}return nt=this,R<l.length&&U.push({elem:nt,handlers:l.slice(R)}),U},addProp:function(o,l){Object.defineProperty(d.Event.prototype,o,{enumerable:!0,configurable:!0,get:X(l)?function(){if(this.originalEvent)return l(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[o]},set:function(g){Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(o){return o[d.expando]?o:new d.Event(o)},special:{load:{noBubble:!0},click:{setup:function(o){var l=this||o;return Nn.test(l.type)&&l.click&&pt(l,"input")&&ni(l,"click",Ir),!1},trigger:function(o){var l=this||o;return Nn.test(l.type)&&l.click&&pt(l,"input")&&ni(l,"click"),!0},_default:function(o){var l=o.target;return Nn.test(l.type)&&l.click&&pt(l,"input")&&Z.get(l,"click")||pt(l,"a")}},beforeunload:{postDispatch:function(o){o.result!==void 0&&o.originalEvent&&(o.originalEvent.returnValue=o.result)}}}};function ni(o,l,g){if(!g){Z.get(o,l)===void 0&&d.event.add(o,l,Ir);return}Z.set(o,l,!1),d.event.add(o,l,{namespace:!1,handler:function(v){var w,b,T=Z.get(this,l);if(v.isTrigger&1&&this[l]){if(T.length)(d.event.special[l]||{}).delegateType&&v.stopPropagation();else if(T=u.call(arguments),Z.set(this,l,T),w=g(this,l),this[l](),b=Z.get(this,l),T!==b||w?Z.set(this,l,!1):b={},T!==b)return v.stopImmediatePropagation(),v.preventDefault(),b&&b.value}else T.length&&(Z.set(this,l,{value:d.event.trigger(d.extend(T[0],d.Event.prototype),T.slice(1),this)}),v.stopImmediatePropagation())}})}d.removeEvent=function(o,l,g){o.removeEventListener&&o.removeEventListener(l,g)},d.Event=function(o,l){if(!(this instanceof d.Event))return new d.Event(o,l);o&&o.type?(this.originalEvent=o,this.type=o.type,this.isDefaultPrevented=o.defaultPrevented||o.defaultPrevented===void 0&&o.returnValue===!1?Ir:Fr,this.target=o.target&&o.target.nodeType===3?o.target.parentNode:o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget):this.type=o,l&&d.extend(this,l),this.timeStamp=o&&o.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Fr,isPropagationStopped:Fr,isImmediatePropagationStopped:Fr,isSimulated:!1,preventDefault:function(){var o=this.originalEvent;this.isDefaultPrevented=Ir,o&&!this.isSimulated&&o.preventDefault()},stopPropagation:function(){var o=this.originalEvent;this.isPropagationStopped=Ir,o&&!this.isSimulated&&o.stopPropagation()},stopImmediatePropagation:function(){var o=this.originalEvent;this.isImmediatePropagationStopped=Ir,o&&!this.isSimulated&&o.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(o,l){d.event.special[o]={setup:function(){return ni(this,o,Vi),!1},trigger:function(){return ni(this,o),!0},_default:function(g){return Z.get(g.target,o)},delegateType:l}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(o,l){d.event.special[o]={delegateType:l,bindType:l,handle:function(g){var v,w=this,b=g.relatedTarget,T=g.handleObj;return(!b||b!==w&&!d.contains(w,b))&&(g.type=T.origType,v=T.handler.apply(this,arguments),g.type=l),v}}}),d.fn.extend({on:function(o,l,g,v){return Hi(this,o,l,g,v)},one:function(o,l,g,v){return Hi(this,o,l,g,v,1)},off:function(o,l,g){var v,w;if(o&&o.preventDefault&&o.handleObj)return v=o.handleObj,d(o.delegateTarget).off(v.namespace?v.origType+"."+v.namespace:v.origType,v.selector,v.handler),this;if(typeof o=="object"){for(w in o)this.off(w,l,o[w]);return this}return(l===!1||typeof l=="function")&&(g=l,l=void 0),g===!1&&(g=Fr),this.each(function(){d.event.remove(this,o,g,l)})}});var xi=/<script|<style|<link/i,ds=/checked\s*(?:[^=]|=\s*.checked.)/i,qs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ri(o,l){return pt(o,"table")&&pt(l.nodeType!==11?l:l.firstChild,"tr")&&d(o).children("tbody")[0]||o}function Ni(o){return o.type=(o.getAttribute("type")!==null)+"/"+o.type,o}function Mi(o){return(o.type||"").slice(0,5)==="true/"?o.type=o.type.slice(5):o.removeAttribute("type"),o}function ii(o,l){var g,v,w,b,T,U,R;if(l.nodeType===1){if(Z.hasData(o)&&(b=Z.get(o),R=b.events,R)){Z.remove(l,"handle events");for(w in R)for(g=0,v=R[w].length;g<v;g++)d.event.add(l,w,R[w][g])}$.hasData(o)&&(T=$.access(o),U=d.extend({},T),$.set(l,U))}}function $s(o,l){var g=l.nodeName.toLowerCase();g==="input"&&Nn.test(o.type)?l.checked=o.checked:(g==="input"||g==="textarea")&&(l.defaultValue=o.defaultValue)}function Mr(o,l,g,v){l=c(l);var w,b,T,U,R,nt,ut=0,mt=o.length,ot=mt-1,ft=l[0],Xt=X(ft);if(Xt||mt>1&&typeof ft=="string"&&!j.checkClone&&ds.test(ft))return o.each(function(ge){var Rt=o.eq(ge);Xt&&(l[0]=ft.call(this,ge,Rt.html())),Mr(Rt,l,g,v)});if(mt&&(w=bi(l,o[0].ownerDocument,!1,o,v),b=w.firstChild,w.childNodes.length===1&&(w=b),b||v)){for(T=d.map(sn(w,"script"),Ni),U=T.length;ut<mt;ut++)R=w,ut!==ot&&(R=d.clone(R,!0,!0),U&&d.merge(T,sn(R,"script"))),g.call(o[ut],R,ut);if(U)for(nt=T[T.length-1].ownerDocument,d.map(T,Mi),ut=0;ut<U;ut++)R=T[ut],vr.test(R.type||"")&&!Z.access(R,"globalEval")&&d.contains(nt,R)&&(R.src&&(R.type||"").toLowerCase()!=="module"?d._evalUrl&&!R.noModule&&d._evalUrl(R.src,{nonce:R.nonce||R.getAttribute("nonce")},nt):y(R.textContent.replace(qs,""),R,nt))}return o}function An(o,l,g){for(var v,w=l?d.filter(l,o):o,b=0;(v=w[b])!=null;b++)!g&&v.nodeType===1&&d.cleanData(sn(v)),v.parentNode&&(g&&Je(v)&&ei(sn(v,"script")),v.parentNode.removeChild(v));return o}d.extend({htmlPrefilter:function(o){return o},clone:function(o,l,g){var v,w,b,T,U=o.cloneNode(!0),R=Je(o);if(!j.noCloneChecked&&(o.nodeType===1||o.nodeType===11)&&!d.isXMLDoc(o))for(T=sn(U),b=sn(o),v=0,w=b.length;v<w;v++)$s(b[v],T[v]);if(l)if(g)for(b=b||sn(o),T=T||sn(U),v=0,w=b.length;v<w;v++)ii(b[v],T[v]);else ii(o,U);return T=sn(U,"script"),T.length>0&&ei(T,!R&&sn(o,"script")),U},cleanData:function(o){for(var l,g,v,w=d.event.special,b=0;(g=o[b])!==void 0;b++)if(N(g)){if(l=g[Z.expando]){if(l.events)for(v in l.events)w[v]?d.event.remove(g,v):d.removeEvent(g,v,l.handle);g[Z.expando]=void 0}g[$.expando]&&(g[$.expando]=void 0)}}}),d.fn.extend({detach:function(o){return An(this,o,!0)},remove:function(o){return An(this,o)},text:function(o){return Vt(this,function(l){return l===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=l)})},null,o,arguments.length)},append:function(){return Mr(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=ri(this,o);l.appendChild(o)}})},prepend:function(){return Mr(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=ri(this,o);l.insertBefore(o,l.firstChild)}})},before:function(){return Mr(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this)})},after:function(){return Mr(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling)})},empty:function(){for(var o,l=0;(o=this[l])!=null;l++)o.nodeType===1&&(d.cleanData(sn(o,!1)),o.textContent="");return this},clone:function(o,l){return o=o==null?!1:o,l=l==null?o:l,this.map(function(){return d.clone(this,o,l)})},html:function(o){return Vt(this,function(l){var g=this[0]||{},v=0,w=this.length;if(l===void 0&&g.nodeType===1)return g.innerHTML;if(typeof l=="string"&&!xi.test(l)&&!Qe[(pr.exec(l)||["",""])[1].toLowerCase()]){l=d.htmlPrefilter(l);try{for(;v<w;v++)g=this[v]||{},g.nodeType===1&&(d.cleanData(sn(g,!1)),g.innerHTML=l);g=0}catch{}}g&&this.empty().append(l)},null,o,arguments.length)},replaceWith:function(){var o=[];return Mr(this,arguments,function(l){var g=this.parentNode;d.inArray(this,o)<0&&(d.cleanData(sn(this)),g&&g.replaceChild(l,this))},o)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(o,l){d.fn[o]=function(g){for(var v,w=[],b=d(g),T=b.length-1,U=0;U<=T;U++)v=U===T?this:this.clone(!0),d(b[U])[l](v),h.apply(w,v.get());return this.pushStack(w)}});var Ji=new RegExp("^("+kt+")(?!px)[a-z%]+$","i"),Si=/^--/,Sr=function(o){var l=o.ownerDocument.defaultView;return(!l||!l.opener)&&(l=e),l.getComputedStyle(o)},ps=function(o,l,g){var v,w,b={};for(w in l)b[w]=o.style[w],o.style[w]=l[w];v=g.call(o);for(w in l)o.style[w]=b[w];return v},vs=new RegExp(Ze.join("|"),"i"),ta="[\\x20\\t\\r\\n\\f]",Pa=new RegExp("^"+ta+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ta+"+$","g");(function(){function o(){if(!!nt){R.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",nt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(R).appendChild(nt);var ut=e.getComputedStyle(nt);g=ut.top!=="1%",U=l(ut.marginLeft)===12,nt.style.right="60%",b=l(ut.right)===36,v=l(ut.width)===36,nt.style.position="absolute",w=l(nt.offsetWidth/3)===12,me.removeChild(R),nt=null}}function l(ut){return Math.round(parseFloat(ut))}var g,v,w,b,T,U,R=J.createElement("div"),nt=J.createElement("div");!nt.style||(nt.style.backgroundClip="content-box",nt.cloneNode(!0).style.backgroundClip="",j.clearCloneStyle=nt.style.backgroundClip==="content-box",d.extend(j,{boxSizingReliable:function(){return o(),v},pixelBoxStyles:function(){return o(),b},pixelPosition:function(){return o(),g},reliableMarginLeft:function(){return o(),U},scrollboxSize:function(){return o(),w},reliableTrDimensions:function(){var ut,mt,ot,ft;return T==null&&(ut=J.createElement("table"),mt=J.createElement("tr"),ot=J.createElement("div"),ut.style.cssText="position:absolute;left:-11111px;border-collapse:separate",mt.style.cssText="border:1px solid",mt.style.height="1px",ot.style.height="9px",ot.style.display="block",me.appendChild(ut).appendChild(mt).appendChild(ot),ft=e.getComputedStyle(mt),T=parseInt(ft.height,10)+parseInt(ft.borderTopWidth,10)+parseInt(ft.borderBottomWidth,10)===mt.offsetHeight,me.removeChild(ut)),T}}))})();function Ti(o,l,g){var v,w,b,T,U=Si.test(l),R=o.style;return g=g||Sr(o),g&&(T=g.getPropertyValue(l)||g[l],U&&(T=T.replace(Pa,"$1")),T===""&&!Je(o)&&(T=d.style(o,l)),!j.pixelBoxStyles()&&Ji.test(T)&&vs.test(l)&&(v=R.width,w=R.minWidth,b=R.maxWidth,R.minWidth=R.maxWidth=R.width=T,T=g.width,R.width=v,R.minWidth=w,R.maxWidth=b)),T!==void 0?T+"":T}function Qi(o,l){return{get:function(){if(o()){delete this.get;return}return(this.get=l).apply(this,arguments)}}}var ea=["Webkit","Moz","ms"],na=J.createElement("div").style,Di={};function ka(o){for(var l=o[0].toUpperCase()+o.slice(1),g=ea.length;g--;)if(o=ea[g]+l,o in na)return o}function si(o){var l=d.cssProps[o]||Di[o];return l||(o in na?o:Di[o]=ka(o)||o)}var ra=/^(none|table(?!-c[ea]).+)/,ai={position:"absolute",visibility:"hidden",display:"block"},ms={letterSpacing:"0",fontWeight:"400"};function Cn(o,l,g){var v=se.exec(l);return v?Math.max(0,v[2]-(g||0))+(v[3]||"px"):l}function nr(o,l,g,v,w,b){var T=l==="width"?1:0,U=0,R=0;if(g===(v?"border":"content"))return 0;for(;T<4;T+=2)g==="margin"&&(R+=d.css(o,g+Ze[T],!0,w)),v?(g==="content"&&(R-=d.css(o,"padding"+Ze[T],!0,w)),g!=="margin"&&(R-=d.css(o,"border"+Ze[T]+"Width",!0,w))):(R+=d.css(o,"padding"+Ze[T],!0,w),g!=="padding"?R+=d.css(o,"border"+Ze[T]+"Width",!0,w):U+=d.css(o,"border"+Ze[T]+"Width",!0,w));return!v&&b>=0&&(R+=Math.max(0,Math.ceil(o["offset"+l[0].toUpperCase()+l.slice(1)]-b-R-U-.5))||0),R}function Is(o,l,g){var v=Sr(o),w=!j.boxSizingReliable()||g,b=w&&d.css(o,"boxSizing",!1,v)==="border-box",T=b,U=Ti(o,l,v),R="offset"+l[0].toUpperCase()+l.slice(1);if(Ji.test(U)){if(!g)return U;U="auto"}return(!j.boxSizingReliable()&&b||!j.reliableTrDimensions()&&pt(o,"tr")||U==="auto"||!parseFloat(U)&&d.css(o,"display",!1,v)==="inline")&&o.getClientRects().length&&(b=d.css(o,"boxSizing",!1,v)==="border-box",T=R in o,T&&(U=o[R])),U=parseFloat(U)||0,U+nr(o,l,g||(b?"border":"content"),T,v,U)+"px"}d.extend({cssHooks:{opacity:{get:function(o,l){if(l){var g=Ti(o,"opacity");return g===""?"1":g}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(o,l,g,v){if(!(!o||o.nodeType===3||o.nodeType===8||!o.style)){var w,b,T,U=xt(l),R=Si.test(l),nt=o.style;if(R||(l=si(U)),T=d.cssHooks[l]||d.cssHooks[U],g!==void 0){if(b=typeof g,b==="string"&&(w=se.exec(g))&&w[1]&&(g=Xe(o,l,w),b="number"),g==null||g!==g)return;b==="number"&&!R&&(g+=w&&w[3]||(d.cssNumber[U]?"":"px")),!j.clearCloneStyle&&g===""&&l.indexOf("background")===0&&(nt[l]="inherit"),(!T||!("set"in T)||(g=T.set(o,g,v))!==void 0)&&(R?nt.setProperty(l,g):nt[l]=g)}else return T&&"get"in T&&(w=T.get(o,!1,v))!==void 0?w:nt[l]}},css:function(o,l,g,v){var w,b,T,U=xt(l),R=Si.test(l);return R||(l=si(U)),T=d.cssHooks[l]||d.cssHooks[U],T&&"get"in T&&(w=T.get(o,!0,g)),w===void 0&&(w=Ti(o,l,v)),w==="normal"&&l in ms&&(w=ms[l]),g===""||g?(b=parseFloat(w),g===!0||isFinite(b)?b||0:w):w}}),d.each(["height","width"],function(o,l){d.cssHooks[l]={get:function(g,v,w){if(v)return ra.test(d.css(g,"display"))&&(!g.getClientRects().length||!g.getBoundingClientRect().width)?ps(g,ai,function(){return Is(g,l,w)}):Is(g,l,w)},set:function(g,v,w){var b,T=Sr(g),U=!j.scrollboxSize()&&T.position==="absolute",R=U||w,nt=R&&d.css(g,"boxSizing",!1,T)==="border-box",ut=w?nr(g,l,w,nt,T):0;return nt&&U&&(ut-=Math.ceil(g["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(T[l])-nr(g,l,"border",!1,T)-.5)),ut&&(b=se.exec(v))&&(b[3]||"px")!=="px"&&(g.style[l]=v,v=d.css(g,l)),Cn(g,v,ut)}}}),d.cssHooks.marginLeft=Qi(j.reliableMarginLeft,function(o,l){if(l)return(parseFloat(Ti(o,"marginLeft"))||o.getBoundingClientRect().left-ps(o,{marginLeft:0},function(){return o.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(o,l){d.cssHooks[o+l]={expand:function(g){for(var v=0,w={},b=typeof g=="string"?g.split(" "):[g];v<4;v++)w[o+Ze[v]+l]=b[v]||b[v-2]||b[0];return w}},o!=="margin"&&(d.cssHooks[o+l].set=Cn)}),d.fn.extend({css:function(o,l){return Vt(this,function(g,v,w){var b,T,U={},R=0;if(Array.isArray(v)){for(b=Sr(g),T=v.length;R<T;R++)U[v[R]]=d.css(g,v[R],!1,b);return U}return w!==void 0?d.style(g,v,w):d.css(g,v)},o,l,arguments.length>1)}});function yn(o,l,g,v,w){return new yn.prototype.init(o,l,g,v,w)}d.Tween=yn,yn.prototype={constructor:yn,init:function(o,l,g,v,w,b){this.elem=o,this.prop=g,this.easing=w||d.easing._default,this.options=l,this.start=this.now=this.cur(),this.end=v,this.unit=b||(d.cssNumber[g]?"":"px")},cur:function(){var o=yn.propHooks[this.prop];return o&&o.get?o.get(this):yn.propHooks._default.get(this)},run:function(o){var l,g=yn.propHooks[this.prop];return this.options.duration?this.pos=l=d.easing[this.easing](o,this.options.duration*o,0,1,this.options.duration):this.pos=l=o,this.now=(this.end-this.start)*l+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):yn.propHooks._default.set(this),this}},yn.prototype.init.prototype=yn.prototype,yn.propHooks={_default:{get:function(o){var l;return o.elem.nodeType!==1||o.elem[o.prop]!=null&&o.elem.style[o.prop]==null?o.elem[o.prop]:(l=d.css(o.elem,o.prop,""),!l||l==="auto"?0:l)},set:function(o){d.fx.step[o.prop]?d.fx.step[o.prop](o):o.elem.nodeType===1&&(d.cssHooks[o.prop]||o.elem.style[si(o.prop)]!=null)?d.style(o.elem,o.prop,o.now+o.unit):o.elem[o.prop]=o.now}}},yn.propHooks.scrollTop=yn.propHooks.scrollLeft={set:function(o){o.elem.nodeType&&o.elem.parentNode&&(o.elem[o.prop]=o.now)}},d.easing={linear:function(o){return o},swing:function(o){return .5-Math.cos(o*Math.PI)/2},_default:"swing"},d.fx=yn.prototype.init,d.fx.step={};var oi,ui,ia=/^(?:toggle|show|hide)$/,sa=/queueHooks$/;function Li(){ui&&(J.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Li):e.setTimeout(Li,d.fx.interval),d.fx.tick())}function Ki(){return e.setTimeout(function(){oi=void 0}),oi=Date.now()}function Tr(o,l){var g,v=0,w={height:o};for(l=l?1:0;v<4;v+=2-l)g=Ze[v],w["margin"+g]=w["padding"+g]=o;return l&&(w.opacity=w.width=o),w}function As(o,l,g){for(var v,w=(zn.tweeners[l]||[]).concat(zn.tweeners["*"]),b=0,T=w.length;b<T;b++)if(v=w[b].call(g,l,o))return v}function Cs(o,l,g){var v,w,b,T,U,R,nt,ut,mt="width"in l||"height"in l,ot=this,ft={},Xt=o.style,ge=o.nodeType&&mn(o),Rt=Z.get(o,"fxshow");g.queue||(T=d._queueHooks(o,"fx"),T.unqueued==null&&(T.unqueued=0,U=T.empty.fire,T.empty.fire=function(){T.unqueued||U()}),T.unqueued++,ot.always(function(){ot.always(function(){T.unqueued--,d.queue(o,"fx").length||T.empty.fire()})}));for(v in l)if(w=l[v],ia.test(w)){if(delete l[v],b=b||w==="toggle",w===(ge?"hide":"show"))if(w==="show"&&Rt&&Rt[v]!==void 0)ge=!0;else continue;ft[v]=Rt&&Rt[v]||d.style(o,v)}if(R=!d.isEmptyObject(l),!(!R&&d.isEmptyObject(ft))){mt&&o.nodeType===1&&(g.overflow=[Xt.overflow,Xt.overflowX,Xt.overflowY],nt=Rt&&Rt.display,nt==null&&(nt=Z.get(o,"display")),ut=d.css(o,"display"),ut==="none"&&(nt?ut=nt:(In([o],!0),nt=o.style.display||nt,ut=d.css(o,"display"),In([o]))),(ut==="inline"||ut==="inline-block"&&nt!=null)&&d.css(o,"float")==="none"&&(R||(ot.done(function(){Xt.display=nt}),nt==null&&(ut=Xt.display,nt=ut==="none"?"":ut)),Xt.display="inline-block")),g.overflow&&(Xt.overflow="hidden",ot.always(function(){Xt.overflow=g.overflow[0],Xt.overflowX=g.overflow[1],Xt.overflowY=g.overflow[2]})),R=!1;for(v in ft)R||(Rt?"hidden"in Rt&&(ge=Rt.hidden):Rt=Z.access(o,"fxshow",{display:nt}),b&&(Rt.hidden=!ge),ge&&In([o],!0),ot.done(function(){ge||In([o]),Z.remove(o,"fxshow");for(v in ft)d.style(o,v,ft[v])})),R=As(ge?Rt[v]:0,v,ot),v in Rt||(Rt[v]=R.start,ge&&(R.end=R.start,R.start=0))}}function Pi(o,l){var g,v,w,b,T;for(g in o)if(v=xt(g),w=l[v],b=o[g],Array.isArray(b)&&(w=b[1],b=o[g]=b[0]),g!==v&&(o[v]=b,delete o[g]),T=d.cssHooks[v],T&&"expand"in T){b=T.expand(b),delete o[v];for(g in b)g in o||(o[g]=b[g],l[g]=w)}else l[v]=w}function zn(o,l,g){var v,w,b=0,T=zn.prefilters.length,U=d.Deferred().always(function(){delete R.elem}),R=function(){if(w)return!1;for(var mt=oi||Ki(),ot=Math.max(0,nt.startTime+nt.duration-mt),ft=ot/nt.duration||0,Xt=1-ft,ge=0,Rt=nt.tweens.length;ge<Rt;ge++)nt.tweens[ge].run(Xt);return U.notifyWith(o,[nt,Xt,ot]),Xt<1&&Rt?ot:(Rt||U.notifyWith(o,[nt,1,0]),U.resolveWith(o,[nt]),!1)},nt=U.promise({elem:o,props:d.extend({},l),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},g),originalProperties:l,originalOptions:g,startTime:oi||Ki(),duration:g.duration,tweens:[],createTween:function(mt,ot){var ft=d.Tween(o,nt.opts,mt,ot,nt.opts.specialEasing[mt]||nt.opts.easing);return nt.tweens.push(ft),ft},stop:function(mt){var ot=0,ft=mt?nt.tweens.length:0;if(w)return this;for(w=!0;ot<ft;ot++)nt.tweens[ot].run(1);return mt?(U.notifyWith(o,[nt,1,0]),U.resolveWith(o,[nt,mt])):U.rejectWith(o,[nt,mt]),this}}),ut=nt.props;for(Pi(ut,nt.opts.specialEasing);b<T;b++)if(v=zn.prefilters[b].call(nt,o,ut,nt.opts),v)return X(v.stop)&&(d._queueHooks(nt.elem,nt.opts.queue).stop=v.stop.bind(v)),v;return d.map(ut,As,nt),X(nt.opts.start)&&nt.opts.start.call(o,nt),nt.progress(nt.opts.progress).done(nt.opts.done,nt.opts.complete).fail(nt.opts.fail).always(nt.opts.always),d.fx.timer(d.extend(R,{elem:o,anim:nt,queue:nt.opts.queue})),nt}d.Animation=d.extend(zn,{tweeners:{"*":[function(o,l){var g=this.createTween(o,l);return Xe(g.elem,o,se.exec(l),g),g}]},tweener:function(o,l){X(o)?(l=o,o=["*"]):o=o.match(zt);for(var g,v=0,w=o.length;v<w;v++)g=o[v],zn.tweeners[g]=zn.tweeners[g]||[],zn.tweeners[g].unshift(l)},prefilters:[Cs],prefilter:function(o,l){l?zn.prefilters.unshift(o):zn.prefilters.push(o)}}),d.speed=function(o,l,g){var v=o&&typeof o=="object"?d.extend({},o):{complete:g||!g&&l||X(o)&&o,duration:o,easing:g&&l||l&&!X(l)&&l};return d.fx.off?v.duration=0:typeof v.duration!="number"&&(v.duration in d.fx.speeds?v.duration=d.fx.speeds[v.duration]:v.duration=d.fx.speeds._default),(v.queue==null||v.queue===!0)&&(v.queue="fx"),v.old=v.complete,v.complete=function(){X(v.old)&&v.old.call(this),v.queue&&d.dequeue(this,v.queue)},v},d.fn.extend({fadeTo:function(o,l,g,v){return this.filter(mn).css("opacity",0).show().end().animate({opacity:l},o,g,v)},animate:function(o,l,g,v){var w=d.isEmptyObject(o),b=d.speed(l,g,v),T=function(){var U=zn(this,d.extend({},o),b);(w||Z.get(this,"finish"))&&U.stop(!0)};return T.finish=T,w||b.queue===!1?this.each(T):this.queue(b.queue,T)},stop:function(o,l,g){var v=function(w){var b=w.stop;delete w.stop,b(g)};return typeof o!="string"&&(g=l,l=o,o=void 0),l&&this.queue(o||"fx",[]),this.each(function(){var w=!0,b=o!=null&&o+"queueHooks",T=d.timers,U=Z.get(this);if(b)U[b]&&U[b].stop&&v(U[b]);else for(b in U)U[b]&&U[b].stop&&sa.test(b)&&v(U[b]);for(b=T.length;b--;)T[b].elem===this&&(o==null||T[b].queue===o)&&(T[b].anim.stop(g),w=!1,T.splice(b,1));(w||!g)&&d.dequeue(this,o)})},finish:function(o){return o!==!1&&(o=o||"fx"),this.each(function(){var l,g=Z.get(this),v=g[o+"queue"],w=g[o+"queueHooks"],b=d.timers,T=v?v.length:0;for(g.finish=!0,d.queue(this,o,[]),w&&w.stop&&w.stop.call(this,!0),l=b.length;l--;)b[l].elem===this&&b[l].queue===o&&(b[l].anim.stop(!0),b.splice(l,1));for(l=0;l<T;l++)v[l]&&v[l].finish&&v[l].finish.call(this);delete g.finish})}}),d.each(["toggle","show","hide"],function(o,l){var g=d.fn[l];d.fn[l]=function(v,w,b){return v==null||typeof v=="boolean"?g.apply(this,arguments):this.animate(Tr(l,!0),v,w,b)}}),d.each({slideDown:Tr("show"),slideUp:Tr("hide"),slideToggle:Tr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(o,l){d.fn[o]=function(g,v,w){return this.animate(l,g,v,w)}}),d.timers=[],d.fx.tick=function(){var o,l=0,g=d.timers;for(oi=Date.now();l<g.length;l++)o=g[l],!o()&&g[l]===o&&g.splice(l--,1);g.length||d.fx.stop(),oi=void 0},d.fx.timer=function(o){d.timers.push(o),d.fx.start()},d.fx.interval=13,d.fx.start=function(){ui||(ui=!0,Li())},d.fx.stop=function(){ui=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(o,l){return o=d.fx&&d.fx.speeds[o]||o,l=l||"fx",this.queue(l,function(g,v){var w=e.setTimeout(g,o);v.stop=function(){e.clearTimeout(w)}})},function(){var o=J.createElement("input"),l=J.createElement("select"),g=l.appendChild(J.createElement("option"));o.type="checkbox",j.checkOn=o.value!=="",j.optSelected=g.selected,o=J.createElement("input"),o.value="t",o.type="radio",j.radioValue=o.value==="t"}();var aa,Dr=d.expr.attrHandle;d.fn.extend({attr:function(o,l){return Vt(this,d.attr,o,l,arguments.length>1)},removeAttr:function(o){return this.each(function(){d.removeAttr(this,o)})}}),d.extend({attr:function(o,l,g){var v,w,b=o.nodeType;if(!(b===3||b===8||b===2)){if(typeof o.getAttribute>"u")return d.prop(o,l,g);if((b!==1||!d.isXMLDoc(o))&&(w=d.attrHooks[l.toLowerCase()]||(d.expr.match.bool.test(l)?aa:void 0)),g!==void 0){if(g===null){d.removeAttr(o,l);return}return w&&"set"in w&&(v=w.set(o,g,l))!==void 0?v:(o.setAttribute(l,g+""),g)}return w&&"get"in w&&(v=w.get(o,l))!==null?v:(v=d.find.attr(o,l),v==null?void 0:v)}},attrHooks:{type:{set:function(o,l){if(!j.radioValue&&l==="radio"&&pt(o,"input")){var g=o.value;return o.setAttribute("type",l),g&&(o.value=g),l}}}},removeAttr:function(o,l){var g,v=0,w=l&&l.match(zt);if(w&&o.nodeType===1)for(;g=w[v++];)o.removeAttribute(g)}}),aa={set:function(o,l,g){return l===!1?d.removeAttr(o,g):o.setAttribute(g,g),g}},d.each(d.expr.match.bool.source.match(/\w+/g),function(o,l){var g=Dr[l]||d.find.attr;Dr[l]=function(v,w,b){var T,U,R=w.toLowerCase();return b||(U=Dr[R],Dr[R]=T,T=g(v,w,b)!=null?R:null,Dr[R]=U),T}});var rr=/^(?:input|select|textarea|button)$/i,Ar=/^(?:a|area)$/i;d.fn.extend({prop:function(o,l){return Vt(this,d.prop,o,l,arguments.length>1)},removeProp:function(o){return this.each(function(){delete this[d.propFix[o]||o]})}}),d.extend({prop:function(o,l,g){var v,w,b=o.nodeType;if(!(b===3||b===8||b===2))return(b!==1||!d.isXMLDoc(o))&&(l=d.propFix[l]||l,w=d.propHooks[l]),g!==void 0?w&&"set"in w&&(v=w.set(o,g,l))!==void 0?v:o[l]=g:w&&"get"in w&&(v=w.get(o,l))!==null?v:o[l]},propHooks:{tabIndex:{get:function(o){var l=d.find.attr(o,"tabindex");return l?parseInt(l,10):rr.test(o.nodeName)||Ar.test(o.nodeName)&&o.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),j.optSelected||(d.propHooks.selected={get:function(o){var l=o.parentNode;return l&&l.parentNode&&l.parentNode.selectedIndex,null},set:function(o){var l=o.parentNode;l&&(l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function Lr(o){var l=o.match(zt)||[];return l.join(" ")}function ir(o){return o.getAttribute&&o.getAttribute("class")||""}function li(o){return Array.isArray(o)?o:typeof o=="string"?o.match(zt)||[]:[]}d.fn.extend({addClass:function(o){var l,g,v,w,b,T;return X(o)?this.each(function(U){d(this).addClass(o.call(this,U,ir(this)))}):(l=li(o),l.length?this.each(function(){if(v=ir(this),g=this.nodeType===1&&" "+Lr(v)+" ",g){for(b=0;b<l.length;b++)w=l[b],g.indexOf(" "+w+" ")<0&&(g+=w+" ");T=Lr(g),v!==T&&this.setAttribute("class",T)}}):this)},removeClass:function(o){var l,g,v,w,b,T;return X(o)?this.each(function(U){d(this).removeClass(o.call(this,U,ir(this)))}):arguments.length?(l=li(o),l.length?this.each(function(){if(v=ir(this),g=this.nodeType===1&&" "+Lr(v)+" ",g){for(b=0;b<l.length;b++)for(w=l[b];g.indexOf(" "+w+" ")>-1;)g=g.replace(" "+w+" "," ");T=Lr(g),v!==T&&this.setAttribute("class",T)}}):this):this.attr("class","")},toggleClass:function(o,l){var g,v,w,b,T=typeof o,U=T==="string"||Array.isArray(o);return X(o)?this.each(function(R){d(this).toggleClass(o.call(this,R,ir(this),l),l)}):typeof l=="boolean"&&U?l?this.addClass(o):this.removeClass(o):(g=li(o),this.each(function(){if(U)for(b=d(this),w=0;w<g.length;w++)v=g[w],b.hasClass(v)?b.removeClass(v):b.addClass(v);else(o===void 0||T==="boolean")&&(v=ir(this),v&&Z.set(this,"__className__",v),this.setAttribute&&this.setAttribute("class",v||o===!1?"":Z.get(this,"__className__")||""))}))},hasClass:function(o){var l,g,v=0;for(l=" "+o+" ";g=this[v++];)if(g.nodeType===1&&(" "+Lr(ir(g))+" ").indexOf(l)>-1)return!0;return!1}});var Pr=/\r/g;d.fn.extend({val:function(o){var l,g,v,w=this[0];return arguments.length?(v=X(o),this.each(function(b){var T;this.nodeType===1&&(v?T=o.call(this,b,d(this).val()):T=o,T==null?T="":typeof T=="number"?T+="":Array.isArray(T)&&(T=d.map(T,function(U){return U==null?"":U+""})),l=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!l||!("set"in l)||l.set(this,T,"value")===void 0)&&(this.value=T))})):w?(l=d.valHooks[w.type]||d.valHooks[w.nodeName.toLowerCase()],l&&"get"in l&&(g=l.get(w,"value"))!==void 0?g:(g=w.value,typeof g=="string"?g.replace(Pr,""):g==null?"":g)):void 0}}),d.extend({valHooks:{option:{get:function(o){var l=d.find.attr(o,"value");return l!=null?l:Lr(d.text(o))}},select:{get:function(o){var l,g,v,w=o.options,b=o.selectedIndex,T=o.type==="select-one",U=T?null:[],R=T?b+1:w.length;for(b<0?v=R:v=T?b:0;v<R;v++)if(g=w[v],(g.selected||v===b)&&!g.disabled&&(!g.parentNode.disabled||!pt(g.parentNode,"optgroup"))){if(l=d(g).val(),T)return l;U.push(l)}return U},set:function(o,l){for(var g,v,w=o.options,b=d.makeArray(l),T=w.length;T--;)v=w[T],(v.selected=d.inArray(d.valHooks.option.get(v),b)>-1)&&(g=!0);return g||(o.selectedIndex=-1),b}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(o,l){if(Array.isArray(l))return o.checked=d.inArray(d(o).val(),l)>-1}},j.checkOn||(d.valHooks[this].get=function(o){return o.getAttribute("value")===null?"on":o.value})}),j.focusin="onfocusin"in e;var kr=/^(?:focusinfocus|focusoutblur)$/,qi=function(o){o.stopPropagation()};d.extend(d.event,{trigger:function(o,l,g,v){var w,b,T,U,R,nt,ut,mt,ot=[g||J],ft=m.call(o,"type")?o.type:o,Xt=m.call(o,"namespace")?o.namespace.split("."):[];if(b=mt=T=g=g||J,!(g.nodeType===3||g.nodeType===8)&&!kr.test(ft+d.event.triggered)&&(ft.indexOf(".")>-1&&(Xt=ft.split("."),ft=Xt.shift(),Xt.sort()),R=ft.indexOf(":")<0&&"on"+ft,o=o[d.expando]?o:new d.Event(ft,typeof o=="object"&&o),o.isTrigger=v?2:3,o.namespace=Xt.join("."),o.rnamespace=o.namespace?new RegExp("(^|\\.)"+Xt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=g),l=l==null?[o]:d.makeArray(l,[o]),ut=d.event.special[ft]||{},!(!v&&ut.trigger&&ut.trigger.apply(g,l)===!1))){if(!v&&!ut.noBubble&&!Q(g)){for(U=ut.delegateType||ft,kr.test(U+ft)||(b=b.parentNode);b;b=b.parentNode)ot.push(b),T=b;T===(g.ownerDocument||J)&&ot.push(T.defaultView||T.parentWindow||e)}for(w=0;(b=ot[w++])&&!o.isPropagationStopped();)mt=b,o.type=w>1?U:ut.bindType||ft,nt=(Z.get(b,"events")||Object.create(null))[o.type]&&Z.get(b,"handle"),nt&&nt.apply(b,l),nt=R&&b[R],nt&&nt.apply&&N(b)&&(o.result=nt.apply(b,l),o.result===!1&&o.preventDefault());return o.type=ft,!v&&!o.isDefaultPrevented()&&(!ut._default||ut._default.apply(ot.pop(),l)===!1)&&N(g)&&R&&X(g[ft])&&!Q(g)&&(T=g[R],T&&(g[R]=null),d.event.triggered=ft,o.isPropagationStopped()&&mt.addEventListener(ft,qi),g[ft](),o.isPropagationStopped()&&mt.removeEventListener(ft,qi),d.event.triggered=void 0,T&&(g[R]=T)),o.result}},simulate:function(o,l,g){var v=d.extend(new d.Event,g,{type:o,isSimulated:!0});d.event.trigger(v,null,l)}}),d.fn.extend({trigger:function(o,l){return this.each(function(){d.event.trigger(o,l,this)})},triggerHandler:function(o,l){var g=this[0];if(g)return d.event.trigger(o,l,g,!0)}}),j.focusin||d.each({focus:"focusin",blur:"focusout"},function(o,l){var g=function(v){d.event.simulate(l,v.target,d.event.fix(v))};d.event.special[l]={setup:function(){var v=this.ownerDocument||this.document||this,w=Z.access(v,l);w||v.addEventListener(o,g,!0),Z.access(v,l,(w||0)+1)},teardown:function(){var v=this.ownerDocument||this.document||this,w=Z.access(v,l)-1;w?Z.access(v,l,w):(v.removeEventListener(o,g,!0),Z.remove(v,l))}}});var Sn=e.location,oa={guid:Date.now()},ci=/\?/;d.parseXML=function(o){var l,g;if(!o||typeof o!="string")return null;try{l=new e.DOMParser().parseFromString(o,"text/xml")}catch{}return g=l&&l.getElementsByTagName("parsererror")[0],(!l||g)&&d.error("Invalid XML: "+(g?d.map(g.childNodes,function(v){return v.textContent}).join(`
`):o)),l};var ys=/\[\]$/,ws=/\r?\n/g,bs=/^(?:submit|button|image|reset|file)$/i,ua=/^(?:input|select|textarea|keygen)/i;function fi(o,l,g,v){var w;if(Array.isArray(l))d.each(l,function(b,T){g||ys.test(o)?v(o,T):fi(o+"["+(typeof T=="object"&&T!=null?b:"")+"]",T,g,v)});else if(!g&&M(l)==="object")for(w in l)fi(o+"["+w+"]",l[w],g,v);else v(o,l)}d.param=function(o,l){var g,v=[],w=function(b,T){var U=X(T)?T():T;v[v.length]=encodeURIComponent(b)+"="+encodeURIComponent(U==null?"":U)};if(o==null)return"";if(Array.isArray(o)||o.jquery&&!d.isPlainObject(o))d.each(o,function(){w(this.name,this.value)});else for(g in o)fi(g,o[g],l,w);return v.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var o=d.prop(this,"elements");return o?d.makeArray(o):this}).filter(function(){var o=this.type;return this.name&&!d(this).is(":disabled")&&ua.test(this.nodeName)&&!bs.test(o)&&(this.checked||!Nn.test(o))}).map(function(o,l){var g=d(this).val();return g==null?null:Array.isArray(g)?d.map(g,function(v){return{name:l.name,value:v.replace(ws,`\r
`)}}):{name:l.name,value:g.replace(ws,`\r
`)}}).get()}});var za=/%20/g,la=/#.*$/,Oa=/([?&])_=[^&]*/,Ea=/^(.*?):[ \t]*([^\r\n]*)$/mg,ja=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ca=/^(?:GET|HEAD)$/,xs=/^\/\//,Ns={},ki={},zi="*/".concat("*"),$i=J.createElement("a");$i.href=Sn.href;function fa(o){return function(l,g){typeof l!="string"&&(g=l,l="*");var v,w=0,b=l.toLowerCase().match(zt)||[];if(X(g))for(;v=b[w++];)v[0]==="+"?(v=v.slice(1)||"*",(o[v]=o[v]||[]).unshift(g)):(o[v]=o[v]||[]).push(g)}}function _e(o,l,g,v){var w={},b=o===ki;function T(U){var R;return w[U]=!0,d.each(o[U]||[],function(nt,ut){var mt=ut(l,g,v);if(typeof mt=="string"&&!b&&!w[mt])return l.dataTypes.unshift(mt),T(mt),!1;if(b)return!(R=mt)}),R}return T(l.dataTypes[0])||!w["*"]&&T("*")}function We(o,l){var g,v,w=d.ajaxSettings.flatOptions||{};for(g in l)l[g]!==void 0&&((w[g]?o:v||(v={}))[g]=l[g]);return v&&d.extend(!0,o,v),o}function Ms(o,l,g){for(var v,w,b,T,U=o.contents,R=o.dataTypes;R[0]==="*";)R.shift(),v===void 0&&(v=o.mimeType||l.getResponseHeader("Content-Type"));if(v){for(w in U)if(U[w]&&U[w].test(v)){R.unshift(w);break}}if(R[0]in g)b=R[0];else{for(w in g){if(!R[0]||o.converters[w+" "+R[0]]){b=w;break}T||(T=w)}b=b||T}if(b)return b!==R[0]&&R.unshift(b),g[b]}function Za(o,l,g,v){var w,b,T,U,R,nt={},ut=o.dataTypes.slice();if(ut[1])for(T in o.converters)nt[T.toLowerCase()]=o.converters[T];for(b=ut.shift();b;)if(o.responseFields[b]&&(g[o.responseFields[b]]=l),!R&&v&&o.dataFilter&&(l=o.dataFilter(l,o.dataType)),R=b,b=ut.shift(),b){if(b==="*")b=R;else if(R!=="*"&&R!==b){if(T=nt[R+" "+b]||nt["* "+b],!T){for(w in nt)if(U=w.split(" "),U[1]===b&&(T=nt[R+" "+U[0]]||nt["* "+U[0]],T)){T===!0?T=nt[w]:nt[w]!==!0&&(b=U[0],ut.unshift(U[1]));break}}if(T!==!0)if(T&&o.throws)l=T(l);else try{l=T(l)}catch(mt){return{state:"parsererror",error:T?mt:"No conversion from "+R+" to "+b}}}}return{state:"success",data:l}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Sn.href,type:"GET",isLocal:ja.test(Sn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(o,l){return l?We(We(o,d.ajaxSettings),l):We(d.ajaxSettings,o)},ajaxPrefilter:fa(Ns),ajaxTransport:fa(ki),ajax:function(o,l){typeof o=="object"&&(l=o,o=void 0),l=l||{};var g,v,w,b,T,U,R,nt,ut,mt,ot=d.ajaxSetup({},l),ft=ot.context||ot,Xt=ot.context&&(ft.nodeType||ft.jquery)?d(ft):d.event,ge=d.Deferred(),Rt=d.Callbacks("once memory"),en=ot.statusCode||{},nn={},xe={},Te="canceled",ue={readyState:0,getResponseHeader:function(De){var tn;if(R){if(!b)for(b={};tn=Ea.exec(w);)b[tn[1].toLowerCase()+" "]=(b[tn[1].toLowerCase()+" "]||[]).concat(tn[2]);tn=b[De.toLowerCase()+" "]}return tn==null?null:tn.join(", ")},getAllResponseHeaders:function(){return R?w:null},setRequestHeader:function(De,tn){return R==null&&(De=xe[De.toLowerCase()]=xe[De.toLowerCase()]||De,nn[De]=tn),this},overrideMimeType:function(De){return R==null&&(ot.mimeType=De),this},statusCode:function(De){var tn;if(De)if(R)ue.always(De[ue.status]);else for(tn in De)en[tn]=[en[tn],De[tn]];return this},abort:function(De){var tn=De||Te;return g&&g.abort(tn),Zn(0,tn),this}};if(ge.promise(ue),ot.url=((o||ot.url||Sn.href)+"").replace(xs,Sn.protocol+"//"),ot.type=l.method||l.type||ot.method||ot.type,ot.dataTypes=(ot.dataType||"*").toLowerCase().match(zt)||[""],ot.crossDomain==null){U=J.createElement("a");try{U.href=ot.url,U.href=U.href,ot.crossDomain=$i.protocol+"//"+$i.host!=U.protocol+"//"+U.host}catch{ot.crossDomain=!0}}if(ot.data&&ot.processData&&typeof ot.data!="string"&&(ot.data=d.param(ot.data,ot.traditional)),_e(Ns,ot,l,ue),R)return ue;nt=d.event&&ot.global,nt&&d.active++===0&&d.event.trigger("ajaxStart"),ot.type=ot.type.toUpperCase(),ot.hasContent=!ca.test(ot.type),v=ot.url.replace(la,""),ot.hasContent?ot.data&&ot.processData&&(ot.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ot.data=ot.data.replace(za,"+")):(mt=ot.url.slice(v.length),ot.data&&(ot.processData||typeof ot.data=="string")&&(v+=(ci.test(v)?"&":"?")+ot.data,delete ot.data),ot.cache===!1&&(v=v.replace(Oa,"$1"),mt=(ci.test(v)?"&":"?")+"_="+oa.guid+++mt),ot.url=v+mt),ot.ifModified&&(d.lastModified[v]&&ue.setRequestHeader("If-Modified-Since",d.lastModified[v]),d.etag[v]&&ue.setRequestHeader("If-None-Match",d.etag[v])),(ot.data&&ot.hasContent&&ot.contentType!==!1||l.contentType)&&ue.setRequestHeader("Content-Type",ot.contentType),ue.setRequestHeader("Accept",ot.dataTypes[0]&&ot.accepts[ot.dataTypes[0]]?ot.accepts[ot.dataTypes[0]]+(ot.dataTypes[0]!=="*"?", "+zi+"; q=0.01":""):ot.accepts["*"]);for(ut in ot.headers)ue.setRequestHeader(ut,ot.headers[ut]);if(ot.beforeSend&&(ot.beforeSend.call(ft,ue,ot)===!1||R))return ue.abort();if(Te="abort",Rt.add(ot.complete),ue.done(ot.success),ue.fail(ot.error),g=_e(ki,ot,l,ue),!g)Zn(-1,"No Transport");else{if(ue.readyState=1,nt&&Xt.trigger("ajaxSend",[ue,ot]),R)return ue;ot.async&&ot.timeout>0&&(T=e.setTimeout(function(){ue.abort("timeout")},ot.timeout));try{R=!1,g.send(nn,Zn)}catch(De){if(R)throw De;Zn(-1,De)}}function Zn(De,tn,Ts,ha){var Gn,zr,sr,Bn,Xr,Fn=tn;R||(R=!0,T&&e.clearTimeout(T),g=void 0,w=ha||"",ue.readyState=De>0?4:0,Gn=De>=200&&De<300||De===304,Ts&&(Bn=Ms(ot,ue,Ts)),!Gn&&d.inArray("script",ot.dataTypes)>-1&&d.inArray("json",ot.dataTypes)<0&&(ot.converters["text script"]=function(){}),Bn=Za(ot,Bn,ue,Gn),Gn?(ot.ifModified&&(Xr=ue.getResponseHeader("Last-Modified"),Xr&&(d.lastModified[v]=Xr),Xr=ue.getResponseHeader("etag"),Xr&&(d.etag[v]=Xr)),De===204||ot.type==="HEAD"?Fn="nocontent":De===304?Fn="notmodified":(Fn=Bn.state,zr=Bn.data,sr=Bn.error,Gn=!sr)):(sr=Fn,(De||!Fn)&&(Fn="error",De<0&&(De=0))),ue.status=De,ue.statusText=(tn||Fn)+"",Gn?ge.resolveWith(ft,[zr,Fn,ue]):ge.rejectWith(ft,[ue,Fn,sr]),ue.statusCode(en),en=void 0,nt&&Xt.trigger(Gn?"ajaxSuccess":"ajaxError",[ue,ot,Gn?zr:sr]),Rt.fireWith(ft,[ue,Fn]),nt&&(Xt.trigger("ajaxComplete",[ue,ot]),--d.active||d.event.trigger("ajaxStop")))}return ue},getJSON:function(o,l,g){return d.get(o,l,g,"json")},getScript:function(o,l){return d.get(o,void 0,l,"script")}}),d.each(["get","post"],function(o,l){d[l]=function(g,v,w,b){return X(v)&&(b=b||w,w=v,v=void 0),d.ajax(d.extend({url:g,type:l,dataType:b,data:v,success:w},d.isPlainObject(g)&&g))}}),d.ajaxPrefilter(function(o){var l;for(l in o.headers)l.toLowerCase()==="content-type"&&(o.contentType=o.headers[l]||"")}),d._evalUrl=function(o,l,g){return d.ajax({url:o,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(v){d.globalEval(v,l,g)}})},d.fn.extend({wrapAll:function(o){var l;return this[0]&&(X(o)&&(o=o.call(this[0])),l=d(o,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&l.insertBefore(this[0]),l.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(o){return X(o)?this.each(function(l){d(this).wrapInner(o.call(this,l))}):this.each(function(){var l=d(this),g=l.contents();g.length?g.wrapAll(o):l.append(o)})},wrap:function(o){var l=X(o);return this.each(function(g){d(this).wrapAll(l?o.call(this,g):o)})},unwrap:function(o){return this.parent(o).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(o){return!d.expr.pseudos.visible(o)},d.expr.pseudos.visible=function(o){return!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Ss={0:200,1223:204},hi=d.ajaxSettings.xhr();j.cors=!!hi&&"withCredentials"in hi,j.ajax=hi=!!hi,d.ajaxTransport(function(o){var l,g;if(j.cors||hi&&!o.crossDomain)return{send:function(v,w){var b,T=o.xhr();if(T.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(b in o.xhrFields)T[b]=o.xhrFields[b];o.mimeType&&T.overrideMimeType&&T.overrideMimeType(o.mimeType),!o.crossDomain&&!v["X-Requested-With"]&&(v["X-Requested-With"]="XMLHttpRequest");for(b in v)T.setRequestHeader(b,v[b]);l=function(U){return function(){l&&(l=g=T.onload=T.onerror=T.onabort=T.ontimeout=T.onreadystatechange=null,U==="abort"?T.abort():U==="error"?typeof T.status!="number"?w(0,"error"):w(T.status,T.statusText):w(Ss[T.status]||T.status,T.statusText,(T.responseType||"text")!=="text"||typeof T.responseText!="string"?{binary:T.response}:{text:T.responseText},T.getAllResponseHeaders()))}},T.onload=l(),g=T.onerror=T.ontimeout=l("error"),T.onabort!==void 0?T.onabort=g:T.onreadystatechange=function(){T.readyState===4&&e.setTimeout(function(){l&&g()})},l=l("abort");try{T.send(o.hasContent&&o.data||null)}catch(U){if(l)throw U}},abort:function(){l&&l()}}}),d.ajaxPrefilter(function(o){o.crossDomain&&(o.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(o){return d.globalEval(o),o}}}),d.ajaxPrefilter("script",function(o){o.cache===void 0&&(o.cache=!1),o.crossDomain&&(o.type="GET")}),d.ajaxTransport("script",function(o){if(o.crossDomain||o.scriptAttrs){var l,g;return{send:function(v,w){l=d("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",g=function(b){l.remove(),g=null,b&&w(b.type==="error"?404:200,b.type)}),J.head.appendChild(l[0])},abort:function(){g&&g()}}}});var ts=[],x=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var o=ts.pop()||d.expando+"_"+oa.guid++;return this[o]=!0,o}}),d.ajaxPrefilter("json jsonp",function(o,l,g){var v,w,b,T=o.jsonp!==!1&&(x.test(o.url)?"url":typeof o.data=="string"&&(o.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&x.test(o.data)&&"data");if(T||o.dataTypes[0]==="jsonp")return v=o.jsonpCallback=X(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,T?o[T]=o[T].replace(x,"$1"+v):o.jsonp!==!1&&(o.url+=(ci.test(o.url)?"&":"?")+o.jsonp+"="+v),o.converters["script json"]=function(){return b||d.error(v+" was not called"),b[0]},o.dataTypes[0]="json",w=e[v],e[v]=function(){b=arguments},g.always(function(){w===void 0?d(e).removeProp(v):e[v]=w,o[v]&&(o.jsonpCallback=l.jsonpCallback,ts.push(v)),b&&X(w)&&w(b[0]),b=w=void 0}),"script"}),j.createHTMLDocument=function(){var o=J.implementation.createHTMLDocument("").body;return o.innerHTML="<form></form><form></form>",o.childNodes.length===2}(),d.parseHTML=function(o,l,g){if(typeof o!="string")return[];typeof l=="boolean"&&(g=l,l=!1);var v,w,b;return l||(j.createHTMLDocument?(l=J.implementation.createHTMLDocument(""),v=l.createElement("base"),v.href=J.location.href,l.head.appendChild(v)):l=J),w=Nt.exec(o),b=!g&&[],w?[l.createElement(w[1])]:(w=bi([o],l,b),b&&b.length&&d(b).remove(),d.merge([],w.childNodes))},d.fn.load=function(o,l,g){var v,w,b,T=this,U=o.indexOf(" ");return U>-1&&(v=Lr(o.slice(U)),o=o.slice(0,U)),X(l)?(g=l,l=void 0):l&&typeof l=="object"&&(w="POST"),T.length>0&&d.ajax({url:o,type:w||"GET",dataType:"html",data:l}).done(function(R){b=arguments,T.html(v?d("<div>").append(d.parseHTML(R)).find(v):R)}).always(g&&function(R,nt){T.each(function(){g.apply(this,b||[R.responseText,nt,R])})}),this},d.expr.pseudos.animated=function(o){return d.grep(d.timers,function(l){return o===l.elem}).length},d.offset={setOffset:function(o,l,g){var v,w,b,T,U,R,nt,ut=d.css(o,"position"),mt=d(o),ot={};ut==="static"&&(o.style.position="relative"),U=mt.offset(),b=d.css(o,"top"),R=d.css(o,"left"),nt=(ut==="absolute"||ut==="fixed")&&(b+R).indexOf("auto")>-1,nt?(v=mt.position(),T=v.top,w=v.left):(T=parseFloat(b)||0,w=parseFloat(R)||0),X(l)&&(l=l.call(o,g,d.extend({},U))),l.top!=null&&(ot.top=l.top-U.top+T),l.left!=null&&(ot.left=l.left-U.left+w),"using"in l?l.using.call(o,ot):mt.css(ot)}},d.fn.extend({offset:function(o){if(arguments.length)return o===void 0?this:this.each(function(w){d.offset.setOffset(this,o,w)});var l,g,v=this[0];if(!!v)return v.getClientRects().length?(l=v.getBoundingClientRect(),g=v.ownerDocument.defaultView,{top:l.top+g.pageYOffset,left:l.left+g.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var o,l,g,v=this[0],w={top:0,left:0};if(d.css(v,"position")==="fixed")l=v.getBoundingClientRect();else{for(l=this.offset(),g=v.ownerDocument,o=v.offsetParent||g.documentElement;o&&(o===g.body||o===g.documentElement)&&d.css(o,"position")==="static";)o=o.parentNode;o&&o!==v&&o.nodeType===1&&(w=d(o).offset(),w.top+=d.css(o,"borderTopWidth",!0),w.left+=d.css(o,"borderLeftWidth",!0))}return{top:l.top-w.top-d.css(v,"marginTop",!0),left:l.left-w.left-d.css(v,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent;o&&d.css(o,"position")==="static";)o=o.offsetParent;return o||me})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(o,l){var g=l==="pageYOffset";d.fn[o]=function(v){return Vt(this,function(w,b,T){var U;if(Q(w)?U=w:w.nodeType===9&&(U=w.defaultView),T===void 0)return U?U[l]:w[b];U?U.scrollTo(g?U.pageXOffset:T,g?T:U.pageYOffset):w[b]=T},o,v,arguments.length)}}),d.each(["top","left"],function(o,l){d.cssHooks[l]=Qi(j.pixelPosition,function(g,v){if(v)return v=Ti(g,l),Ji.test(v)?d(g).position()[l]+"px":v})}),d.each({Height:"height",Width:"width"},function(o,l){d.each({padding:"inner"+o,content:l,"":"outer"+o},function(g,v){d.fn[v]=function(w,b){var T=arguments.length&&(g||typeof w!="boolean"),U=g||(w===!0||b===!0?"margin":"border");return Vt(this,function(R,nt,ut){var mt;return Q(R)?v.indexOf("outer")===0?R["inner"+o]:R.document.documentElement["client"+o]:R.nodeType===9?(mt=R.documentElement,Math.max(R.body["scroll"+o],mt["scroll"+o],R.body["offset"+o],mt["offset"+o],mt["client"+o])):ut===void 0?d.css(R,nt,U):d.style(R,nt,ut,U)},l,T?w:void 0,T)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(o,l){d.fn[l]=function(g){return this.on(l,g)}}),d.fn.extend({bind:function(o,l,g){return this.on(o,null,l,g)},unbind:function(o,l){return this.off(o,null,l)},delegate:function(o,l,g,v){return this.on(l,o,g,v)},undelegate:function(o,l,g){return arguments.length===1?this.off(o,"**"):this.off(l,o||"**",g)},hover:function(o,l){return this.mouseenter(o).mouseleave(l||o)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(o,l){d.fn[l]=function(g,v){return arguments.length>0?this.on(l,null,g,v):this.trigger(l)}});var P=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(o,l){var g,v,w;if(typeof l=="string"&&(g=o[l],l=o,o=g),!!X(o))return v=u.call(arguments,2),w=function(){return o.apply(l||this,v.concat(u.call(arguments)))},w.guid=o.guid=o.guid||d.guid++,w},d.holdReady=function(o){o?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=pt,d.isFunction=X,d.isWindow=Q,d.camelCase=xt,d.type=M,d.now=Date.now,d.isNumeric=function(o){var l=d.type(o);return(l==="number"||l==="string")&&!isNaN(o-parseFloat(o))},d.trim=function(o){return o==null?"":(o+"").replace(P,"$1")};var _=e.jQuery,W=e.$;return d.noConflict=function(o){return e.$===d&&(e.$=W),o&&e.jQuery===d&&(e.jQuery=_),d},typeof n>"u"&&(e.jQuery=e.$=d),d})})(ac);const Fe=ac.exports;(function(t){(function(e){var n=typeof self=="object"&&self.self===self&&self||typeof $n=="object"&&$n.global===$n&&$n;{var r=dA(),s;try{s=ac.exports}catch{}e(n,t,r,s)}})(function(e,n,r,s){var u=e.Backbone,c=Array.prototype.slice;n.VERSION="1.4.1",n.$=s,n.noConflict=function(){return e.Backbone=u,this},n.emulateHTTP=!1,n.emulateJSON=!1;var h=n.Events={},p=/\s+/,I,C=function(N,z,Z,$,ht){var It=0,Mt;if(Z&&typeof Z=="object")for($!==void 0&&("context"in ht)&&ht.context===void 0&&(ht.context=$),Mt=r.keys(Z);It<Mt.length;It++)z=C(N,z,Mt[It],Z[Mt[It]],ht);else if(Z&&p.test(Z))for(Mt=Z.split(p);It<Mt.length;It++)z=N(z,Mt[It],$,ht);else z=N(z,Z,$,ht);return z};h.on=function(N,z,Z){if(this._events=C(m,this._events||{},N,z,{context:Z,ctx:this,listening:I}),I){var $=this._listeners||(this._listeners={});$[I.id]=I,I.interop=!1}return this},h.listenTo=function(N,z,Z){if(!N)return this;var $=N._listenId||(N._listenId=r.uniqueId("l")),ht=this._listeningTo||(this._listeningTo={}),It=I=ht[$];It||(this._listenId||(this._listenId=r.uniqueId("l")),It=I=ht[$]=new J(this,N));var Mt=L(N,z,Z,this);if(I=void 0,Mt)throw Mt;return It.interop&&It.on(z,Z),this};var m=function(N,z,Z,$){if(Z){var ht=N[z]||(N[z]=[]),It=$.context,Mt=$.ctx,Ht=$.listening;Ht&&Ht.count++,ht.push({callback:Z,context:It,ctx:It||Mt,listening:Ht})}return N},L=function(N,z,Z,$){try{N.on(z,Z,$)}catch(ht){return ht}};h.off=function(N,z,Z){return this._events?(this._events=C(G,this._events,N,z,{context:Z,listeners:this._listeners}),this):this},h.stopListening=function(N,z,Z){var $=this._listeningTo;if(!$)return this;for(var ht=N?[N._listenId]:r.keys($),It=0;It<ht.length;It++){var Mt=$[ht[It]];if(!Mt)break;Mt.obj.off(z,Z,this),Mt.interop&&Mt.off(z,Z)}return r.isEmpty($)&&(this._listeningTo=void 0),this};var G=function(N,z,Z,$){if(!!N){var ht=$.context,It=$.listeners,Mt=0,Ht;if(!z&&!ht&&!Z){for(Ht=r.keys(It);Mt<Ht.length;Mt++)It[Ht[Mt]].cleanup();return}for(Ht=z?[z]:r.keys(N);Mt<Ht.length;Mt++){z=Ht[Mt];var kt=N[z];if(!kt)break;for(var se=[],Ze=0;Ze<kt.length;Ze++){var me=kt[Ze];if(Z&&Z!==me.callback&&Z!==me.callback._callback||ht&&ht!==me.context)se.push(me);else{var Je=me.listening;Je&&Je.off(z,Z)}}se.length?N[z]=se:delete N[z]}return N}};h.once=function(N,z,Z){var $=C(j,{},N,z,this.off.bind(this));return typeof N=="string"&&Z==null&&(z=void 0),this.on($,z,Z)},h.listenToOnce=function(N,z,Z){var $=C(j,{},z,Z,this.stopListening.bind(this,N));return this.listenTo(N,$)};var j=function(N,z,Z,$){if(Z){var ht=N[z]=r.once(function(){$(z,ht),Z.apply(this,arguments)});ht._callback=Z}return N};h.trigger=function(N){if(!this._events)return this;for(var z=Math.max(0,arguments.length-1),Z=Array(z),$=0;$<z;$++)Z[$]=arguments[$+1];return C(X,this._events,N,void 0,Z),this};var X=function(N,z,Z,$){if(N){var ht=N[z],It=N.all;ht&&It&&(It=It.slice()),ht&&Q(ht,$),It&&Q(It,[z].concat($))}return N},Q=function(N,z){var Z,$=-1,ht=N.length,It=z[0],Mt=z[1],Ht=z[2];switch(z.length){case 0:for(;++$<ht;)(Z=N[$]).callback.call(Z.ctx);return;case 1:for(;++$<ht;)(Z=N[$]).callback.call(Z.ctx,It);return;case 2:for(;++$<ht;)(Z=N[$]).callback.call(Z.ctx,It,Mt);return;case 3:for(;++$<ht;)(Z=N[$]).callback.call(Z.ctx,It,Mt,Ht);return;default:for(;++$<ht;)(Z=N[$]).callback.apply(Z.ctx,z);return}},J=function(N,z){this.id=N._listenId,this.listener=N,this.obj=z,this.interop=!0,this.count=0,this._events=void 0};J.prototype.on=h.on,J.prototype.off=function(N,z){var Z;this.interop?(this._events=C(G,this._events,N,z,{context:void 0,listeners:void 0}),Z=!this._events):(this.count--,Z=this.count===0),Z&&this.cleanup()},J.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},h.bind=h.on,h.unbind=h.off,r.extend(n,h);var st=n.Model=function(N,z){var Z=N||{};z||(z={}),this.preinitialize.apply(this,arguments),this.cid=r.uniqueId(this.cidPrefix),this.attributes={},z.collection&&(this.collection=z.collection),z.parse&&(Z=this.parse(Z,z)||{});var $=r.result(this,"defaults");Z=r.defaults(r.extend({},$,Z),$),this.set(Z,z),this.changed={},this.initialize.apply(this,arguments)};r.extend(st.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return r.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return r.escape(this.get(N))},has:function(N){return this.get(N)!=null},matches:function(N){return!!r.iteratee(N,this)(this.attributes)},set:function(N,z,Z){if(N==null)return this;var $;if(typeof N=="object"?($=N,Z=z):($={})[N]=z,Z||(Z={}),!this._validate($,Z))return!1;var ht=Z.unset,It=Z.silent,Mt=[],Ht=this._changing;this._changing=!0,Ht||(this._previousAttributes=r.clone(this.attributes),this.changed={});var kt=this.attributes,se=this.changed,Ze=this._previousAttributes;for(var me in $)z=$[me],r.isEqual(kt[me],z)||Mt.push(me),r.isEqual(Ze[me],z)?delete se[me]:se[me]=z,ht?delete kt[me]:kt[me]=z;if(this.idAttribute in $){var Je=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Je,Z)}if(!It){Mt.length&&(this._pending=Z);for(var un=0;un<Mt.length;un++)this.trigger("change:"+Mt[un],this,kt[Mt[un]],Z)}if(Ht)return this;if(!It)for(;this._pending;)Z=this._pending,this._pending=!1,this.trigger("change",this,Z);return this._pending=!1,this._changing=!1,this},unset:function(N,z){return this.set(N,void 0,r.extend({},z,{unset:!0}))},clear:function(N){var z={};for(var Z in this.attributes)z[Z]=void 0;return this.set(z,r.extend({},N,{unset:!0}))},hasChanged:function(N){return N==null?!r.isEmpty(this.changed):r.has(this.changed,N)},changedAttributes:function(N){if(!N)return this.hasChanged()?r.clone(this.changed):!1;var z=this._changing?this._previousAttributes:this.attributes,Z={},$;for(var ht in N){var It=N[ht];r.isEqual(z[ht],It)||(Z[ht]=It,$=!0)}return $?Z:!1},previous:function(N){return N==null||!this._previousAttributes?null:this._previousAttributes[N]},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(N){N=r.extend({parse:!0},N);var z=this,Z=N.success;return N.success=function($){var ht=N.parse?z.parse($,N):$;if(!z.set(ht,N))return!1;Z&&Z.call(N.context,z,$,N),z.trigger("sync",z,$,N)},xt(this,N),this.sync("read",this,N)},save:function(N,z,Z){var $;N==null||typeof N=="object"?($=N,Z=z):($={})[N]=z,Z=r.extend({validate:!0,parse:!0},Z);var ht=Z.wait;if($&&!ht){if(!this.set($,Z))return!1}else if(!this._validate($,Z))return!1;var It=this,Mt=Z.success,Ht=this.attributes;Z.success=function(Ze){It.attributes=Ht;var me=Z.parse?It.parse(Ze,Z):Ze;if(ht&&(me=r.extend({},$,me)),me&&!It.set(me,Z))return!1;Mt&&Mt.call(Z.context,It,Ze,Z),It.trigger("sync",It,Ze,Z)},xt(this,Z),$&&ht&&(this.attributes=r.extend({},Ht,$));var kt=this.isNew()?"create":Z.patch?"patch":"update";kt==="patch"&&!Z.attrs&&(Z.attrs=$);var se=this.sync(kt,this,Z);return this.attributes=Ht,se},destroy:function(N){N=N?r.clone(N):{};var z=this,Z=N.success,$=N.wait,ht=function(){z.stopListening(),z.trigger("destroy",z,z.collection,N)};N.success=function(Mt){$&&ht(),Z&&Z.call(N.context,z,Mt,N),z.isNew()||z.trigger("sync",z,Mt,N)};var It=!1;return this.isNew()?r.defer(N.success):(xt(this,N),It=this.sync("delete",this,N)),$||ht(),It},url:function(){var N=r.result(this,"urlRoot")||r.result(this.collection,"url")||Bt();if(this.isNew())return N;var z=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(z)},parse:function(N,z){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},r.extend({},N,{validate:!0}))},_validate:function(N,z){if(!z.validate||!this.validate)return!0;N=r.extend({},this.attributes,N);var Z=this.validationError=this.validate(N,z)||null;return Z?(this.trigger("invalid",this,Z,r.extend(z,{validationError:Z})),!1):!0}});var y=n.Collection=function(N,z){z||(z={}),this.preinitialize.apply(this,arguments),z.model&&(this.model=z.model),z.comparator!==void 0&&(this.comparator=z.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,r.extend({silent:!0},z))},M={add:!0,remove:!0,merge:!0},D={add:!0,remove:!1},d=function(N,z,Z){Z=Math.min(Math.max(Z,0),N.length);var $=Array(N.length-Z),ht=z.length,It;for(It=0;It<$.length;It++)$[It]=N[It+Z];for(It=0;It<ht;It++)N[It+Z]=z[It];for(It=0;It<$.length;It++)N[It+ht+Z]=$[It]};r.extend(y.prototype,h,{model:st,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(z){return z.toJSON(N)})},sync:function(){return n.sync.apply(this,arguments)},add:function(N,z){return this.set(N,r.extend({merge:!1},z,D))},remove:function(N,z){z=r.extend({},z);var Z=!r.isArray(N);N=Z?[N]:N.slice();var $=this._removeModels(N,z);return!z.silent&&$.length&&(z.changes={added:[],merged:[],removed:$},this.trigger("update",this,z)),Z?$[0]:$},set:function(N,z){if(N!=null){z=r.extend({},M,z),z.parse&&!this._isModel(N)&&(N=this.parse(N,z)||[]);var Z=!r.isArray(N);N=Z?[N]:N.slice();var $=z.at;$!=null&&($=+$),$>this.length&&($=this.length),$<0&&($+=this.length+1);var ht=[],It=[],Mt=[],Ht=[],kt={},se=z.add,Ze=z.merge,me=z.remove,Je=!1,un=this.comparator&&$==null&&z.sort!==!1,mn=r.isString(this.comparator)?this.comparator:null,Xe,He;for(He=0;He<N.length;He++){Xe=N[He];var fn=this.get(Xe);if(fn){if(Ze&&Xe!==fn){var In=this._isModel(Xe)?Xe.attributes:Xe;z.parse&&(In=fn.parse(In,z)),fn.set(In,z),Mt.push(fn),un&&!Je&&(Je=fn.hasChanged(mn))}kt[fn.cid]||(kt[fn.cid]=!0,ht.push(fn)),N[He]=fn}else se&&(Xe=N[He]=this._prepareModel(Xe,z),Xe&&(It.push(Xe),this._addReference(Xe,z),kt[Xe.cid]=!0,ht.push(Xe)))}if(me){for(He=0;He<this.length;He++)Xe=this.models[He],kt[Xe.cid]||Ht.push(Xe);Ht.length&&this._removeModels(Ht,z)}var Nn=!1,pr=!un&&se&&me;if(ht.length&&pr?(Nn=this.length!==ht.length||r.some(this.models,function(vr,Qe){return vr!==ht[Qe]}),this.models.length=0,d(this.models,ht,0),this.length=this.models.length):It.length&&(un&&(Je=!0),d(this.models,It,$==null?this.length:$),this.length=this.models.length),Je&&this.sort({silent:!0}),!z.silent){for(He=0;He<It.length;He++)$!=null&&(z.index=$+He),Xe=It[He],Xe.trigger("add",Xe,this,z);(Je||Nn)&&this.trigger("sort",this,z),(It.length||Ht.length||Mt.length)&&(z.changes={added:It,removed:Ht,merged:Mt},this.trigger("update",this,z))}return Z?N[0]:N}},reset:function(N,z){z=z?r.clone(z):{};for(var Z=0;Z<this.models.length;Z++)this._removeReference(this.models[Z],z);return z.previousModels=this.models,this._reset(),N=this.add(N,r.extend({silent:!0},z)),z.silent||this.trigger("reset",this,z),N},push:function(N,z){return this.add(N,r.extend({at:this.length},z))},pop:function(N){var z=this.at(this.length-1);return this.remove(z,N)},unshift:function(N,z){return this.add(N,r.extend({at:0},z))},shift:function(N){var z=this.at(0);return this.remove(z,N)},slice:function(){return c.apply(this.models,arguments)},get:function(N){if(N!=null)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N,N.idAttribute)]||N.cid&&this._byId[N.cid]},has:function(N){return this.get(N)!=null},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,z){return this[z?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var z=this.comparator;if(!z)throw new Error("Cannot sort a set without a comparator");N||(N={});var Z=z.length;return r.isFunction(z)&&(z=z.bind(this)),Z===1||r.isString(z)?this.models=this.sortBy(z):this.models.sort(z),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){N=r.extend({parse:!0},N);var z=N.success,Z=this;return N.success=function($){var ht=N.reset?"reset":"set";Z[ht]($,N),z&&z.call(N.context,Z,$,N),Z.trigger("sync",Z,$,N)},xt(this,N),this.sync("read",this,N)},create:function(N,z){z=z?r.clone(z):{};var Z=z.wait;if(N=this._prepareModel(N,z),!N)return!1;Z||this.add(N,z);var $=this,ht=z.success;return z.success=function(It,Mt,Ht){Z&&$.add(It,Ht),ht&&ht.call(Ht.context,It,Mt,Ht)},N.save(null,z),N},parse:function(N,z){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N,z){return N[z||this.model.prototype.idAttribute||"id"]},values:function(){return new q(this,et)},keys:function(){return new q(this,at)},entries:function(){return new q(this,wt)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,z){if(this._isModel(N))return N.collection||(N.collection=this),N;z=z?r.clone(z):{},z.collection=this;var Z;return this.model.prototype?Z=new this.model(N,z):Z=this.model(N,z),Z.validationError?(this.trigger("invalid",this,Z.validationError,z),!1):Z},_removeModels:function(N,z){for(var Z=[],$=0;$<N.length;$++){var ht=this.get(N[$]);if(!!ht){var It=this.indexOf(ht);this.models.splice(It,1),this.length--,delete this._byId[ht.cid];var Mt=this.modelId(ht.attributes,ht.idAttribute);Mt!=null&&delete this._byId[Mt],z.silent||(z.index=It,ht.trigger("remove",ht,this,z)),Z.push(ht),this._removeReference(ht,z)}}return Z},_isModel:function(N){return N instanceof st},_addReference:function(N,z){this._byId[N.cid]=N;var Z=this.modelId(N.attributes,N.idAttribute);Z!=null&&(this._byId[Z]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,z){delete this._byId[N.cid];var Z=this.modelId(N.attributes,N.idAttribute);Z!=null&&delete this._byId[Z],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,z,Z,$){if(z){if((N==="add"||N==="remove")&&Z!==this)return;if(N==="destroy"&&this.remove(z,$),N==="changeId"){var ht=this.modelId(z.previousAttributes(),z.idAttribute),It=this.modelId(z.attributes,z.idAttribute);ht!=null&&delete this._byId[ht],It!=null&&(this._byId[It]=z)}}this.trigger.apply(this,arguments)}});var B=typeof Symbol=="function"&&Symbol.iterator;B&&(y.prototype[B]=y.prototype.values);var q=function(N,z){this._collection=N,this._kind=z,this._index=0},et=1,at=2,wt=3;B&&(q.prototype[B]=function(){return this}),q.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var N=this._collection.at(this._index);this._index++;var z;if(this._kind===et)z=N;else{var Z=this._collection.modelId(N.attributes,N.idAttribute);this._kind===at?z=Z:z=[Z,N]}return{value:z,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var pt=n.View=function(N){this.cid=r.uniqueId("view"),this.preinitialize.apply(this,arguments),r.extend(this,r.pick(N,St)),this._ensureElement(),this.initialize.apply(this,arguments)},Nt=/^(\S+)\s*(.*)$/,St=["model","collection","el","id","attributes","className","tagName","events"];r.extend(pt.prototype,h,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof n.$?N:n.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=r.result(this,"events")),!N)return this;this.undelegateEvents();for(var z in N){var Z=N[z];if(r.isFunction(Z)||(Z=this[Z]),!!Z){var $=z.match(Nt);this.delegate($[1],$[2],Z.bind(this))}}return this},delegate:function(N,z,Z){return this.$el.on(N+".delegateEvents"+this.cid,z,Z),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,z,Z){return this.$el.off(N+".delegateEvents"+this.cid,z,Z),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var N=r.extend({},r.result(this,"attributes"));this.id&&(N.id=r.result(this,"id")),this.className&&(N.class=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var Dt=function(N,z,Z,$){switch(z){case 1:return function(){return N[Z](this[$])};case 2:return function(ht){return N[Z](this[$],ht)};case 3:return function(ht,It){return N[Z](this[$],fe(ht,this),It)};case 4:return function(ht,It,Mt){return N[Z](this[$],fe(ht,this),It,Mt)};default:return function(){var ht=c.call(arguments);return ht.unshift(this[$]),N[Z].apply(N,ht)}}},_t=function(N,z,Z,$){r.each(Z,function(ht,It){z[It]&&(N.prototype[It]=Dt(z,ht,It,$))})},fe=function(N,z){return r.isFunction(N)?N:r.isObject(N)&&!z._isModel(N)?ee(N):r.isString(N)?function(Z){return Z.get(N)}:N},ee=function(N){var z=r.matches(N);return function(Z){return z(Z.attributes)}},Se={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Lt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};r.each([[y,Se,"models"],[st,Lt,"attributes"]],function(N){var z=N[0],Z=N[1],$=N[2];z.mixin=function(ht){var It=r.reduce(r.functions(ht),function(Mt,Ht){return Mt[Ht]=0,Mt},{});_t(z,ht,It,$)},_t(z,r,Z,$)}),n.sync=function(N,z,Z){var $=zt[N];r.defaults(Z||(Z={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var ht={type:$,dataType:"json"};if(Z.url||(ht.url=r.result(z,"url")||Bt()),Z.data==null&&z&&(N==="create"||N==="update"||N==="patch")&&(ht.contentType="application/json",ht.data=JSON.stringify(Z.attrs||z.toJSON(Z))),Z.emulateJSON&&(ht.contentType="application/x-www-form-urlencoded",ht.data=ht.data?{model:ht.data}:{}),Z.emulateHTTP&&($==="PUT"||$==="DELETE"||$==="PATCH")){ht.type="POST",Z.emulateJSON&&(ht.data._method=$);var It=Z.beforeSend;Z.beforeSend=function(kt){if(kt.setRequestHeader("X-HTTP-Method-Override",$),It)return It.apply(this,arguments)}}ht.type!=="GET"&&!Z.emulateJSON&&(ht.processData=!1);var Mt=Z.error;Z.error=function(kt,se,Ze){Z.textStatus=se,Z.errorThrown=Ze,Mt&&Mt.call(Z.context,kt,se,Ze)};var Ht=Z.xhr=n.ajax(r.extend(ht,Z));return z.trigger("request",z,Ht,Z),Ht};var zt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var Wt=n.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Gt=/\((.*?)\)/g,re=/(\(\?)?:\w+/g,ce=/\*\w+/g,he=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(Wt.prototype,h,{preinitialize:function(){},initialize:function(){},route:function(N,z,Z){r.isRegExp(N)||(N=this._routeToRegExp(N)),r.isFunction(z)&&(Z=z,z=""),Z||(Z=this[z]);var $=this;return n.history.route(N,function(ht){var It=$._extractParameters(N,ht);$.execute(Z,It,z)!==!1&&($.trigger.apply($,["route:"+z].concat(It)),$.trigger("route",z,It),n.history.trigger("route",$,z,It))}),this},execute:function(N,z,Z){N&&N.apply(this,z)},navigate:function(N,z){return n.history.navigate(N,z),this},_bindRoutes:function(){if(!!this.routes){this.routes=r.result(this,"routes");for(var N,z=r.keys(this.routes);(N=z.pop())!=null;)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(he,"\\$&").replace(Gt,"(?:$1)?").replace(re,function(z,Z){return Z?z:"([^/?]+)"}).replace(ce,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,z){var Z=N.exec(z).slice(1);return r.map(Z,function($,ht){return ht===Z.length-1?$||null:$?decodeURIComponent($):null})}});var Yt=n.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ie=/^[#\/]|\s+$/g,Vt=/^\/+|\/+$/g,Kt=/#.*$/;Yt.started=!1,r.extend(Yt.prototype,h,{interval:50,atRoot:function(){var N=this.location.pathname.replace(/[^\/]$/,"$&/");return N===this.root&&!this.getSearch()},matchRoot:function(){var N=this.decodeFragment(this.location.pathname),z=N.slice(0,this.root.length-1)+"/";return z===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var z=(N||this).location.href.match(/#(.*)$/);return z?z[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return N.charAt(0)==="/"?N.slice(1):N},getFragment:function(N){return N==null&&(this._usePushState||!this._wantsHashChange?N=this.getPath():N=this.getHash()),N.replace(Ie,"")},start:function(N){if(Yt.started)throw new Error("Backbone.history has already been started");if(Yt.started=!0,this.options=r.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Vt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var z=this.root.slice(0,-1)||"/";return this.location.replace(z+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Z=document.body,$=Z.insertBefore(this.iframe,Z.firstChild).contentWindow;$.document.open(),$.document.close(),$.location.hash="#"+this.fragment}var ht=window.addEventListener||function(It,Mt){return attachEvent("on"+It,Mt)};if(this._usePushState?ht("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?ht("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(z,Z){return detachEvent("on"+z,Z)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Yt.started=!1},route:function(N,z){this.handlers.unshift({route:N,callback:z})},checkUrl:function(N){var z=this.getFragment();if(z===this.fragment&&this.iframe&&(z=this.getHash(this.iframe.contentWindow)),z===this.fragment)return!1;this.iframe&&this.navigate(z),this.loadUrl()},loadUrl:function(N){return this.matchRoot()?(N=this.fragment=this.getFragment(N),r.some(this.handlers,function(z){if(z.route.test(N))return z.callback(N),!0})):!1},navigate:function(N,z){if(!Yt.started)return!1;(!z||z===!0)&&(z={trigger:!!z}),N=this.getFragment(N||"");var Z=this.root;(N===""||N.charAt(0)==="?")&&(Z=Z.slice(0,-1)||"/");var $=Z+N;N=N.replace(Kt,"");var ht=this.decodeFragment(N);if(this.fragment!==ht){if(this.fragment=ht,this._usePushState)this.history[z.replace?"replaceState":"pushState"]({},document.title,$);else if(this._wantsHashChange){if(this._updateHash(this.location,N,z.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var It=this.iframe.contentWindow;z.replace||(It.document.open(),It.document.close()),this._updateHash(It.location,N,z.replace)}}else return this.location.assign($);if(z.trigger)return this.loadUrl(N)}},_updateHash:function(N,z,Z){if(Z){var $=N.href.replace(/(javascript:|#).*$/,"");N.replace($+"#"+z)}else N.hash="#"+z}}),n.history=new Yt;var ie=function(N,z){var Z=this,$;return N&&r.has(N,"constructor")?$=N.constructor:$=function(){return Z.apply(this,arguments)},r.extend($,Z,z),$.prototype=r.create(Z.prototype,N),$.prototype.constructor=$,$.__super__=Z.prototype,$};st.extend=y.extend=Wt.extend=pt.extend=Yt.extend=ie;var Bt=function(){throw new Error('A "url" property or function must be specified')},xt=function(N,z){var Z=z.error;z.error=function($){Z&&Z.call(z.context,N,$,z),N.trigger("error",N,$,z)}};return n})})(pg);const Un=pg;var Bl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",I=500,C="__lodash_placeholder__",m=1,L=2,G=4,j=1,X=2,Q=1,J=2,st=4,y=8,M=16,D=32,d=64,B=128,q=256,et=512,at=30,wt="...",pt=800,Nt=16,St=1,Dt=2,_t=3,fe=1/0,ee=9007199254740991,Se=17976931348623157e292,Lt=0/0,zt=4294967295,Wt=zt-1,Gt=zt>>>1,re=[["ary",B],["bind",Q],["bindKey",J],["curry",y],["curryRight",M],["flip",et],["partial",D],["partialRight",d],["rearg",q]],ce="[object Arguments]",he="[object Array]",Yt="[object AsyncFunction]",Ie="[object Boolean]",Vt="[object Date]",Kt="[object DOMException]",ie="[object Error]",Bt="[object Function]",xt="[object GeneratorFunction]",N="[object Map]",z="[object Number]",Z="[object Null]",$="[object Object]",ht="[object Promise]",It="[object Proxy]",Mt="[object RegExp]",Ht="[object Set]",kt="[object String]",se="[object Symbol]",Ze="[object Undefined]",me="[object WeakMap]",Je="[object WeakSet]",un="[object ArrayBuffer]",mn="[object DataView]",Xe="[object Float32Array]",He="[object Float64Array]",fn="[object Int8Array]",In="[object Int16Array]",Nn="[object Int32Array]",pr="[object Uint8Array]",vr="[object Uint8ClampedArray]",Qe="[object Uint16Array]",sn="[object Uint32Array]",ei=/\b__p \+= '';/g,mr=/\b(__p \+=) '' \+/g,bi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mn=/&(?:amp|lt|gt|quot|#39);/g,Ir=/[&<>"']/g,Fr=RegExp(Mn.source),Vi=RegExp(Ir.source),Ks=/<%-([\s\S]+?)%>/g,Hi=/<%([\s\S]+?)%>/g,ni=/<%=([\s\S]+?)%>/g,xi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ds=/^\w*$/,qs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ri=/[\\^$.*+?()[\]{}|]/g,Ni=RegExp(ri.source),Mi=/^\s+/,ii=/\s/,$s=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mr=/\{\n\/\* \[wrapped with (.+)\] \*/,An=/,? & /,Ji=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Si=/[()=,{}\[\]\/\s]/,Sr=/\\(\\)?/g,ps=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vs=/\w*$/,ta=/^[-+]0x[0-9a-f]+$/i,Pa=/^0b[01]+$/i,Ti=/^\[object .+?Constructor\]$/,Qi=/^0o[0-7]+$/i,ea=/^(?:0|[1-9]\d*)$/,na=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Di=/($^)/,ka=/['\n\r\u2028\u2029\\]/g,si="\\ud800-\\udfff",ra="\\u0300-\\u036f",ai="\\ufe20-\\ufe2f",ms="\\u20d0-\\u20ff",Cn=ra+ai+ms,nr="\\u2700-\\u27bf",Is="a-z\\xdf-\\xf6\\xf8-\\xff",yn="\\xac\\xb1\\xd7\\xf7",oi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ui="\\u2000-\\u206f",ia=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sa="A-Z\\xc0-\\xd6\\xd8-\\xde",Li="\\ufe0e\\ufe0f",Ki=yn+oi+ui+ia,Tr="['\u2019]",As="["+si+"]",Cs="["+Ki+"]",Pi="["+Cn+"]",zn="\\d+",aa="["+nr+"]",Dr="["+Is+"]",rr="[^"+si+Ki+zn+nr+Is+sa+"]",Ar="\\ud83c[\\udffb-\\udfff]",Lr="(?:"+Pi+"|"+Ar+")",ir="[^"+si+"]",li="(?:\\ud83c[\\udde6-\\uddff]){2}",Pr="[\\ud800-\\udbff][\\udc00-\\udfff]",kr="["+sa+"]",qi="\\u200d",Sn="(?:"+Dr+"|"+rr+")",oa="(?:"+kr+"|"+rr+")",ci="(?:"+Tr+"(?:d|ll|m|re|s|t|ve))?",ys="(?:"+Tr+"(?:D|LL|M|RE|S|T|VE))?",ws=Lr+"?",bs="["+Li+"]?",ua="(?:"+qi+"(?:"+[ir,li,Pr].join("|")+")"+bs+ws+")*",fi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",za="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",la=bs+ws+ua,Oa="(?:"+[aa,li,Pr].join("|")+")"+la,Ea="(?:"+[ir+Pi+"?",Pi,li,Pr,As].join("|")+")",ja=RegExp(Tr,"g"),ca=RegExp(Pi,"g"),xs=RegExp(Ar+"(?="+Ar+")|"+Ea+la,"g"),Ns=RegExp([kr+"?"+Dr+"+"+ci+"(?="+[Cs,kr,"$"].join("|")+")",oa+"+"+ys+"(?="+[Cs,kr+Sn,"$"].join("|")+")",kr+"?"+Sn+"+"+ci,kr+"+"+ys,za,fi,zn,Oa].join("|"),"g"),ki=RegExp("["+qi+si+Cn+Li+"]"),zi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$i=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fa=-1,_e={};_e[Xe]=_e[He]=_e[fn]=_e[In]=_e[Nn]=_e[pr]=_e[vr]=_e[Qe]=_e[sn]=!0,_e[ce]=_e[he]=_e[un]=_e[Ie]=_e[mn]=_e[Vt]=_e[ie]=_e[Bt]=_e[N]=_e[z]=_e[$]=_e[Mt]=_e[Ht]=_e[kt]=_e[me]=!1;var We={};We[ce]=We[he]=We[un]=We[mn]=We[Ie]=We[Vt]=We[Xe]=We[He]=We[fn]=We[In]=We[Nn]=We[N]=We[z]=We[$]=We[Mt]=We[Ht]=We[kt]=We[se]=We[pr]=We[vr]=We[Qe]=We[sn]=!0,We[ie]=We[Bt]=We[me]=!1;var Ms={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Za={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ss={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ts=parseFloat,x=parseInt,P=typeof $n=="object"&&$n&&$n.Object===Object&&$n,_=typeof self=="object"&&self&&self.Object===Object&&self,W=P||_||Function("return this")(),o=e&&!e.nodeType&&e,l=o&&!0&&t&&!t.nodeType&&t,g=l&&l.exports===o,v=g&&P.process,w=function(){try{var tt=l&&l.require&&l.require("util").types;return tt||v&&v.binding&&v.binding("util")}catch{}}(),b=w&&w.isArrayBuffer,T=w&&w.isDate,U=w&&w.isMap,R=w&&w.isRegExp,nt=w&&w.isSet,ut=w&&w.isTypedArray;function mt(tt,dt,ct){switch(ct.length){case 0:return tt.call(dt);case 1:return tt.call(dt,ct[0]);case 2:return tt.call(dt,ct[0],ct[1]);case 3:return tt.call(dt,ct[0],ct[1],ct[2])}return tt.apply(dt,ct)}function ot(tt,dt,ct,jt){for(var le=-1,ze=tt==null?0:tt.length;++le<ze;){var hn=tt[le];dt(jt,hn,ct(hn),tt)}return jt}function ft(tt,dt){for(var ct=-1,jt=tt==null?0:tt.length;++ct<jt&&dt(tt[ct],ct,tt)!==!1;);return tt}function Xt(tt,dt){for(var ct=tt==null?0:tt.length;ct--&&dt(tt[ct],ct,tt)!==!1;);return tt}function ge(tt,dt){for(var ct=-1,jt=tt==null?0:tt.length;++ct<jt;)if(!dt(tt[ct],ct,tt))return!1;return!0}function Rt(tt,dt){for(var ct=-1,jt=tt==null?0:tt.length,le=0,ze=[];++ct<jt;){var hn=tt[ct];dt(hn,ct,tt)&&(ze[le++]=hn)}return ze}function en(tt,dt){var ct=tt==null?0:tt.length;return!!ct&&sr(tt,dt,0)>-1}function nn(tt,dt,ct){for(var jt=-1,le=tt==null?0:tt.length;++jt<le;)if(ct(dt,tt[jt]))return!0;return!1}function xe(tt,dt){for(var ct=-1,jt=tt==null?0:tt.length,le=Array(jt);++ct<jt;)le[ct]=dt(tt[ct],ct,tt);return le}function Te(tt,dt){for(var ct=-1,jt=dt.length,le=tt.length;++ct<jt;)tt[le+ct]=dt[ct];return tt}function ue(tt,dt,ct,jt){var le=-1,ze=tt==null?0:tt.length;for(jt&&ze&&(ct=tt[++le]);++le<ze;)ct=dt(ct,tt[le],le,tt);return ct}function Zn(tt,dt,ct,jt){var le=tt==null?0:tt.length;for(jt&&le&&(ct=tt[--le]);le--;)ct=dt(ct,tt[le],le,tt);return ct}function De(tt,dt){for(var ct=-1,jt=tt==null?0:tt.length;++ct<jt;)if(dt(tt[ct],ct,tt))return!0;return!1}var tn=Or("length");function Ts(tt){return tt.split("")}function ha(tt){return tt.match(Ji)||[]}function Gn(tt,dt,ct){var jt;return ct(tt,function(le,ze,hn){if(dt(le,ze,hn))return jt=ze,!1}),jt}function zr(tt,dt,ct,jt){for(var le=tt.length,ze=ct+(jt?1:-1);jt?ze--:++ze<le;)if(dt(tt[ze],ze,tt))return ze;return-1}function sr(tt,dt,ct){return dt===dt?Io(tt,dt,ct):zr(tt,Xr,ct)}function Bn(tt,dt,ct,jt){for(var le=ct-1,ze=tt.length;++le<ze;)if(jt(tt[le],dt))return le;return-1}function Xr(tt){return tt!==tt}function Fn(tt,dt){var ct=tt==null?0:tt.length;return ct?Ge(tt,dt)/ct:Lt}function Or(tt){return function(dt){return dt==null?n:dt[tt]}}function ga(tt){return function(dt){return tt==null?n:tt[dt]}}function gi(tt,dt,ct,jt,le){return le(tt,function(ze,hn,Ye){ct=jt?(jt=!1,ze):dt(ct,ze,hn,Ye)}),ct}function Ga(tt,dt){var ct=tt.length;for(tt.sort(dt);ct--;)tt[ct]=tt[ct].value;return tt}function Ge(tt,dt){for(var ct,jt=-1,le=tt.length;++jt<le;){var ze=dt(tt[jt]);ze!==n&&(ct=ct===n?ze:ct+ze)}return ct}function Vr(tt,dt){for(var ct=-1,jt=Array(tt);++ct<tt;)jt[ct]=dt(ct);return jt}function po(tt,dt){return xe(dt,function(ct){return[ct,tt[ct]]})}function da(tt){return tt&&tt.slice(0,ar(tt)+1).replace(Mi,"")}function Xn(tt){return function(dt){return tt(dt)}}function es(tt,dt){return xe(dt,function(ct){return tt[ct]})}function Ds(tt,dt){return tt.has(dt)}function Ba(tt,dt){for(var ct=-1,jt=tt.length;++ct<jt&&sr(dt,tt[ct],0)>-1;);return ct}function vo(tt,dt){for(var ct=tt.length;ct--&&sr(dt,tt[ct],0)>-1;);return ct}function Cu(tt,dt){for(var ct=tt.length,jt=0;ct--;)tt[ct]===dt&&++jt;return jt}var yu=ga(Ms),pa=ga(Za);function wu(tt){return"\\"+hi[tt]}function bu(tt,dt){return tt==null?n:tt[dt]}function ns(tt){return ki.test(tt)}function Ls(tt){return zi.test(tt)}function xu(tt){for(var dt,ct=[];!(dt=tt.next()).done;)ct.push(dt.value);return ct}function Ps(tt){var dt=-1,ct=Array(tt.size);return tt.forEach(function(jt,le){ct[++dt]=[le,jt]}),ct}function Er(tt,dt){return function(ct){return tt(dt(ct))}}function Tn(tt,dt){for(var ct=-1,jt=tt.length,le=0,ze=[];++ct<jt;){var hn=tt[ct];(hn===dt||hn===C)&&(tt[ct]=C,ze[le++]=ct)}return ze}function ks(tt){var dt=-1,ct=Array(tt.size);return tt.forEach(function(jt){ct[++dt]=jt}),ct}function mo(tt){var dt=-1,ct=Array(tt.size);return tt.forEach(function(jt){ct[++dt]=[jt,jt]}),ct}function Io(tt,dt,ct){for(var jt=ct-1,le=tt.length;++jt<le;)if(tt[jt]===dt)return jt;return-1}function Nu(tt,dt,ct){for(var jt=ct+1;jt--;)if(tt[jt]===dt)return jt;return jt}function Be(tt){return ns(tt)?Ra(tt):tn(tt)}function Rn(tt){return ns(tt)?Ao(tt):Ts(tt)}function ar(tt){for(var dt=tt.length;dt--&&ii.test(tt.charAt(dt)););return dt}var Cr=ga(Ss);function Ra(tt){for(var dt=xs.lastIndex=0;xs.test(tt);)++dt;return dt}function Ao(tt){return tt.match(xs)||[]}function Mu(tt){return tt.match(Ns)||[]}var Su=function tt(dt){dt=dt==null?W:Oi.defaults(W.Object(),dt,Oi.pick(W,$i));var ct=dt.Array,jt=dt.Date,le=dt.Error,ze=dt.Function,hn=dt.Math,Ye=dt.Object,zs=dt.RegExp,_a=dt.String,or=dt.TypeError,O=ct.prototype,F=ze.prototype,K=Ye.prototype,vt=dt["__core-js_shared__"],rt=F.toString,lt=K.hasOwnProperty,yt=0,Tt=function(){var i=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Pt=K.toString,$t=rt.call(Ye),Qt=W._,te=zs("^"+rt.call(lt).replace(ri,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=g?dt.Buffer:n,Pe=dt.Symbol,Jt=dt.Uint8Array,ln=pe?pe.allocUnsafe:n,gn=Er(Ye.getPrototypeOf,Ye),_n=Ye.create,Ke=K.propertyIsEnumerable,di=O.splice,rs=Pe?Pe.isConcatSpreadable:n,wn=Pe?Pe.iterator:n,Os=Pe?Pe.toStringTag:n,Co=function(){try{var i=Bs(Ye,"defineProperty");return i({},"",{}),i}catch{}}(),Hg=dt.clearTimeout!==W.clearTimeout&&dt.clearTimeout,Jg=jt&&jt.now!==W.Date.now&&jt.now,Qg=dt.setTimeout!==W.setTimeout&&dt.setTimeout,yo=hn.ceil,wo=hn.floor,Tu=Ye.getOwnPropertySymbols,Kg=pe?pe.isBuffer:n,Ac=dt.isFinite,qg=O.join,$g=Er(Ye.keys,Ye),bn=hn.max,Wn=hn.min,td=jt.now,ed=dt.parseInt,Cc=hn.random,nd=O.reverse,Du=Bs(dt,"DataView"),Wa=Bs(dt,"Map"),Lu=Bs(dt,"Promise"),va=Bs(dt,"Set"),Ya=Bs(dt,"WeakMap"),Ua=Bs(Ye,"create"),bo=Ya&&new Ya,ma={},rd=Rs(Du),id=Rs(Wa),sd=Rs(Lu),ad=Rs(va),od=Rs(Ya),xo=Pe?Pe.prototype:n,Fa=xo?xo.valueOf:n,yc=xo?xo.toString:n;function k(i){if(cn(i)&&!ve(i)&&!(i instanceof ke)){if(i instanceof jr)return i;if(lt.call(i,"__wrapped__"))return bf(i)}return new jr(i)}var Ia=function(){function i(){}return function(a){if(!an(a))return{};if(_n)return _n(a);i.prototype=a;var f=new i;return i.prototype=n,f}}();function No(){}function jr(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}k.templateSettings={escape:Ks,evaluate:Hi,interpolate:ni,variable:"",imports:{_:k}},k.prototype=No.prototype,k.prototype.constructor=k,jr.prototype=Ia(No.prototype),jr.prototype.constructor=jr;function ke(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zt,this.__views__=[]}function ud(){var i=new ke(this.__wrapped__);return i.__actions__=ur(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ur(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ur(this.__views__),i}function ld(){if(this.__filtered__){var i=new ke(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function cd(){var i=this.__wrapped__.value(),a=this.__dir__,f=ve(i),A=a<0,S=f?i.length:0,E=wp(0,S,this.__views__),Y=E.start,H=E.end,it=H-Y,At=A?H:Y-1,Ct=this.__iteratees__,bt=Ct.length,Ot=0,Ut=Wn(it,this.__takeCount__);if(!f||!A&&S==it&&Ut==it)return Fc(i,this.__actions__);var ae=[];t:for(;it--&&Ot<Ut;){At+=a;for(var ye=-1,oe=i[At];++ye<bt;){var Le=Ct[ye],Oe=Le.iteratee,br=Le.type,Jn=Oe(oe);if(br==Dt)oe=Jn;else if(!Jn){if(br==St)continue t;break t}}ae[Ot++]=oe}return ae}ke.prototype=Ia(No.prototype),ke.prototype.constructor=ke;function Es(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var A=i[a];this.set(A[0],A[1])}}function fd(){this.__data__=Ua?Ua(null):{},this.size=0}function hd(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function gd(i){var a=this.__data__;if(Ua){var f=a[i];return f===p?n:f}return lt.call(a,i)?a[i]:n}function dd(i){var a=this.__data__;return Ua?a[i]!==n:lt.call(a,i)}function pd(i,a){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=Ua&&a===n?p:a,this}Es.prototype.clear=fd,Es.prototype.delete=hd,Es.prototype.get=gd,Es.prototype.has=dd,Es.prototype.set=pd;function Ei(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var A=i[a];this.set(A[0],A[1])}}function vd(){this.__data__=[],this.size=0}function md(i){var a=this.__data__,f=Mo(a,i);if(f<0)return!1;var A=a.length-1;return f==A?a.pop():di.call(a,f,1),--this.size,!0}function Id(i){var a=this.__data__,f=Mo(a,i);return f<0?n:a[f][1]}function Ad(i){return Mo(this.__data__,i)>-1}function Cd(i,a){var f=this.__data__,A=Mo(f,i);return A<0?(++this.size,f.push([i,a])):f[A][1]=a,this}Ei.prototype.clear=vd,Ei.prototype.delete=md,Ei.prototype.get=Id,Ei.prototype.has=Ad,Ei.prototype.set=Cd;function ji(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var A=i[a];this.set(A[0],A[1])}}function yd(){this.size=0,this.__data__={hash:new Es,map:new(Wa||Ei),string:new Es}}function wd(i){var a=Go(this,i).delete(i);return this.size-=a?1:0,a}function bd(i){return Go(this,i).get(i)}function xd(i){return Go(this,i).has(i)}function Nd(i,a){var f=Go(this,i),A=f.size;return f.set(i,a),this.size+=f.size==A?0:1,this}ji.prototype.clear=yd,ji.prototype.delete=wd,ji.prototype.get=bd,ji.prototype.has=xd,ji.prototype.set=Nd;function js(i){var a=-1,f=i==null?0:i.length;for(this.__data__=new ji;++a<f;)this.add(i[a])}function Md(i){return this.__data__.set(i,p),this}function Sd(i){return this.__data__.has(i)}js.prototype.add=js.prototype.push=Md,js.prototype.has=Sd;function Hr(i){var a=this.__data__=new Ei(i);this.size=a.size}function Td(){this.__data__=new Ei,this.size=0}function Dd(i){var a=this.__data__,f=a.delete(i);return this.size=a.size,f}function Ld(i){return this.__data__.get(i)}function Pd(i){return this.__data__.has(i)}function kd(i,a){var f=this.__data__;if(f instanceof Ei){var A=f.__data__;if(!Wa||A.length<s-1)return A.push([i,a]),this.size=++f.size,this;f=this.__data__=new ji(A)}return f.set(i,a),this.size=f.size,this}Hr.prototype.clear=Td,Hr.prototype.delete=Dd,Hr.prototype.get=Ld,Hr.prototype.has=Pd,Hr.prototype.set=kd;function wc(i,a){var f=ve(i),A=!f&&_s(i),S=!f&&!A&&us(i),E=!f&&!A&&!S&&wa(i),Y=f||A||S||E,H=Y?Vr(i.length,_a):[],it=H.length;for(var At in i)(a||lt.call(i,At))&&!(Y&&(At=="length"||S&&(At=="offset"||At=="parent")||E&&(At=="buffer"||At=="byteLength"||At=="byteOffset")||Ri(At,it)))&&H.push(At);return H}function bc(i){var a=i.length;return a?i[_u(0,a-1)]:n}function zd(i,a){return Bo(ur(i),Zs(a,0,i.length))}function Od(i){return Bo(ur(i))}function Pu(i,a,f){(f!==n&&!Jr(i[a],f)||f===n&&!(a in i))&&Zi(i,a,f)}function Xa(i,a,f){var A=i[a];(!(lt.call(i,a)&&Jr(A,f))||f===n&&!(a in i))&&Zi(i,a,f)}function Mo(i,a){for(var f=i.length;f--;)if(Jr(i[f][0],a))return f;return-1}function Ed(i,a,f,A){return is(i,function(S,E,Y){a(A,S,f(S),Y)}),A}function xc(i,a){return i&&vi(a,Dn(a),i)}function jd(i,a){return i&&vi(a,cr(a),i)}function Zi(i,a,f){a=="__proto__"&&Co?Co(i,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[a]=f}function ku(i,a){for(var f=-1,A=a.length,S=ct(A),E=i==null;++f<A;)S[f]=E?n:hl(i,a[f]);return S}function Zs(i,a,f){return i===i&&(f!==n&&(i=i<=f?i:f),a!==n&&(i=i>=a?i:a)),i}function Zr(i,a,f,A,S,E){var Y,H=a&m,it=a&L,At=a&G;if(f&&(Y=S?f(i,A,S,E):f(i)),Y!==n)return Y;if(!an(i))return i;var Ct=ve(i);if(Ct){if(Y=xp(i),!H)return ur(i,Y)}else{var bt=Yn(i),Ot=bt==Bt||bt==xt;if(us(i))return Hc(i,H);if(bt==$||bt==ce||Ot&&!S){if(Y=it||Ot?{}:df(i),!H)return it?gp(i,jd(Y,i)):hp(i,xc(Y,i))}else{if(!We[bt])return S?i:{};Y=Np(i,bt,H)}}E||(E=new Hr);var Ut=E.get(i);if(Ut)return Ut;E.set(i,Y),Yf(i)?i.forEach(function(oe){Y.add(Zr(oe,a,f,oe,i,E))}):_f(i)&&i.forEach(function(oe,Le){Y.set(Le,Zr(oe,a,f,Le,i,E))});var ae=At?it?qu:Ku:it?cr:Dn,ye=Ct?n:ae(i);return ft(ye||i,function(oe,Le){ye&&(Le=oe,oe=i[Le]),Xa(Y,Le,Zr(oe,a,f,Le,i,E))}),Y}function Zd(i){var a=Dn(i);return function(f){return Nc(f,i,a)}}function Nc(i,a,f){var A=f.length;if(i==null)return!A;for(i=Ye(i);A--;){var S=f[A],E=a[S],Y=i[S];if(Y===n&&!(S in i)||!E(Y))return!1}return!0}function Mc(i,a,f){if(typeof i!="function")throw new or(c);return $a(function(){i.apply(n,f)},a)}function Va(i,a,f,A){var S=-1,E=en,Y=!0,H=i.length,it=[],At=a.length;if(!H)return it;f&&(a=xe(a,Xn(f))),A?(E=nn,Y=!1):a.length>=s&&(E=Ds,Y=!1,a=new js(a));t:for(;++S<H;){var Ct=i[S],bt=f==null?Ct:f(Ct);if(Ct=A||Ct!==0?Ct:0,Y&&bt===bt){for(var Ot=At;Ot--;)if(a[Ot]===bt)continue t;it.push(Ct)}else E(a,bt,A)||it.push(Ct)}return it}var is=$c(pi),Sc=$c(Ou,!0);function Gd(i,a){var f=!0;return is(i,function(A,S,E){return f=!!a(A,S,E),f}),f}function So(i,a,f){for(var A=-1,S=i.length;++A<S;){var E=i[A],Y=a(E);if(Y!=null&&(H===n?Y===Y&&!wr(Y):f(Y,H)))var H=Y,it=E}return it}function Bd(i,a,f,A){var S=i.length;for(f=Ae(f),f<0&&(f=-f>S?0:S+f),A=A===n||A>S?S:Ae(A),A<0&&(A+=S),A=f>A?0:Ff(A);f<A;)i[f++]=a;return i}function Tc(i,a){var f=[];return is(i,function(A,S,E){a(A,S,E)&&f.push(A)}),f}function On(i,a,f,A,S){var E=-1,Y=i.length;for(f||(f=Sp),S||(S=[]);++E<Y;){var H=i[E];a>0&&f(H)?a>1?On(H,a-1,f,A,S):Te(S,H):A||(S[S.length]=H)}return S}var zu=tf(),Dc=tf(!0);function pi(i,a){return i&&zu(i,a,Dn)}function Ou(i,a){return i&&Dc(i,a,Dn)}function To(i,a){return Rt(a,function(f){return _i(i[f])})}function Gs(i,a){a=as(a,i);for(var f=0,A=a.length;i!=null&&f<A;)i=i[mi(a[f++])];return f&&f==A?i:n}function Lc(i,a,f){var A=a(i);return ve(i)?A:Te(A,f(i))}function Vn(i){return i==null?i===n?Ze:Z:Os&&Os in Ye(i)?yp(i):Op(i)}function Eu(i,a){return i>a}function Rd(i,a){return i!=null&&lt.call(i,a)}function _d(i,a){return i!=null&&a in Ye(i)}function Wd(i,a,f){return i>=Wn(a,f)&&i<bn(a,f)}function ju(i,a,f){for(var A=f?nn:en,S=i[0].length,E=i.length,Y=E,H=ct(E),it=1/0,At=[];Y--;){var Ct=i[Y];Y&&a&&(Ct=xe(Ct,Xn(a))),it=Wn(Ct.length,it),H[Y]=!f&&(a||S>=120&&Ct.length>=120)?new js(Y&&Ct):n}Ct=i[0];var bt=-1,Ot=H[0];t:for(;++bt<S&&At.length<it;){var Ut=Ct[bt],ae=a?a(Ut):Ut;if(Ut=f||Ut!==0?Ut:0,!(Ot?Ds(Ot,ae):A(At,ae,f))){for(Y=E;--Y;){var ye=H[Y];if(!(ye?Ds(ye,ae):A(i[Y],ae,f)))continue t}Ot&&Ot.push(ae),At.push(Ut)}}return At}function Yd(i,a,f,A){return pi(i,function(S,E,Y){a(A,f(S),E,Y)}),A}function Ha(i,a,f){a=as(a,i),i=If(i,a);var A=i==null?i:i[mi(Br(a))];return A==null?n:mt(A,i,f)}function Pc(i){return cn(i)&&Vn(i)==ce}function Ud(i){return cn(i)&&Vn(i)==un}function Fd(i){return cn(i)&&Vn(i)==Vt}function Ja(i,a,f,A,S){return i===a?!0:i==null||a==null||!cn(i)&&!cn(a)?i!==i&&a!==a:Xd(i,a,f,A,Ja,S)}function Xd(i,a,f,A,S,E){var Y=ve(i),H=ve(a),it=Y?he:Yn(i),At=H?he:Yn(a);it=it==ce?$:it,At=At==ce?$:At;var Ct=it==$,bt=At==$,Ot=it==At;if(Ot&&us(i)){if(!us(a))return!1;Y=!0,Ct=!1}if(Ot&&!Ct)return E||(E=new Hr),Y||wa(i)?ff(i,a,f,A,S,E):Ap(i,a,it,f,A,S,E);if(!(f&j)){var Ut=Ct&&lt.call(i,"__wrapped__"),ae=bt&&lt.call(a,"__wrapped__");if(Ut||ae){var ye=Ut?i.value():i,oe=ae?a.value():a;return E||(E=new Hr),S(ye,oe,f,A,E)}}return Ot?(E||(E=new Hr),Cp(i,a,f,A,S,E)):!1}function Vd(i){return cn(i)&&Yn(i)==N}function Zu(i,a,f,A){var S=f.length,E=S,Y=!A;if(i==null)return!E;for(i=Ye(i);S--;){var H=f[S];if(Y&&H[2]?H[1]!==i[H[0]]:!(H[0]in i))return!1}for(;++S<E;){H=f[S];var it=H[0],At=i[it],Ct=H[1];if(Y&&H[2]){if(At===n&&!(it in i))return!1}else{var bt=new Hr;if(A)var Ot=A(At,Ct,it,i,a,bt);if(!(Ot===n?Ja(Ct,At,j|X,A,bt):Ot))return!1}}return!0}function kc(i){if(!an(i)||Dp(i))return!1;var a=_i(i)?te:Ti;return a.test(Rs(i))}function Hd(i){return cn(i)&&Vn(i)==Mt}function Jd(i){return cn(i)&&Yn(i)==Ht}function Qd(i){return cn(i)&&Fo(i.length)&&!!_e[Vn(i)]}function zc(i){return typeof i=="function"?i:i==null?fr:typeof i=="object"?ve(i)?jc(i[0],i[1]):Ec(i):nh(i)}function Gu(i){if(!qa(i))return $g(i);var a=[];for(var f in Ye(i))lt.call(i,f)&&f!="constructor"&&a.push(f);return a}function Kd(i){if(!an(i))return zp(i);var a=qa(i),f=[];for(var A in i)A=="constructor"&&(a||!lt.call(i,A))||f.push(A);return f}function Bu(i,a){return i<a}function Oc(i,a){var f=-1,A=lr(i)?ct(i.length):[];return is(i,function(S,E,Y){A[++f]=a(S,E,Y)}),A}function Ec(i){var a=tl(i);return a.length==1&&a[0][2]?vf(a[0][0],a[0][1]):function(f){return f===i||Zu(f,i,a)}}function jc(i,a){return nl(i)&&pf(a)?vf(mi(i),a):function(f){var A=hl(f,i);return A===n&&A===a?gl(f,i):Ja(a,A,j|X)}}function Do(i,a,f,A,S){i!==a&&zu(a,function(E,Y){if(S||(S=new Hr),an(E))qd(i,a,Y,f,Do,A,S);else{var H=A?A(il(i,Y),E,Y+"",i,a,S):n;H===n&&(H=E),Pu(i,Y,H)}},cr)}function qd(i,a,f,A,S,E,Y){var H=il(i,f),it=il(a,f),At=Y.get(it);if(At){Pu(i,f,At);return}var Ct=E?E(H,it,f+"",i,a,Y):n,bt=Ct===n;if(bt){var Ot=ve(it),Ut=!Ot&&us(it),ae=!Ot&&!Ut&&wa(it);Ct=it,Ot||Ut||ae?ve(H)?Ct=H:dn(H)?Ct=ur(H):Ut?(bt=!1,Ct=Hc(it,!0)):ae?(bt=!1,Ct=Jc(it,!0)):Ct=[]:to(it)||_s(it)?(Ct=H,_s(H)?Ct=Xf(H):(!an(H)||_i(H))&&(Ct=df(it))):bt=!1}bt&&(Y.set(it,Ct),S(Ct,it,A,E,Y),Y.delete(it)),Pu(i,f,Ct)}function Zc(i,a){var f=i.length;if(!!f)return a+=a<0?f:0,Ri(a,f)?i[a]:n}function Gc(i,a,f){a.length?a=xe(a,function(E){return ve(E)?function(Y){return Gs(Y,E.length===1?E[0]:E)}:E}):a=[fr];var A=-1;a=xe(a,Xn(ne()));var S=Oc(i,function(E,Y,H){var it=xe(a,function(At){return At(E)});return{criteria:it,index:++A,value:E}});return Ga(S,function(E,Y){return fp(E,Y,f)})}function $d(i,a){return Bc(i,a,function(f,A){return gl(i,A)})}function Bc(i,a,f){for(var A=-1,S=a.length,E={};++A<S;){var Y=a[A],H=Gs(i,Y);f(H,Y)&&Qa(E,as(Y,i),H)}return E}function tp(i){return function(a){return Gs(a,i)}}function Ru(i,a,f,A){var S=A?Bn:sr,E=-1,Y=a.length,H=i;for(i===a&&(a=ur(a)),f&&(H=xe(i,Xn(f)));++E<Y;)for(var it=0,At=a[E],Ct=f?f(At):At;(it=S(H,Ct,it,A))>-1;)H!==i&&di.call(H,it,1),di.call(i,it,1);return i}function Rc(i,a){for(var f=i?a.length:0,A=f-1;f--;){var S=a[f];if(f==A||S!==E){var E=S;Ri(S)?di.call(i,S,1):Uu(i,S)}}return i}function _u(i,a){return i+wo(Cc()*(a-i+1))}function ep(i,a,f,A){for(var S=-1,E=bn(yo((a-i)/(f||1)),0),Y=ct(E);E--;)Y[A?E:++S]=i,i+=f;return Y}function Wu(i,a){var f="";if(!i||a<1||a>ee)return f;do a%2&&(f+=i),a=wo(a/2),a&&(i+=i);while(a);return f}function we(i,a){return sl(mf(i,a,fr),i+"")}function np(i){return bc(ba(i))}function rp(i,a){var f=ba(i);return Bo(f,Zs(a,0,f.length))}function Qa(i,a,f,A){if(!an(i))return i;a=as(a,i);for(var S=-1,E=a.length,Y=E-1,H=i;H!=null&&++S<E;){var it=mi(a[S]),At=f;if(it==="__proto__"||it==="constructor"||it==="prototype")return i;if(S!=Y){var Ct=H[it];At=A?A(Ct,it,H):n,At===n&&(At=an(Ct)?Ct:Ri(a[S+1])?[]:{})}Xa(H,it,At),H=H[it]}return i}var _c=bo?function(i,a){return bo.set(i,a),i}:fr,ip=Co?function(i,a){return Co(i,"toString",{configurable:!0,enumerable:!1,value:pl(a),writable:!0})}:fr;function sp(i){return Bo(ba(i))}function Gr(i,a,f){var A=-1,S=i.length;a<0&&(a=-a>S?0:S+a),f=f>S?S:f,f<0&&(f+=S),S=a>f?0:f-a>>>0,a>>>=0;for(var E=ct(S);++A<S;)E[A]=i[A+a];return E}function ap(i,a){var f;return is(i,function(A,S,E){return f=a(A,S,E),!f}),!!f}function Lo(i,a,f){var A=0,S=i==null?A:i.length;if(typeof a=="number"&&a===a&&S<=Gt){for(;A<S;){var E=A+S>>>1,Y=i[E];Y!==null&&!wr(Y)&&(f?Y<=a:Y<a)?A=E+1:S=E}return S}return Yu(i,a,fr,f)}function Yu(i,a,f,A){var S=0,E=i==null?0:i.length;if(E===0)return 0;a=f(a);for(var Y=a!==a,H=a===null,it=wr(a),At=a===n;S<E;){var Ct=wo((S+E)/2),bt=f(i[Ct]),Ot=bt!==n,Ut=bt===null,ae=bt===bt,ye=wr(bt);if(Y)var oe=A||ae;else At?oe=ae&&(A||Ot):H?oe=ae&&Ot&&(A||!Ut):it?oe=ae&&Ot&&!Ut&&(A||!ye):Ut||ye?oe=!1:oe=A?bt<=a:bt<a;oe?S=Ct+1:E=Ct}return Wn(E,Wt)}function Wc(i,a){for(var f=-1,A=i.length,S=0,E=[];++f<A;){var Y=i[f],H=a?a(Y):Y;if(!f||!Jr(H,it)){var it=H;E[S++]=Y===0?0:Y}}return E}function Yc(i){return typeof i=="number"?i:wr(i)?Lt:+i}function yr(i){if(typeof i=="string")return i;if(ve(i))return xe(i,yr)+"";if(wr(i))return yc?yc.call(i):"";var a=i+"";return a=="0"&&1/i==-fe?"-0":a}function ss(i,a,f){var A=-1,S=en,E=i.length,Y=!0,H=[],it=H;if(f)Y=!1,S=nn;else if(E>=s){var At=a?null:mp(i);if(At)return ks(At);Y=!1,S=Ds,it=new js}else it=a?[]:H;t:for(;++A<E;){var Ct=i[A],bt=a?a(Ct):Ct;if(Ct=f||Ct!==0?Ct:0,Y&&bt===bt){for(var Ot=it.length;Ot--;)if(it[Ot]===bt)continue t;a&&it.push(bt),H.push(Ct)}else S(it,bt,f)||(it!==H&&it.push(bt),H.push(Ct))}return H}function Uu(i,a){return a=as(a,i),i=If(i,a),i==null||delete i[mi(Br(a))]}function Uc(i,a,f,A){return Qa(i,a,f(Gs(i,a)),A)}function Po(i,a,f,A){for(var S=i.length,E=A?S:-1;(A?E--:++E<S)&&a(i[E],E,i););return f?Gr(i,A?0:E,A?E+1:S):Gr(i,A?E+1:0,A?S:E)}function Fc(i,a){var f=i;return f instanceof ke&&(f=f.value()),ue(a,function(A,S){return S.func.apply(S.thisArg,Te([A],S.args))},f)}function Fu(i,a,f){var A=i.length;if(A<2)return A?ss(i[0]):[];for(var S=-1,E=ct(A);++S<A;)for(var Y=i[S],H=-1;++H<A;)H!=S&&(E[S]=Va(E[S]||Y,i[H],a,f));return ss(On(E,1),a,f)}function Xc(i,a,f){for(var A=-1,S=i.length,E=a.length,Y={};++A<S;){var H=A<E?a[A]:n;f(Y,i[A],H)}return Y}function Xu(i){return dn(i)?i:[]}function Vu(i){return typeof i=="function"?i:fr}function as(i,a){return ve(i)?i:nl(i,a)?[i]:wf(Ve(i))}var op=we;function os(i,a,f){var A=i.length;return f=f===n?A:f,!a&&f>=A?i:Gr(i,a,f)}var Vc=Hg||function(i){return W.clearTimeout(i)};function Hc(i,a){if(a)return i.slice();var f=i.length,A=ln?ln(f):new i.constructor(f);return i.copy(A),A}function Hu(i){var a=new i.constructor(i.byteLength);return new Jt(a).set(new Jt(i)),a}function up(i,a){var f=a?Hu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.byteLength)}function lp(i){var a=new i.constructor(i.source,vs.exec(i));return a.lastIndex=i.lastIndex,a}function cp(i){return Fa?Ye(Fa.call(i)):{}}function Jc(i,a){var f=a?Hu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}function Qc(i,a){if(i!==a){var f=i!==n,A=i===null,S=i===i,E=wr(i),Y=a!==n,H=a===null,it=a===a,At=wr(a);if(!H&&!At&&!E&&i>a||E&&Y&&it&&!H&&!At||A&&Y&&it||!f&&it||!S)return 1;if(!A&&!E&&!At&&i<a||At&&f&&S&&!A&&!E||H&&f&&S||!Y&&S||!it)return-1}return 0}function fp(i,a,f){for(var A=-1,S=i.criteria,E=a.criteria,Y=S.length,H=f.length;++A<Y;){var it=Qc(S[A],E[A]);if(it){if(A>=H)return it;var At=f[A];return it*(At=="desc"?-1:1)}}return i.index-a.index}function Kc(i,a,f,A){for(var S=-1,E=i.length,Y=f.length,H=-1,it=a.length,At=bn(E-Y,0),Ct=ct(it+At),bt=!A;++H<it;)Ct[H]=a[H];for(;++S<Y;)(bt||S<E)&&(Ct[f[S]]=i[S]);for(;At--;)Ct[H++]=i[S++];return Ct}function qc(i,a,f,A){for(var S=-1,E=i.length,Y=-1,H=f.length,it=-1,At=a.length,Ct=bn(E-H,0),bt=ct(Ct+At),Ot=!A;++S<Ct;)bt[S]=i[S];for(var Ut=S;++it<At;)bt[Ut+it]=a[it];for(;++Y<H;)(Ot||S<E)&&(bt[Ut+f[Y]]=i[S++]);return bt}function ur(i,a){var f=-1,A=i.length;for(a||(a=ct(A));++f<A;)a[f]=i[f];return a}function vi(i,a,f,A){var S=!f;f||(f={});for(var E=-1,Y=a.length;++E<Y;){var H=a[E],it=A?A(f[H],i[H],H,f,i):n;it===n&&(it=i[H]),S?Zi(f,H,it):Xa(f,H,it)}return f}function hp(i,a){return vi(i,el(i),a)}function gp(i,a){return vi(i,hf(i),a)}function ko(i,a){return function(f,A){var S=ve(f)?ot:Ed,E=a?a():{};return S(f,i,ne(A,2),E)}}function Aa(i){return we(function(a,f){var A=-1,S=f.length,E=S>1?f[S-1]:n,Y=S>2?f[2]:n;for(E=i.length>3&&typeof E=="function"?(S--,E):n,Y&&Hn(f[0],f[1],Y)&&(E=S<3?n:E,S=1),a=Ye(a);++A<S;){var H=f[A];H&&i(a,H,A,E)}return a})}function $c(i,a){return function(f,A){if(f==null)return f;if(!lr(f))return i(f,A);for(var S=f.length,E=a?S:-1,Y=Ye(f);(a?E--:++E<S)&&A(Y[E],E,Y)!==!1;);return f}}function tf(i){return function(a,f,A){for(var S=-1,E=Ye(a),Y=A(a),H=Y.length;H--;){var it=Y[i?H:++S];if(f(E[it],it,E)===!1)break}return a}}function dp(i,a,f){var A=a&Q,S=Ka(i);function E(){var Y=this&&this!==W&&this instanceof E?S:i;return Y.apply(A?f:this,arguments)}return E}function ef(i){return function(a){a=Ve(a);var f=ns(a)?Rn(a):n,A=f?f[0]:a.charAt(0),S=f?os(f,1).join(""):a.slice(1);return A[i]()+S}}function Ca(i){return function(a){return ue(th($f(a).replace(ja,"")),i,"")}}function Ka(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var f=Ia(i.prototype),A=i.apply(f,a);return an(A)?A:f}}function pp(i,a,f){var A=Ka(i);function S(){for(var E=arguments.length,Y=ct(E),H=E,it=ya(S);H--;)Y[H]=arguments[H];var At=E<3&&Y[0]!==it&&Y[E-1]!==it?[]:Tn(Y,it);if(E-=At.length,E<f)return of(i,a,zo,S.placeholder,n,Y,At,n,n,f-E);var Ct=this&&this!==W&&this instanceof S?A:i;return mt(Ct,this,Y)}return S}function nf(i){return function(a,f,A){var S=Ye(a);if(!lr(a)){var E=ne(f,3);a=Dn(a),f=function(H){return E(S[H],H,S)}}var Y=i(a,f,A);return Y>-1?S[E?a[Y]:Y]:n}}function rf(i){return Bi(function(a){var f=a.length,A=f,S=jr.prototype.thru;for(i&&a.reverse();A--;){var E=a[A];if(typeof E!="function")throw new or(c);if(S&&!Y&&Zo(E)=="wrapper")var Y=new jr([],!0)}for(A=Y?A:f;++A<f;){E=a[A];var H=Zo(E),it=H=="wrapper"?$u(E):n;it&&rl(it[0])&&it[1]==(B|y|D|q)&&!it[4].length&&it[9]==1?Y=Y[Zo(it[0])].apply(Y,it[3]):Y=E.length==1&&rl(E)?Y[H]():Y.thru(E)}return function(){var At=arguments,Ct=At[0];if(Y&&At.length==1&&ve(Ct))return Y.plant(Ct).value();for(var bt=0,Ot=f?a[bt].apply(this,At):Ct;++bt<f;)Ot=a[bt].call(this,Ot);return Ot}})}function zo(i,a,f,A,S,E,Y,H,it,At){var Ct=a&B,bt=a&Q,Ot=a&J,Ut=a&(y|M),ae=a&et,ye=Ot?n:Ka(i);function oe(){for(var Le=arguments.length,Oe=ct(Le),br=Le;br--;)Oe[br]=arguments[br];if(Ut)var Jn=ya(oe),xr=Cu(Oe,Jn);if(A&&(Oe=Kc(Oe,A,S,Ut)),E&&(Oe=qc(Oe,E,Y,Ut)),Le-=xr,Ut&&Le<At){var pn=Tn(Oe,Jn);return of(i,a,zo,oe.placeholder,f,Oe,pn,H,it,At-Le)}var Qr=bt?f:this,Yi=Ot?Qr[i]:i;return Le=Oe.length,H?Oe=Ep(Oe,H):ae&&Le>1&&Oe.reverse(),Ct&&it<Le&&(Oe.length=it),this&&this!==W&&this instanceof oe&&(Yi=ye||Ka(Yi)),Yi.apply(Qr,Oe)}return oe}function sf(i,a){return function(f,A){return Yd(f,i,a(A),{})}}function Oo(i,a){return function(f,A){var S;if(f===n&&A===n)return a;if(f!==n&&(S=f),A!==n){if(S===n)return A;typeof f=="string"||typeof A=="string"?(f=yr(f),A=yr(A)):(f=Yc(f),A=Yc(A)),S=i(f,A)}return S}}function Ju(i){return Bi(function(a){return a=xe(a,Xn(ne())),we(function(f){var A=this;return i(a,function(S){return mt(S,A,f)})})})}function Eo(i,a){a=a===n?" ":yr(a);var f=a.length;if(f<2)return f?Wu(a,i):a;var A=Wu(a,yo(i/Be(a)));return ns(a)?os(Rn(A),0,i).join(""):A.slice(0,i)}function vp(i,a,f,A){var S=a&Q,E=Ka(i);function Y(){for(var H=-1,it=arguments.length,At=-1,Ct=A.length,bt=ct(Ct+it),Ot=this&&this!==W&&this instanceof Y?E:i;++At<Ct;)bt[At]=A[At];for(;it--;)bt[At++]=arguments[++H];return mt(Ot,S?f:this,bt)}return Y}function af(i){return function(a,f,A){return A&&typeof A!="number"&&Hn(a,f,A)&&(f=A=n),a=Wi(a),f===n?(f=a,a=0):f=Wi(f),A=A===n?a<f?1:-1:Wi(A),ep(a,f,A,i)}}function jo(i){return function(a,f){return typeof a=="string"&&typeof f=="string"||(a=Rr(a),f=Rr(f)),i(a,f)}}function of(i,a,f,A,S,E,Y,H,it,At){var Ct=a&y,bt=Ct?Y:n,Ot=Ct?n:Y,Ut=Ct?E:n,ae=Ct?n:E;a|=Ct?D:d,a&=~(Ct?d:D),a&st||(a&=~(Q|J));var ye=[i,a,S,Ut,bt,ae,Ot,H,it,At],oe=f.apply(n,ye);return rl(i)&&Af(oe,ye),oe.placeholder=A,Cf(oe,i,a)}function Qu(i){var a=hn[i];return function(f,A){if(f=Rr(f),A=A==null?0:Wn(Ae(A),292),A&&Ac(f)){var S=(Ve(f)+"e").split("e"),E=a(S[0]+"e"+(+S[1]+A));return S=(Ve(E)+"e").split("e"),+(S[0]+"e"+(+S[1]-A))}return a(f)}}var mp=va&&1/ks(new va([,-0]))[1]==fe?function(i){return new va(i)}:Il;function uf(i){return function(a){var f=Yn(a);return f==N?Ps(a):f==Ht?mo(a):po(a,i(a))}}function Gi(i,a,f,A,S,E,Y,H){var it=a&J;if(!it&&typeof i!="function")throw new or(c);var At=A?A.length:0;if(At||(a&=~(D|d),A=S=n),Y=Y===n?Y:bn(Ae(Y),0),H=H===n?H:Ae(H),At-=S?S.length:0,a&d){var Ct=A,bt=S;A=S=n}var Ot=it?n:$u(i),Ut=[i,a,f,A,S,Ct,bt,E,Y,H];if(Ot&&kp(Ut,Ot),i=Ut[0],a=Ut[1],f=Ut[2],A=Ut[3],S=Ut[4],H=Ut[9]=Ut[9]===n?it?0:i.length:bn(Ut[9]-At,0),!H&&a&(y|M)&&(a&=~(y|M)),!a||a==Q)var ae=dp(i,a,f);else a==y||a==M?ae=pp(i,a,H):(a==D||a==(Q|D))&&!S.length?ae=vp(i,a,f,A):ae=zo.apply(n,Ut);var ye=Ot?_c:Af;return Cf(ye(ae,Ut),i,a)}function lf(i,a,f,A){return i===n||Jr(i,K[f])&&!lt.call(A,f)?a:i}function cf(i,a,f,A,S,E){return an(i)&&an(a)&&(E.set(a,i),Do(i,a,n,cf,E),E.delete(a)),i}function Ip(i){return to(i)?n:i}function ff(i,a,f,A,S,E){var Y=f&j,H=i.length,it=a.length;if(H!=it&&!(Y&&it>H))return!1;var At=E.get(i),Ct=E.get(a);if(At&&Ct)return At==a&&Ct==i;var bt=-1,Ot=!0,Ut=f&X?new js:n;for(E.set(i,a),E.set(a,i);++bt<H;){var ae=i[bt],ye=a[bt];if(A)var oe=Y?A(ye,ae,bt,a,i,E):A(ae,ye,bt,i,a,E);if(oe!==n){if(oe)continue;Ot=!1;break}if(Ut){if(!De(a,function(Le,Oe){if(!Ds(Ut,Oe)&&(ae===Le||S(ae,Le,f,A,E)))return Ut.push(Oe)})){Ot=!1;break}}else if(!(ae===ye||S(ae,ye,f,A,E))){Ot=!1;break}}return E.delete(i),E.delete(a),Ot}function Ap(i,a,f,A,S,E,Y){switch(f){case mn:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case un:return!(i.byteLength!=a.byteLength||!E(new Jt(i),new Jt(a)));case Ie:case Vt:case z:return Jr(+i,+a);case ie:return i.name==a.name&&i.message==a.message;case Mt:case kt:return i==a+"";case N:var H=Ps;case Ht:var it=A&j;if(H||(H=ks),i.size!=a.size&&!it)return!1;var At=Y.get(i);if(At)return At==a;A|=X,Y.set(i,a);var Ct=ff(H(i),H(a),A,S,E,Y);return Y.delete(i),Ct;case se:if(Fa)return Fa.call(i)==Fa.call(a)}return!1}function Cp(i,a,f,A,S,E){var Y=f&j,H=Ku(i),it=H.length,At=Ku(a),Ct=At.length;if(it!=Ct&&!Y)return!1;for(var bt=it;bt--;){var Ot=H[bt];if(!(Y?Ot in a:lt.call(a,Ot)))return!1}var Ut=E.get(i),ae=E.get(a);if(Ut&&ae)return Ut==a&&ae==i;var ye=!0;E.set(i,a),E.set(a,i);for(var oe=Y;++bt<it;){Ot=H[bt];var Le=i[Ot],Oe=a[Ot];if(A)var br=Y?A(Oe,Le,Ot,a,i,E):A(Le,Oe,Ot,i,a,E);if(!(br===n?Le===Oe||S(Le,Oe,f,A,E):br)){ye=!1;break}oe||(oe=Ot=="constructor")}if(ye&&!oe){var Jn=i.constructor,xr=a.constructor;Jn!=xr&&"constructor"in i&&"constructor"in a&&!(typeof Jn=="function"&&Jn instanceof Jn&&typeof xr=="function"&&xr instanceof xr)&&(ye=!1)}return E.delete(i),E.delete(a),ye}function Bi(i){return sl(mf(i,n,Mf),i+"")}function Ku(i){return Lc(i,Dn,el)}function qu(i){return Lc(i,cr,hf)}var $u=bo?function(i){return bo.get(i)}:Il;function Zo(i){for(var a=i.name+"",f=ma[a],A=lt.call(ma,a)?f.length:0;A--;){var S=f[A],E=S.func;if(E==null||E==i)return S.name}return a}function ya(i){var a=lt.call(k,"placeholder")?k:i;return a.placeholder}function ne(){var i=k.iteratee||vl;return i=i===vl?zc:i,arguments.length?i(arguments[0],arguments[1]):i}function Go(i,a){var f=i.__data__;return Tp(a)?f[typeof a=="string"?"string":"hash"]:f.map}function tl(i){for(var a=Dn(i),f=a.length;f--;){var A=a[f],S=i[A];a[f]=[A,S,pf(S)]}return a}function Bs(i,a){var f=bu(i,a);return kc(f)?f:n}function yp(i){var a=lt.call(i,Os),f=i[Os];try{i[Os]=n;var A=!0}catch{}var S=Pt.call(i);return A&&(a?i[Os]=f:delete i[Os]),S}var el=Tu?function(i){return i==null?[]:(i=Ye(i),Rt(Tu(i),function(a){return Ke.call(i,a)}))}:Al,hf=Tu?function(i){for(var a=[];i;)Te(a,el(i)),i=gn(i);return a}:Al,Yn=Vn;(Du&&Yn(new Du(new ArrayBuffer(1)))!=mn||Wa&&Yn(new Wa)!=N||Lu&&Yn(Lu.resolve())!=ht||va&&Yn(new va)!=Ht||Ya&&Yn(new Ya)!=me)&&(Yn=function(i){var a=Vn(i),f=a==$?i.constructor:n,A=f?Rs(f):"";if(A)switch(A){case rd:return mn;case id:return N;case sd:return ht;case ad:return Ht;case od:return me}return a});function wp(i,a,f){for(var A=-1,S=f.length;++A<S;){var E=f[A],Y=E.size;switch(E.type){case"drop":i+=Y;break;case"dropRight":a-=Y;break;case"take":a=Wn(a,i+Y);break;case"takeRight":i=bn(i,a-Y);break}}return{start:i,end:a}}function bp(i){var a=i.match(Mr);return a?a[1].split(An):[]}function gf(i,a,f){a=as(a,i);for(var A=-1,S=a.length,E=!1;++A<S;){var Y=mi(a[A]);if(!(E=i!=null&&f(i,Y)))break;i=i[Y]}return E||++A!=S?E:(S=i==null?0:i.length,!!S&&Fo(S)&&Ri(Y,S)&&(ve(i)||_s(i)))}function xp(i){var a=i.length,f=new i.constructor(a);return a&&typeof i[0]=="string"&&lt.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function df(i){return typeof i.constructor=="function"&&!qa(i)?Ia(gn(i)):{}}function Np(i,a,f){var A=i.constructor;switch(a){case un:return Hu(i);case Ie:case Vt:return new A(+i);case mn:return up(i,f);case Xe:case He:case fn:case In:case Nn:case pr:case vr:case Qe:case sn:return Jc(i,f);case N:return new A;case z:case kt:return new A(i);case Mt:return lp(i);case Ht:return new A;case se:return cp(i)}}function Mp(i,a){var f=a.length;if(!f)return i;var A=f-1;return a[A]=(f>1?"& ":"")+a[A],a=a.join(f>2?", ":" "),i.replace($s,`{
/* [wrapped with `+a+`] */
`)}function Sp(i){return ve(i)||_s(i)||!!(rs&&i&&i[rs])}function Ri(i,a){var f=typeof i;return a=a==null?ee:a,!!a&&(f=="number"||f!="symbol"&&ea.test(i))&&i>-1&&i%1==0&&i<a}function Hn(i,a,f){if(!an(f))return!1;var A=typeof a;return(A=="number"?lr(f)&&Ri(a,f.length):A=="string"&&a in f)?Jr(f[a],i):!1}function nl(i,a){if(ve(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||wr(i)?!0:ds.test(i)||!xi.test(i)||a!=null&&i in Ye(a)}function Tp(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function rl(i){var a=Zo(i),f=k[a];if(typeof f!="function"||!(a in ke.prototype))return!1;if(i===f)return!0;var A=$u(f);return!!A&&i===A[0]}function Dp(i){return!!Tt&&Tt in i}var Lp=vt?_i:Cl;function qa(i){var a=i&&i.constructor,f=typeof a=="function"&&a.prototype||K;return i===f}function pf(i){return i===i&&!an(i)}function vf(i,a){return function(f){return f==null?!1:f[i]===a&&(a!==n||i in Ye(f))}}function Pp(i){var a=Yo(i,function(A){return f.size===I&&f.clear(),A}),f=a.cache;return a}function kp(i,a){var f=i[1],A=a[1],S=f|A,E=S<(Q|J|B),Y=A==B&&f==y||A==B&&f==q&&i[7].length<=a[8]||A==(B|q)&&a[7].length<=a[8]&&f==y;if(!(E||Y))return i;A&Q&&(i[2]=a[2],S|=f&Q?0:st);var H=a[3];if(H){var it=i[3];i[3]=it?Kc(it,H,a[4]):H,i[4]=it?Tn(i[3],C):a[4]}return H=a[5],H&&(it=i[5],i[5]=it?qc(it,H,a[6]):H,i[6]=it?Tn(i[5],C):a[6]),H=a[7],H&&(i[7]=H),A&B&&(i[8]=i[8]==null?a[8]:Wn(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=S,i}function zp(i){var a=[];if(i!=null)for(var f in Ye(i))a.push(f);return a}function Op(i){return Pt.call(i)}function mf(i,a,f){return a=bn(a===n?i.length-1:a,0),function(){for(var A=arguments,S=-1,E=bn(A.length-a,0),Y=ct(E);++S<E;)Y[S]=A[a+S];S=-1;for(var H=ct(a+1);++S<a;)H[S]=A[S];return H[a]=f(Y),mt(i,this,H)}}function If(i,a){return a.length<2?i:Gs(i,Gr(a,0,-1))}function Ep(i,a){for(var f=i.length,A=Wn(a.length,f),S=ur(i);A--;){var E=a[A];i[A]=Ri(E,f)?S[E]:n}return i}function il(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var Af=yf(_c),$a=Qg||function(i,a){return W.setTimeout(i,a)},sl=yf(ip);function Cf(i,a,f){var A=a+"";return sl(i,Mp(A,jp(bp(A),f)))}function yf(i){var a=0,f=0;return function(){var A=td(),S=Nt-(A-f);if(f=A,S>0){if(++a>=pt)return arguments[0]}else a=0;return i.apply(n,arguments)}}function Bo(i,a){var f=-1,A=i.length,S=A-1;for(a=a===n?A:a;++f<a;){var E=_u(f,S),Y=i[E];i[E]=i[f],i[f]=Y}return i.length=a,i}var wf=Pp(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(qs,function(f,A,S,E){a.push(S?E.replace(Sr,"$1"):A||f)}),a});function mi(i){if(typeof i=="string"||wr(i))return i;var a=i+"";return a=="0"&&1/i==-fe?"-0":a}function Rs(i){if(i!=null){try{return rt.call(i)}catch{}try{return i+""}catch{}}return""}function jp(i,a){return ft(re,function(f){var A="_."+f[0];a&f[1]&&!en(i,A)&&i.push(A)}),i.sort()}function bf(i){if(i instanceof ke)return i.clone();var a=new jr(i.__wrapped__,i.__chain__);return a.__actions__=ur(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function Zp(i,a,f){(f?Hn(i,a,f):a===n)?a=1:a=bn(Ae(a),0);var A=i==null?0:i.length;if(!A||a<1)return[];for(var S=0,E=0,Y=ct(yo(A/a));S<A;)Y[E++]=Gr(i,S,S+=a);return Y}function Gp(i){for(var a=-1,f=i==null?0:i.length,A=0,S=[];++a<f;){var E=i[a];E&&(S[A++]=E)}return S}function Bp(){var i=arguments.length;if(!i)return[];for(var a=ct(i-1),f=arguments[0],A=i;A--;)a[A-1]=arguments[A];return Te(ve(f)?ur(f):[f],On(a,1))}var Rp=we(function(i,a){return dn(i)?Va(i,On(a,1,dn,!0)):[]}),_p=we(function(i,a){var f=Br(a);return dn(f)&&(f=n),dn(i)?Va(i,On(a,1,dn,!0),ne(f,2)):[]}),Wp=we(function(i,a){var f=Br(a);return dn(f)&&(f=n),dn(i)?Va(i,On(a,1,dn,!0),n,f):[]});function Yp(i,a,f){var A=i==null?0:i.length;return A?(a=f||a===n?1:Ae(a),Gr(i,a<0?0:a,A)):[]}function Up(i,a,f){var A=i==null?0:i.length;return A?(a=f||a===n?1:Ae(a),a=A-a,Gr(i,0,a<0?0:a)):[]}function Fp(i,a){return i&&i.length?Po(i,ne(a,3),!0,!0):[]}function Xp(i,a){return i&&i.length?Po(i,ne(a,3),!0):[]}function Vp(i,a,f,A){var S=i==null?0:i.length;return S?(f&&typeof f!="number"&&Hn(i,a,f)&&(f=0,A=S),Bd(i,a,f,A)):[]}function xf(i,a,f){var A=i==null?0:i.length;if(!A)return-1;var S=f==null?0:Ae(f);return S<0&&(S=bn(A+S,0)),zr(i,ne(a,3),S)}function Nf(i,a,f){var A=i==null?0:i.length;if(!A)return-1;var S=A-1;return f!==n&&(S=Ae(f),S=f<0?bn(A+S,0):Wn(S,A-1)),zr(i,ne(a,3),S,!0)}function Mf(i){var a=i==null?0:i.length;return a?On(i,1):[]}function Hp(i){var a=i==null?0:i.length;return a?On(i,fe):[]}function Jp(i,a){var f=i==null?0:i.length;return f?(a=a===n?1:Ae(a),On(i,a)):[]}function Qp(i){for(var a=-1,f=i==null?0:i.length,A={};++a<f;){var S=i[a];A[S[0]]=S[1]}return A}function Sf(i){return i&&i.length?i[0]:n}function Kp(i,a,f){var A=i==null?0:i.length;if(!A)return-1;var S=f==null?0:Ae(f);return S<0&&(S=bn(A+S,0)),sr(i,a,S)}function qp(i){var a=i==null?0:i.length;return a?Gr(i,0,-1):[]}var $p=we(function(i){var a=xe(i,Xu);return a.length&&a[0]===i[0]?ju(a):[]}),tv=we(function(i){var a=Br(i),f=xe(i,Xu);return a===Br(f)?a=n:f.pop(),f.length&&f[0]===i[0]?ju(f,ne(a,2)):[]}),ev=we(function(i){var a=Br(i),f=xe(i,Xu);return a=typeof a=="function"?a:n,a&&f.pop(),f.length&&f[0]===i[0]?ju(f,n,a):[]});function nv(i,a){return i==null?"":qg.call(i,a)}function Br(i){var a=i==null?0:i.length;return a?i[a-1]:n}function rv(i,a,f){var A=i==null?0:i.length;if(!A)return-1;var S=A;return f!==n&&(S=Ae(f),S=S<0?bn(A+S,0):Wn(S,A-1)),a===a?Nu(i,a,S):zr(i,Xr,S,!0)}function iv(i,a){return i&&i.length?Zc(i,Ae(a)):n}var sv=we(Tf);function Tf(i,a){return i&&i.length&&a&&a.length?Ru(i,a):i}function av(i,a,f){return i&&i.length&&a&&a.length?Ru(i,a,ne(f,2)):i}function ov(i,a,f){return i&&i.length&&a&&a.length?Ru(i,a,n,f):i}var uv=Bi(function(i,a){var f=i==null?0:i.length,A=ku(i,a);return Rc(i,xe(a,function(S){return Ri(S,f)?+S:S}).sort(Qc)),A});function lv(i,a){var f=[];if(!(i&&i.length))return f;var A=-1,S=[],E=i.length;for(a=ne(a,3);++A<E;){var Y=i[A];a(Y,A,i)&&(f.push(Y),S.push(A))}return Rc(i,S),f}function al(i){return i==null?i:nd.call(i)}function cv(i,a,f){var A=i==null?0:i.length;return A?(f&&typeof f!="number"&&Hn(i,a,f)?(a=0,f=A):(a=a==null?0:Ae(a),f=f===n?A:Ae(f)),Gr(i,a,f)):[]}function fv(i,a){return Lo(i,a)}function hv(i,a,f){return Yu(i,a,ne(f,2))}function gv(i,a){var f=i==null?0:i.length;if(f){var A=Lo(i,a);if(A<f&&Jr(i[A],a))return A}return-1}function dv(i,a){return Lo(i,a,!0)}function pv(i,a,f){return Yu(i,a,ne(f,2),!0)}function vv(i,a){var f=i==null?0:i.length;if(f){var A=Lo(i,a,!0)-1;if(Jr(i[A],a))return A}return-1}function mv(i){return i&&i.length?Wc(i):[]}function Iv(i,a){return i&&i.length?Wc(i,ne(a,2)):[]}function Av(i){var a=i==null?0:i.length;return a?Gr(i,1,a):[]}function Cv(i,a,f){return i&&i.length?(a=f||a===n?1:Ae(a),Gr(i,0,a<0?0:a)):[]}function yv(i,a,f){var A=i==null?0:i.length;return A?(a=f||a===n?1:Ae(a),a=A-a,Gr(i,a<0?0:a,A)):[]}function wv(i,a){return i&&i.length?Po(i,ne(a,3),!1,!0):[]}function bv(i,a){return i&&i.length?Po(i,ne(a,3)):[]}var xv=we(function(i){return ss(On(i,1,dn,!0))}),Nv=we(function(i){var a=Br(i);return dn(a)&&(a=n),ss(On(i,1,dn,!0),ne(a,2))}),Mv=we(function(i){var a=Br(i);return a=typeof a=="function"?a:n,ss(On(i,1,dn,!0),n,a)});function Sv(i){return i&&i.length?ss(i):[]}function Tv(i,a){return i&&i.length?ss(i,ne(a,2)):[]}function Dv(i,a){return a=typeof a=="function"?a:n,i&&i.length?ss(i,n,a):[]}function ol(i){if(!(i&&i.length))return[];var a=0;return i=Rt(i,function(f){if(dn(f))return a=bn(f.length,a),!0}),Vr(a,function(f){return xe(i,Or(f))})}function Df(i,a){if(!(i&&i.length))return[];var f=ol(i);return a==null?f:xe(f,function(A){return mt(a,n,A)})}var Lv=we(function(i,a){return dn(i)?Va(i,a):[]}),Pv=we(function(i){return Fu(Rt(i,dn))}),kv=we(function(i){var a=Br(i);return dn(a)&&(a=n),Fu(Rt(i,dn),ne(a,2))}),zv=we(function(i){var a=Br(i);return a=typeof a=="function"?a:n,Fu(Rt(i,dn),n,a)}),Ov=we(ol);function Ev(i,a){return Xc(i||[],a||[],Xa)}function jv(i,a){return Xc(i||[],a||[],Qa)}var Zv=we(function(i){var a=i.length,f=a>1?i[a-1]:n;return f=typeof f=="function"?(i.pop(),f):n,Df(i,f)});function Lf(i){var a=k(i);return a.__chain__=!0,a}function Gv(i,a){return a(i),i}function Ro(i,a){return a(i)}var Bv=Bi(function(i){var a=i.length,f=a?i[0]:0,A=this.__wrapped__,S=function(E){return ku(E,i)};return a>1||this.__actions__.length||!(A instanceof ke)||!Ri(f)?this.thru(S):(A=A.slice(f,+f+(a?1:0)),A.__actions__.push({func:Ro,args:[S],thisArg:n}),new jr(A,this.__chain__).thru(function(E){return a&&!E.length&&E.push(n),E}))});function Rv(){return Lf(this)}function _v(){return new jr(this.value(),this.__chain__)}function Wv(){this.__values__===n&&(this.__values__=Uf(this.value()));var i=this.__index__>=this.__values__.length,a=i?n:this.__values__[this.__index__++];return{done:i,value:a}}function Yv(){return this}function Uv(i){for(var a,f=this;f instanceof No;){var A=bf(f);A.__index__=0,A.__values__=n,a?S.__wrapped__=A:a=A;var S=A;f=f.__wrapped__}return S.__wrapped__=i,a}function Fv(){var i=this.__wrapped__;if(i instanceof ke){var a=i;return this.__actions__.length&&(a=new ke(this)),a=a.reverse(),a.__actions__.push({func:Ro,args:[al],thisArg:n}),new jr(a,this.__chain__)}return this.thru(al)}function Xv(){return Fc(this.__wrapped__,this.__actions__)}var Vv=ko(function(i,a,f){lt.call(i,f)?++i[f]:Zi(i,f,1)});function Hv(i,a,f){var A=ve(i)?ge:Gd;return f&&Hn(i,a,f)&&(a=n),A(i,ne(a,3))}function Jv(i,a){var f=ve(i)?Rt:Tc;return f(i,ne(a,3))}var Qv=nf(xf),Kv=nf(Nf);function qv(i,a){return On(_o(i,a),1)}function $v(i,a){return On(_o(i,a),fe)}function tm(i,a,f){return f=f===n?1:Ae(f),On(_o(i,a),f)}function Pf(i,a){var f=ve(i)?ft:is;return f(i,ne(a,3))}function kf(i,a){var f=ve(i)?Xt:Sc;return f(i,ne(a,3))}var em=ko(function(i,a,f){lt.call(i,f)?i[f].push(a):Zi(i,f,[a])});function nm(i,a,f,A){i=lr(i)?i:ba(i),f=f&&!A?Ae(f):0;var S=i.length;return f<0&&(f=bn(S+f,0)),Xo(i)?f<=S&&i.indexOf(a,f)>-1:!!S&&sr(i,a,f)>-1}var rm=we(function(i,a,f){var A=-1,S=typeof a=="function",E=lr(i)?ct(i.length):[];return is(i,function(Y){E[++A]=S?mt(a,Y,f):Ha(Y,a,f)}),E}),im=ko(function(i,a,f){Zi(i,f,a)});function _o(i,a){var f=ve(i)?xe:Oc;return f(i,ne(a,3))}function sm(i,a,f,A){return i==null?[]:(ve(a)||(a=a==null?[]:[a]),f=A?n:f,ve(f)||(f=f==null?[]:[f]),Gc(i,a,f))}var am=ko(function(i,a,f){i[f?0:1].push(a)},function(){return[[],[]]});function om(i,a,f){var A=ve(i)?ue:gi,S=arguments.length<3;return A(i,ne(a,4),f,S,is)}function um(i,a,f){var A=ve(i)?Zn:gi,S=arguments.length<3;return A(i,ne(a,4),f,S,Sc)}function lm(i,a){var f=ve(i)?Rt:Tc;return f(i,Uo(ne(a,3)))}function cm(i){var a=ve(i)?bc:np;return a(i)}function fm(i,a,f){(f?Hn(i,a,f):a===n)?a=1:a=Ae(a);var A=ve(i)?zd:rp;return A(i,a)}function hm(i){var a=ve(i)?Od:sp;return a(i)}function gm(i){if(i==null)return 0;if(lr(i))return Xo(i)?Be(i):i.length;var a=Yn(i);return a==N||a==Ht?i.size:Gu(i).length}function dm(i,a,f){var A=ve(i)?De:ap;return f&&Hn(i,a,f)&&(a=n),A(i,ne(a,3))}var pm=we(function(i,a){if(i==null)return[];var f=a.length;return f>1&&Hn(i,a[0],a[1])?a=[]:f>2&&Hn(a[0],a[1],a[2])&&(a=[a[0]]),Gc(i,On(a,1),[])}),Wo=Jg||function(){return W.Date.now()};function vm(i,a){if(typeof a!="function")throw new or(c);return i=Ae(i),function(){if(--i<1)return a.apply(this,arguments)}}function zf(i,a,f){return a=f?n:a,a=i&&a==null?i.length:a,Gi(i,B,n,n,n,n,a)}function Of(i,a){var f;if(typeof a!="function")throw new or(c);return i=Ae(i),function(){return--i>0&&(f=a.apply(this,arguments)),i<=1&&(a=n),f}}var ul=we(function(i,a,f){var A=Q;if(f.length){var S=Tn(f,ya(ul));A|=D}return Gi(i,A,a,f,S)}),Ef=we(function(i,a,f){var A=Q|J;if(f.length){var S=Tn(f,ya(Ef));A|=D}return Gi(a,A,i,f,S)});function jf(i,a,f){a=f?n:a;var A=Gi(i,y,n,n,n,n,n,a);return A.placeholder=jf.placeholder,A}function Zf(i,a,f){a=f?n:a;var A=Gi(i,M,n,n,n,n,n,a);return A.placeholder=Zf.placeholder,A}function Gf(i,a,f){var A,S,E,Y,H,it,At=0,Ct=!1,bt=!1,Ot=!0;if(typeof i!="function")throw new or(c);a=Rr(a)||0,an(f)&&(Ct=!!f.leading,bt="maxWait"in f,E=bt?bn(Rr(f.maxWait)||0,a):E,Ot="trailing"in f?!!f.trailing:Ot);function Ut(pn){var Qr=A,Yi=S;return A=S=n,At=pn,Y=i.apply(Yi,Qr),Y}function ae(pn){return At=pn,H=$a(Le,a),Ct?Ut(pn):Y}function ye(pn){var Qr=pn-it,Yi=pn-At,rh=a-Qr;return bt?Wn(rh,E-Yi):rh}function oe(pn){var Qr=pn-it,Yi=pn-At;return it===n||Qr>=a||Qr<0||bt&&Yi>=E}function Le(){var pn=Wo();if(oe(pn))return Oe(pn);H=$a(Le,ye(pn))}function Oe(pn){return H=n,Ot&&A?Ut(pn):(A=S=n,Y)}function br(){H!==n&&Vc(H),At=0,A=it=S=H=n}function Jn(){return H===n?Y:Oe(Wo())}function xr(){var pn=Wo(),Qr=oe(pn);if(A=arguments,S=this,it=pn,Qr){if(H===n)return ae(it);if(bt)return Vc(H),H=$a(Le,a),Ut(it)}return H===n&&(H=$a(Le,a)),Y}return xr.cancel=br,xr.flush=Jn,xr}var mm=we(function(i,a){return Mc(i,1,a)}),Im=we(function(i,a,f){return Mc(i,Rr(a)||0,f)});function Am(i){return Gi(i,et)}function Yo(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new or(c);var f=function(){var A=arguments,S=a?a.apply(this,A):A[0],E=f.cache;if(E.has(S))return E.get(S);var Y=i.apply(this,A);return f.cache=E.set(S,Y)||E,Y};return f.cache=new(Yo.Cache||ji),f}Yo.Cache=ji;function Uo(i){if(typeof i!="function")throw new or(c);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function Cm(i){return Of(2,i)}var ym=op(function(i,a){a=a.length==1&&ve(a[0])?xe(a[0],Xn(ne())):xe(On(a,1),Xn(ne()));var f=a.length;return we(function(A){for(var S=-1,E=Wn(A.length,f);++S<E;)A[S]=a[S].call(this,A[S]);return mt(i,this,A)})}),ll=we(function(i,a){var f=Tn(a,ya(ll));return Gi(i,D,n,a,f)}),Bf=we(function(i,a){var f=Tn(a,ya(Bf));return Gi(i,d,n,a,f)}),wm=Bi(function(i,a){return Gi(i,q,n,n,n,a)});function bm(i,a){if(typeof i!="function")throw new or(c);return a=a===n?a:Ae(a),we(i,a)}function xm(i,a){if(typeof i!="function")throw new or(c);return a=a==null?0:bn(Ae(a),0),we(function(f){var A=f[a],S=os(f,0,a);return A&&Te(S,A),mt(i,this,S)})}function Nm(i,a,f){var A=!0,S=!0;if(typeof i!="function")throw new or(c);return an(f)&&(A="leading"in f?!!f.leading:A,S="trailing"in f?!!f.trailing:S),Gf(i,a,{leading:A,maxWait:a,trailing:S})}function Mm(i){return zf(i,1)}function Sm(i,a){return ll(Vu(a),i)}function Tm(){if(!arguments.length)return[];var i=arguments[0];return ve(i)?i:[i]}function Dm(i){return Zr(i,G)}function Lm(i,a){return a=typeof a=="function"?a:n,Zr(i,G,a)}function Pm(i){return Zr(i,m|G)}function km(i,a){return a=typeof a=="function"?a:n,Zr(i,m|G,a)}function zm(i,a){return a==null||Nc(i,a,Dn(a))}function Jr(i,a){return i===a||i!==i&&a!==a}var Om=jo(Eu),Em=jo(function(i,a){return i>=a}),_s=Pc(function(){return arguments}())?Pc:function(i){return cn(i)&&lt.call(i,"callee")&&!Ke.call(i,"callee")},ve=ct.isArray,jm=b?Xn(b):Ud;function lr(i){return i!=null&&Fo(i.length)&&!_i(i)}function dn(i){return cn(i)&&lr(i)}function Zm(i){return i===!0||i===!1||cn(i)&&Vn(i)==Ie}var us=Kg||Cl,Gm=T?Xn(T):Fd;function Bm(i){return cn(i)&&i.nodeType===1&&!to(i)}function Rm(i){if(i==null)return!0;if(lr(i)&&(ve(i)||typeof i=="string"||typeof i.splice=="function"||us(i)||wa(i)||_s(i)))return!i.length;var a=Yn(i);if(a==N||a==Ht)return!i.size;if(qa(i))return!Gu(i).length;for(var f in i)if(lt.call(i,f))return!1;return!0}function _m(i,a){return Ja(i,a)}function Wm(i,a,f){f=typeof f=="function"?f:n;var A=f?f(i,a):n;return A===n?Ja(i,a,n,f):!!A}function cl(i){if(!cn(i))return!1;var a=Vn(i);return a==ie||a==Kt||typeof i.message=="string"&&typeof i.name=="string"&&!to(i)}function Ym(i){return typeof i=="number"&&Ac(i)}function _i(i){if(!an(i))return!1;var a=Vn(i);return a==Bt||a==xt||a==Yt||a==It}function Rf(i){return typeof i=="number"&&i==Ae(i)}function Fo(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ee}function an(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function cn(i){return i!=null&&typeof i=="object"}var _f=U?Xn(U):Vd;function Um(i,a){return i===a||Zu(i,a,tl(a))}function Fm(i,a,f){return f=typeof f=="function"?f:n,Zu(i,a,tl(a),f)}function Xm(i){return Wf(i)&&i!=+i}function Vm(i){if(Lp(i))throw new le(u);return kc(i)}function Hm(i){return i===null}function Jm(i){return i==null}function Wf(i){return typeof i=="number"||cn(i)&&Vn(i)==z}function to(i){if(!cn(i)||Vn(i)!=$)return!1;var a=gn(i);if(a===null)return!0;var f=lt.call(a,"constructor")&&a.constructor;return typeof f=="function"&&f instanceof f&&rt.call(f)==$t}var fl=R?Xn(R):Hd;function Qm(i){return Rf(i)&&i>=-ee&&i<=ee}var Yf=nt?Xn(nt):Jd;function Xo(i){return typeof i=="string"||!ve(i)&&cn(i)&&Vn(i)==kt}function wr(i){return typeof i=="symbol"||cn(i)&&Vn(i)==se}var wa=ut?Xn(ut):Qd;function Km(i){return i===n}function qm(i){return cn(i)&&Yn(i)==me}function $m(i){return cn(i)&&Vn(i)==Je}var t0=jo(Bu),e0=jo(function(i,a){return i<=a});function Uf(i){if(!i)return[];if(lr(i))return Xo(i)?Rn(i):ur(i);if(wn&&i[wn])return xu(i[wn]());var a=Yn(i),f=a==N?Ps:a==Ht?ks:ba;return f(i)}function Wi(i){if(!i)return i===0?i:0;if(i=Rr(i),i===fe||i===-fe){var a=i<0?-1:1;return a*Se}return i===i?i:0}function Ae(i){var a=Wi(i),f=a%1;return a===a?f?a-f:a:0}function Ff(i){return i?Zs(Ae(i),0,zt):0}function Rr(i){if(typeof i=="number")return i;if(wr(i))return Lt;if(an(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=an(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=da(i);var f=Pa.test(i);return f||Qi.test(i)?x(i.slice(2),f?2:8):ta.test(i)?Lt:+i}function Xf(i){return vi(i,cr(i))}function n0(i){return i?Zs(Ae(i),-ee,ee):i===0?i:0}function Ve(i){return i==null?"":yr(i)}var r0=Aa(function(i,a){if(qa(a)||lr(a)){vi(a,Dn(a),i);return}for(var f in a)lt.call(a,f)&&Xa(i,f,a[f])}),Vf=Aa(function(i,a){vi(a,cr(a),i)}),Vo=Aa(function(i,a,f,A){vi(a,cr(a),i,A)}),i0=Aa(function(i,a,f,A){vi(a,Dn(a),i,A)}),s0=Bi(ku);function a0(i,a){var f=Ia(i);return a==null?f:xc(f,a)}var o0=we(function(i,a){i=Ye(i);var f=-1,A=a.length,S=A>2?a[2]:n;for(S&&Hn(a[0],a[1],S)&&(A=1);++f<A;)for(var E=a[f],Y=cr(E),H=-1,it=Y.length;++H<it;){var At=Y[H],Ct=i[At];(Ct===n||Jr(Ct,K[At])&&!lt.call(i,At))&&(i[At]=E[At])}return i}),u0=we(function(i){return i.push(n,cf),mt(Hf,n,i)});function l0(i,a){return Gn(i,ne(a,3),pi)}function c0(i,a){return Gn(i,ne(a,3),Ou)}function f0(i,a){return i==null?i:zu(i,ne(a,3),cr)}function h0(i,a){return i==null?i:Dc(i,ne(a,3),cr)}function g0(i,a){return i&&pi(i,ne(a,3))}function d0(i,a){return i&&Ou(i,ne(a,3))}function p0(i){return i==null?[]:To(i,Dn(i))}function v0(i){return i==null?[]:To(i,cr(i))}function hl(i,a,f){var A=i==null?n:Gs(i,a);return A===n?f:A}function m0(i,a){return i!=null&&gf(i,a,Rd)}function gl(i,a){return i!=null&&gf(i,a,_d)}var I0=sf(function(i,a,f){a!=null&&typeof a.toString!="function"&&(a=Pt.call(a)),i[a]=f},pl(fr)),A0=sf(function(i,a,f){a!=null&&typeof a.toString!="function"&&(a=Pt.call(a)),lt.call(i,a)?i[a].push(f):i[a]=[f]},ne),C0=we(Ha);function Dn(i){return lr(i)?wc(i):Gu(i)}function cr(i){return lr(i)?wc(i,!0):Kd(i)}function y0(i,a){var f={};return a=ne(a,3),pi(i,function(A,S,E){Zi(f,a(A,S,E),A)}),f}function w0(i,a){var f={};return a=ne(a,3),pi(i,function(A,S,E){Zi(f,S,a(A,S,E))}),f}var b0=Aa(function(i,a,f){Do(i,a,f)}),Hf=Aa(function(i,a,f,A){Do(i,a,f,A)}),x0=Bi(function(i,a){var f={};if(i==null)return f;var A=!1;a=xe(a,function(E){return E=as(E,i),A||(A=E.length>1),E}),vi(i,qu(i),f),A&&(f=Zr(f,m|L|G,Ip));for(var S=a.length;S--;)Uu(f,a[S]);return f});function N0(i,a){return Jf(i,Uo(ne(a)))}var M0=Bi(function(i,a){return i==null?{}:$d(i,a)});function Jf(i,a){if(i==null)return{};var f=xe(qu(i),function(A){return[A]});return a=ne(a),Bc(i,f,function(A,S){return a(A,S[0])})}function S0(i,a,f){a=as(a,i);var A=-1,S=a.length;for(S||(S=1,i=n);++A<S;){var E=i==null?n:i[mi(a[A])];E===n&&(A=S,E=f),i=_i(E)?E.call(i):E}return i}function T0(i,a,f){return i==null?i:Qa(i,a,f)}function D0(i,a,f,A){return A=typeof A=="function"?A:n,i==null?i:Qa(i,a,f,A)}var Qf=uf(Dn),Kf=uf(cr);function L0(i,a,f){var A=ve(i),S=A||us(i)||wa(i);if(a=ne(a,4),f==null){var E=i&&i.constructor;S?f=A?new E:[]:an(i)?f=_i(E)?Ia(gn(i)):{}:f={}}return(S?ft:pi)(i,function(Y,H,it){return a(f,Y,H,it)}),f}function P0(i,a){return i==null?!0:Uu(i,a)}function k0(i,a,f){return i==null?i:Uc(i,a,Vu(f))}function z0(i,a,f,A){return A=typeof A=="function"?A:n,i==null?i:Uc(i,a,Vu(f),A)}function ba(i){return i==null?[]:es(i,Dn(i))}function O0(i){return i==null?[]:es(i,cr(i))}function E0(i,a,f){return f===n&&(f=a,a=n),f!==n&&(f=Rr(f),f=f===f?f:0),a!==n&&(a=Rr(a),a=a===a?a:0),Zs(Rr(i),a,f)}function j0(i,a,f){return a=Wi(a),f===n?(f=a,a=0):f=Wi(f),i=Rr(i),Wd(i,a,f)}function Z0(i,a,f){if(f&&typeof f!="boolean"&&Hn(i,a,f)&&(a=f=n),f===n&&(typeof a=="boolean"?(f=a,a=n):typeof i=="boolean"&&(f=i,i=n)),i===n&&a===n?(i=0,a=1):(i=Wi(i),a===n?(a=i,i=0):a=Wi(a)),i>a){var A=i;i=a,a=A}if(f||i%1||a%1){var S=Cc();return Wn(i+S*(a-i+ts("1e-"+((S+"").length-1))),a)}return _u(i,a)}var G0=Ca(function(i,a,f){return a=a.toLowerCase(),i+(f?qf(a):a)});function qf(i){return dl(Ve(i).toLowerCase())}function $f(i){return i=Ve(i),i&&i.replace(na,yu).replace(ca,"")}function B0(i,a,f){i=Ve(i),a=yr(a);var A=i.length;f=f===n?A:Zs(Ae(f),0,A);var S=f;return f-=a.length,f>=0&&i.slice(f,S)==a}function R0(i){return i=Ve(i),i&&Vi.test(i)?i.replace(Ir,pa):i}function _0(i){return i=Ve(i),i&&Ni.test(i)?i.replace(ri,"\\$&"):i}var W0=Ca(function(i,a,f){return i+(f?"-":"")+a.toLowerCase()}),Y0=Ca(function(i,a,f){return i+(f?" ":"")+a.toLowerCase()}),U0=ef("toLowerCase");function F0(i,a,f){i=Ve(i),a=Ae(a);var A=a?Be(i):0;if(!a||A>=a)return i;var S=(a-A)/2;return Eo(wo(S),f)+i+Eo(yo(S),f)}function X0(i,a,f){i=Ve(i),a=Ae(a);var A=a?Be(i):0;return a&&A<a?i+Eo(a-A,f):i}function V0(i,a,f){i=Ve(i),a=Ae(a);var A=a?Be(i):0;return a&&A<a?Eo(a-A,f)+i:i}function H0(i,a,f){return f||a==null?a=0:a&&(a=+a),ed(Ve(i).replace(Mi,""),a||0)}function J0(i,a,f){return(f?Hn(i,a,f):a===n)?a=1:a=Ae(a),Wu(Ve(i),a)}function Q0(){var i=arguments,a=Ve(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var K0=Ca(function(i,a,f){return i+(f?"_":"")+a.toLowerCase()});function q0(i,a,f){return f&&typeof f!="number"&&Hn(i,a,f)&&(a=f=n),f=f===n?zt:f>>>0,f?(i=Ve(i),i&&(typeof a=="string"||a!=null&&!fl(a))&&(a=yr(a),!a&&ns(i))?os(Rn(i),0,f):i.split(a,f)):[]}var $0=Ca(function(i,a,f){return i+(f?" ":"")+dl(a)});function tI(i,a,f){return i=Ve(i),f=f==null?0:Zs(Ae(f),0,i.length),a=yr(a),i.slice(f,f+a.length)==a}function eI(i,a,f){var A=k.templateSettings;f&&Hn(i,a,f)&&(a=n),i=Ve(i),a=Vo({},a,A,lf);var S=Vo({},a.imports,A.imports,lf),E=Dn(S),Y=es(S,E),H,it,At=0,Ct=a.interpolate||Di,bt="__p += '",Ot=zs((a.escape||Di).source+"|"+Ct.source+"|"+(Ct===ni?ps:Di).source+"|"+(a.evaluate||Di).source+"|$","g"),Ut="//# sourceURL="+(lt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fa+"]")+`
`;i.replace(Ot,function(oe,Le,Oe,br,Jn,xr){return Oe||(Oe=br),bt+=i.slice(At,xr).replace(ka,wu),Le&&(H=!0,bt+=`' +
__e(`+Le+`) +
'`),Jn&&(it=!0,bt+=`';
`+Jn+`;
__p += '`),Oe&&(bt+=`' +
((__t = (`+Oe+`)) == null ? '' : __t) +
'`),At=xr+oe.length,oe}),bt+=`';
`;var ae=lt.call(a,"variable")&&a.variable;if(!ae)bt=`with (obj) {
`+bt+`
}
`;else if(Si.test(ae))throw new le(h);bt=(it?bt.replace(ei,""):bt).replace(mr,"$1").replace(bi,"$1;"),bt="function("+(ae||"obj")+`) {
`+(ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(it?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+bt+`return __p
}`;var ye=eh(function(){return ze(E,Ut+"return "+bt).apply(n,Y)});if(ye.source=bt,cl(ye))throw ye;return ye}function nI(i){return Ve(i).toLowerCase()}function rI(i){return Ve(i).toUpperCase()}function iI(i,a,f){if(i=Ve(i),i&&(f||a===n))return da(i);if(!i||!(a=yr(a)))return i;var A=Rn(i),S=Rn(a),E=Ba(A,S),Y=vo(A,S)+1;return os(A,E,Y).join("")}function sI(i,a,f){if(i=Ve(i),i&&(f||a===n))return i.slice(0,ar(i)+1);if(!i||!(a=yr(a)))return i;var A=Rn(i),S=vo(A,Rn(a))+1;return os(A,0,S).join("")}function aI(i,a,f){if(i=Ve(i),i&&(f||a===n))return i.replace(Mi,"");if(!i||!(a=yr(a)))return i;var A=Rn(i),S=Ba(A,Rn(a));return os(A,S).join("")}function oI(i,a){var f=at,A=wt;if(an(a)){var S="separator"in a?a.separator:S;f="length"in a?Ae(a.length):f,A="omission"in a?yr(a.omission):A}i=Ve(i);var E=i.length;if(ns(i)){var Y=Rn(i);E=Y.length}if(f>=E)return i;var H=f-Be(A);if(H<1)return A;var it=Y?os(Y,0,H).join(""):i.slice(0,H);if(S===n)return it+A;if(Y&&(H+=it.length-H),fl(S)){if(i.slice(H).search(S)){var At,Ct=it;for(S.global||(S=zs(S.source,Ve(vs.exec(S))+"g")),S.lastIndex=0;At=S.exec(Ct);)var bt=At.index;it=it.slice(0,bt===n?H:bt)}}else if(i.indexOf(yr(S),H)!=H){var Ot=it.lastIndexOf(S);Ot>-1&&(it=it.slice(0,Ot))}return it+A}function uI(i){return i=Ve(i),i&&Fr.test(i)?i.replace(Mn,Cr):i}var lI=Ca(function(i,a,f){return i+(f?" ":"")+a.toUpperCase()}),dl=ef("toUpperCase");function th(i,a,f){return i=Ve(i),a=f?n:a,a===n?Ls(i)?Mu(i):ha(i):i.match(a)||[]}var eh=we(function(i,a){try{return mt(i,n,a)}catch(f){return cl(f)?f:new le(f)}}),cI=Bi(function(i,a){return ft(a,function(f){f=mi(f),Zi(i,f,ul(i[f],i))}),i});function fI(i){var a=i==null?0:i.length,f=ne();return i=a?xe(i,function(A){if(typeof A[1]!="function")throw new or(c);return[f(A[0]),A[1]]}):[],we(function(A){for(var S=-1;++S<a;){var E=i[S];if(mt(E[0],this,A))return mt(E[1],this,A)}})}function hI(i){return Zd(Zr(i,m))}function pl(i){return function(){return i}}function gI(i,a){return i==null||i!==i?a:i}var dI=rf(),pI=rf(!0);function fr(i){return i}function vl(i){return zc(typeof i=="function"?i:Zr(i,m))}function vI(i){return Ec(Zr(i,m))}function mI(i,a){return jc(i,Zr(a,m))}var II=we(function(i,a){return function(f){return Ha(f,i,a)}}),AI=we(function(i,a){return function(f){return Ha(i,f,a)}});function ml(i,a,f){var A=Dn(a),S=To(a,A);f==null&&!(an(a)&&(S.length||!A.length))&&(f=a,a=i,i=this,S=To(a,Dn(a)));var E=!(an(f)&&"chain"in f)||!!f.chain,Y=_i(i);return ft(S,function(H){var it=a[H];i[H]=it,Y&&(i.prototype[H]=function(){var At=this.__chain__;if(E||At){var Ct=i(this.__wrapped__),bt=Ct.__actions__=ur(this.__actions__);return bt.push({func:it,args:arguments,thisArg:i}),Ct.__chain__=At,Ct}return it.apply(i,Te([this.value()],arguments))})}),i}function CI(){return W._===this&&(W._=Qt),this}function Il(){}function yI(i){return i=Ae(i),we(function(a){return Zc(a,i)})}var wI=Ju(xe),bI=Ju(ge),xI=Ju(De);function nh(i){return nl(i)?Or(mi(i)):tp(i)}function NI(i){return function(a){return i==null?n:Gs(i,a)}}var MI=af(),SI=af(!0);function Al(){return[]}function Cl(){return!1}function TI(){return{}}function DI(){return""}function LI(){return!0}function PI(i,a){if(i=Ae(i),i<1||i>ee)return[];var f=zt,A=Wn(i,zt);a=ne(a),i-=zt;for(var S=Vr(A,a);++f<i;)a(f);return S}function kI(i){return ve(i)?xe(i,mi):wr(i)?[i]:ur(wf(Ve(i)))}function zI(i){var a=++yt;return Ve(i)+a}var OI=Oo(function(i,a){return i+a},0),EI=Qu("ceil"),jI=Oo(function(i,a){return i/a},1),ZI=Qu("floor");function GI(i){return i&&i.length?So(i,fr,Eu):n}function BI(i,a){return i&&i.length?So(i,ne(a,2),Eu):n}function RI(i){return Fn(i,fr)}function _I(i,a){return Fn(i,ne(a,2))}function WI(i){return i&&i.length?So(i,fr,Bu):n}function YI(i,a){return i&&i.length?So(i,ne(a,2),Bu):n}var UI=Oo(function(i,a){return i*a},1),FI=Qu("round"),XI=Oo(function(i,a){return i-a},0);function VI(i){return i&&i.length?Ge(i,fr):0}function HI(i,a){return i&&i.length?Ge(i,ne(a,2)):0}return k.after=vm,k.ary=zf,k.assign=r0,k.assignIn=Vf,k.assignInWith=Vo,k.assignWith=i0,k.at=s0,k.before=Of,k.bind=ul,k.bindAll=cI,k.bindKey=Ef,k.castArray=Tm,k.chain=Lf,k.chunk=Zp,k.compact=Gp,k.concat=Bp,k.cond=fI,k.conforms=hI,k.constant=pl,k.countBy=Vv,k.create=a0,k.curry=jf,k.curryRight=Zf,k.debounce=Gf,k.defaults=o0,k.defaultsDeep=u0,k.defer=mm,k.delay=Im,k.difference=Rp,k.differenceBy=_p,k.differenceWith=Wp,k.drop=Yp,k.dropRight=Up,k.dropRightWhile=Fp,k.dropWhile=Xp,k.fill=Vp,k.filter=Jv,k.flatMap=qv,k.flatMapDeep=$v,k.flatMapDepth=tm,k.flatten=Mf,k.flattenDeep=Hp,k.flattenDepth=Jp,k.flip=Am,k.flow=dI,k.flowRight=pI,k.fromPairs=Qp,k.functions=p0,k.functionsIn=v0,k.groupBy=em,k.initial=qp,k.intersection=$p,k.intersectionBy=tv,k.intersectionWith=ev,k.invert=I0,k.invertBy=A0,k.invokeMap=rm,k.iteratee=vl,k.keyBy=im,k.keys=Dn,k.keysIn=cr,k.map=_o,k.mapKeys=y0,k.mapValues=w0,k.matches=vI,k.matchesProperty=mI,k.memoize=Yo,k.merge=b0,k.mergeWith=Hf,k.method=II,k.methodOf=AI,k.mixin=ml,k.negate=Uo,k.nthArg=yI,k.omit=x0,k.omitBy=N0,k.once=Cm,k.orderBy=sm,k.over=wI,k.overArgs=ym,k.overEvery=bI,k.overSome=xI,k.partial=ll,k.partialRight=Bf,k.partition=am,k.pick=M0,k.pickBy=Jf,k.property=nh,k.propertyOf=NI,k.pull=sv,k.pullAll=Tf,k.pullAllBy=av,k.pullAllWith=ov,k.pullAt=uv,k.range=MI,k.rangeRight=SI,k.rearg=wm,k.reject=lm,k.remove=lv,k.rest=bm,k.reverse=al,k.sampleSize=fm,k.set=T0,k.setWith=D0,k.shuffle=hm,k.slice=cv,k.sortBy=pm,k.sortedUniq=mv,k.sortedUniqBy=Iv,k.split=q0,k.spread=xm,k.tail=Av,k.take=Cv,k.takeRight=yv,k.takeRightWhile=wv,k.takeWhile=bv,k.tap=Gv,k.throttle=Nm,k.thru=Ro,k.toArray=Uf,k.toPairs=Qf,k.toPairsIn=Kf,k.toPath=kI,k.toPlainObject=Xf,k.transform=L0,k.unary=Mm,k.union=xv,k.unionBy=Nv,k.unionWith=Mv,k.uniq=Sv,k.uniqBy=Tv,k.uniqWith=Dv,k.unset=P0,k.unzip=ol,k.unzipWith=Df,k.update=k0,k.updateWith=z0,k.values=ba,k.valuesIn=O0,k.without=Lv,k.words=th,k.wrap=Sm,k.xor=Pv,k.xorBy=kv,k.xorWith=zv,k.zip=Ov,k.zipObject=Ev,k.zipObjectDeep=jv,k.zipWith=Zv,k.entries=Qf,k.entriesIn=Kf,k.extend=Vf,k.extendWith=Vo,ml(k,k),k.add=OI,k.attempt=eh,k.camelCase=G0,k.capitalize=qf,k.ceil=EI,k.clamp=E0,k.clone=Dm,k.cloneDeep=Pm,k.cloneDeepWith=km,k.cloneWith=Lm,k.conformsTo=zm,k.deburr=$f,k.defaultTo=gI,k.divide=jI,k.endsWith=B0,k.eq=Jr,k.escape=R0,k.escapeRegExp=_0,k.every=Hv,k.find=Qv,k.findIndex=xf,k.findKey=l0,k.findLast=Kv,k.findLastIndex=Nf,k.findLastKey=c0,k.floor=ZI,k.forEach=Pf,k.forEachRight=kf,k.forIn=f0,k.forInRight=h0,k.forOwn=g0,k.forOwnRight=d0,k.get=hl,k.gt=Om,k.gte=Em,k.has=m0,k.hasIn=gl,k.head=Sf,k.identity=fr,k.includes=nm,k.indexOf=Kp,k.inRange=j0,k.invoke=C0,k.isArguments=_s,k.isArray=ve,k.isArrayBuffer=jm,k.isArrayLike=lr,k.isArrayLikeObject=dn,k.isBoolean=Zm,k.isBuffer=us,k.isDate=Gm,k.isElement=Bm,k.isEmpty=Rm,k.isEqual=_m,k.isEqualWith=Wm,k.isError=cl,k.isFinite=Ym,k.isFunction=_i,k.isInteger=Rf,k.isLength=Fo,k.isMap=_f,k.isMatch=Um,k.isMatchWith=Fm,k.isNaN=Xm,k.isNative=Vm,k.isNil=Jm,k.isNull=Hm,k.isNumber=Wf,k.isObject=an,k.isObjectLike=cn,k.isPlainObject=to,k.isRegExp=fl,k.isSafeInteger=Qm,k.isSet=Yf,k.isString=Xo,k.isSymbol=wr,k.isTypedArray=wa,k.isUndefined=Km,k.isWeakMap=qm,k.isWeakSet=$m,k.join=nv,k.kebabCase=W0,k.last=Br,k.lastIndexOf=rv,k.lowerCase=Y0,k.lowerFirst=U0,k.lt=t0,k.lte=e0,k.max=GI,k.maxBy=BI,k.mean=RI,k.meanBy=_I,k.min=WI,k.minBy=YI,k.stubArray=Al,k.stubFalse=Cl,k.stubObject=TI,k.stubString=DI,k.stubTrue=LI,k.multiply=UI,k.nth=iv,k.noConflict=CI,k.noop=Il,k.now=Wo,k.pad=F0,k.padEnd=X0,k.padStart=V0,k.parseInt=H0,k.random=Z0,k.reduce=om,k.reduceRight=um,k.repeat=J0,k.replace=Q0,k.result=S0,k.round=FI,k.runInContext=tt,k.sample=cm,k.size=gm,k.snakeCase=K0,k.some=dm,k.sortedIndex=fv,k.sortedIndexBy=hv,k.sortedIndexOf=gv,k.sortedLastIndex=dv,k.sortedLastIndexBy=pv,k.sortedLastIndexOf=vv,k.startCase=$0,k.startsWith=tI,k.subtract=XI,k.sum=VI,k.sumBy=HI,k.template=eI,k.times=PI,k.toFinite=Wi,k.toInteger=Ae,k.toLength=Ff,k.toLower=nI,k.toNumber=Rr,k.toSafeInteger=n0,k.toString=Ve,k.toUpper=rI,k.trim=iI,k.trimEnd=sI,k.trimStart=aI,k.truncate=oI,k.unescape=uI,k.uniqueId=zI,k.upperCase=lI,k.upperFirst=dl,k.each=Pf,k.eachRight=kf,k.first=Sf,ml(k,function(){var i={};return pi(k,function(a,f){lt.call(k.prototype,f)||(i[f]=a)}),i}(),{chain:!1}),k.VERSION=r,ft(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){k[i].placeholder=k}),ft(["drop","take"],function(i,a){ke.prototype[i]=function(f){f=f===n?1:bn(Ae(f),0);var A=this.__filtered__&&!a?new ke(this):this.clone();return A.__filtered__?A.__takeCount__=Wn(f,A.__takeCount__):A.__views__.push({size:Wn(f,zt),type:i+(A.__dir__<0?"Right":"")}),A},ke.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),ft(["filter","map","takeWhile"],function(i,a){var f=a+1,A=f==St||f==_t;ke.prototype[i]=function(S){var E=this.clone();return E.__iteratees__.push({iteratee:ne(S,3),type:f}),E.__filtered__=E.__filtered__||A,E}}),ft(["head","last"],function(i,a){var f="take"+(a?"Right":"");ke.prototype[i]=function(){return this[f](1).value()[0]}}),ft(["initial","tail"],function(i,a){var f="drop"+(a?"":"Right");ke.prototype[i]=function(){return this.__filtered__?new ke(this):this[f](1)}}),ke.prototype.compact=function(){return this.filter(fr)},ke.prototype.find=function(i){return this.filter(i).head()},ke.prototype.findLast=function(i){return this.reverse().find(i)},ke.prototype.invokeMap=we(function(i,a){return typeof i=="function"?new ke(this):this.map(function(f){return Ha(f,i,a)})}),ke.prototype.reject=function(i){return this.filter(Uo(ne(i)))},ke.prototype.slice=function(i,a){i=Ae(i);var f=this;return f.__filtered__&&(i>0||a<0)?new ke(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),a!==n&&(a=Ae(a),f=a<0?f.dropRight(-a):f.take(a-i)),f)},ke.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},ke.prototype.toArray=function(){return this.take(zt)},pi(ke.prototype,function(i,a){var f=/^(?:filter|find|map|reject)|While$/.test(a),A=/^(?:head|last)$/.test(a),S=k[A?"take"+(a=="last"?"Right":""):a],E=A||/^find/.test(a);!S||(k.prototype[a]=function(){var Y=this.__wrapped__,H=A?[1]:arguments,it=Y instanceof ke,At=H[0],Ct=it||ve(Y),bt=function(Le){var Oe=S.apply(k,Te([Le],H));return A&&Ot?Oe[0]:Oe};Ct&&f&&typeof At=="function"&&At.length!=1&&(it=Ct=!1);var Ot=this.__chain__,Ut=!!this.__actions__.length,ae=E&&!Ot,ye=it&&!Ut;if(!E&&Ct){Y=ye?Y:new ke(this);var oe=i.apply(Y,H);return oe.__actions__.push({func:Ro,args:[bt],thisArg:n}),new jr(oe,Ot)}return ae&&ye?i.apply(this,H):(oe=this.thru(bt),ae?A?oe.value()[0]:oe.value():oe)})}),ft(["pop","push","shift","sort","splice","unshift"],function(i){var a=O[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",A=/^(?:pop|shift)$/.test(i);k.prototype[i]=function(){var S=arguments;if(A&&!this.__chain__){var E=this.value();return a.apply(ve(E)?E:[],S)}return this[f](function(Y){return a.apply(ve(Y)?Y:[],S)})}}),pi(ke.prototype,function(i,a){var f=k[a];if(f){var A=f.name+"";lt.call(ma,A)||(ma[A]=[]),ma[A].push({name:a,func:f})}}),ma[zo(n,J).name]=[{name:"wrapper",func:n}],ke.prototype.clone=ud,ke.prototype.reverse=ld,ke.prototype.value=cd,k.prototype.at=Bv,k.prototype.chain=Rv,k.prototype.commit=_v,k.prototype.next=Wv,k.prototype.plant=Uv,k.prototype.reverse=Fv,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=Xv,k.prototype.first=k.prototype.head,wn&&(k.prototype[wn]=Yv),k},Oi=Su();l?((l.exports=Oi)._=Oi,o._=Oi):W._=Oi}).call($n)})(Bl,Bl.exports);const Me=Bl.exports,pA=function(){var t=typeof window=="object"&&!!(window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));if(!t)return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,s=r.PI,u=r.atan2,c=r.sqrt,h=r.min,p=r.max,I=r.cos,C=r.sin,m=function(y,M,D){if(!(this instanceof m))return m.apply(Object.create(m.prototype),arguments);if(!!y){if(m.isV(y)&&(y=y.node),M=M||{},m.isString(y)){if(y=y.trim(),y.toLowerCase()==="svg")y=m.createSvgDocument();else if(y[0]==="<"){var d=m.createSvgDocument(y);if(d.childNodes.length>1){var B=[],q,et;for(q=0,et=d.childNodes.length;q<et;q++){var at=d.childNodes[q];B.push(new m(document.importNode(at,!0)))}return B}y=document.importNode(d.firstChild,!0)}else y=document.createElementNS(e.svg,y);m.ensureId(y)}return this.node=y,this.setAttributes(M),D&&this.append(D),this}},L=m.prototype;Object.defineProperty(L,"id",{enumerable:!0,get:function(){return this.node.id},set:function(y){this.node.id=y}}),L.getTransformToElement=function(y){var M=this.node;if(m.isSVGGraphicsElement(y)&&m.isSVGGraphicsElement(M)){var D=m.toNode(y).getScreenCTM(),d=M.getScreenCTM();if(D&&d)return D.inverse().multiply(d)}return m.createSVGMatrix()},L.transform=function(y,M){var D=this.node;if(m.isUndefined(y))return m.transformStringToMatrix(this.attr("transform"));if(M&&M.absolute)return this.attr("transform",m.matrixToTransformString(y));var d=m.createSVGTransform(y);return D.transform.baseVal.appendItem(d),this},L.translate=function(y,M,D){D=D||{},M=M||0;var d=this.attr("transform")||"",B=m.parseTransformString(d);if(d=B.value,m.isUndefined(y))return B.translate;d=d.replace(/translate\([^)]*\)/g,"").trim();var q=D.absolute?y:B.translate.tx+y,et=D.absolute?M:B.translate.ty+M,at="translate("+q+","+et+")";return this.attr("transform",(at+" "+d).trim()),this},L.rotate=function(y,M,D,d){d=d||{};var B=this.attr("transform")||"",q=m.parseTransformString(B);if(B=q.value,m.isUndefined(y))return q.rotate;B=B.replace(/rotate\([^)]*\)/g,"").trim(),y%=360;var et=d.absolute?y:q.rotate.angle+y,at=M!==void 0&&D!==void 0?","+M+","+D:"",wt="rotate("+et+at+")";return this.attr("transform",(B+" "+wt).trim()),this},L.scale=function(y,M){M=m.isUndefined(M)?y:M;var D=this.attr("transform")||"",d=m.parseTransformString(D);if(D=d.value,m.isUndefined(y))return d.scale;D=D.replace(/scale\([^)]*\)/g,"").trim();var B="scale("+y+","+M+")";return this.attr("transform",(D+" "+B).trim()),this},L.bbox=function(y,M){var D,d=this.node,B=d.ownerSVGElement;if(!B)return new Et(0,0,0,0);try{D=d.getBBox()}catch{D={x:d.clientLeft,y:d.clientTop,width:d.clientWidth,height:d.clientHeight}}if(y)return new Et(D);var q=this.getTransformToElement(M||B);return m.transformRect(D,q)},L.getBBox=function(y){var M={},D,d=this.node,B=d.ownerSVGElement;if(!B||!m.isSVGGraphicsElement(d))return new Et(0,0,0,0);if(y&&(y.target&&(M.target=m.toNode(y.target)),y.recursive&&(M.recursive=y.recursive)),M.recursive){var et=this.children(),at=et.length;if(at===0)return this.getBBox({target:M.target,recursive:!1});M.target||(M.target=this);for(var wt=0;wt<at;wt++){var pt=et[wt],Nt;pt.children().length===0?Nt=pt.getBBox({target:M.target,recursive:!1}):Nt=pt.getBBox({target:M.target,recursive:!0}),D?D=D.union(Nt):D=Nt}return D}else{try{D=d.getBBox()}catch{D={x:d.clientLeft,y:d.clientTop,width:d.clientWidth,height:d.clientHeight}}if(M.target){var q=this.getTransformToElement(M.target);return m.transformRect(D,q)}else return new Et(D)}};function G(y,M){y||(y={});var D=m("textPath"),d=y.d;if(d&&y["xlink:href"]===void 0){var B=m("path").attr("d",d).appendTo(M.defs());D.attr("xlink:href","#"+B.id)}return m.isObject(y)&&D.attr(y),D.node}function j(y,M,D){D||(D={});for(var d=D.includeAnnotationIndices,B=D.eol,q=D.lineHeight,et=D.baseSize,at=0,wt={},pt=M.length-1,Nt=0;Nt<=pt;Nt++){var St=M[Nt],Dt=null;if(m.isObject(St)){var _t=St.attrs,fe=m("tspan",_t),ee=fe.node,Se=St.t;B&&Nt===pt&&(Se+=B),ee.textContent=Se;var Lt=_t.class;Lt&&fe.addClass(Lt),d&&fe.attr("annotations",St.annotations),Dt=parseFloat(_t["font-size"]),isFinite(Dt)||(Dt=et),Dt&&Dt>at&&(at=Dt)}else B&&Nt===pt&&(St+=B),ee=document.createTextNode(St||" "),et&&et>at&&(at=et);y.appendChild(ee)}return at&&(wt.maxFontSize=at),q?wt.lineHeight=q:at&&(wt.lineHeight=at*1.2),wt}var X=/em$/;function Q(y,M){var D=parseFloat(y);return X.test(y)?D*M:D}function J(y,M,D,d){if(!Array.isArray(M))return 0;var B=M.length;if(!B)return 0;for(var q=M[0],et=Q(q.maxFontSize,D)||D,at=0,wt=Q(d,D),pt=1;pt<B;pt++){q=M[pt];var Nt=Q(q.lineHeight,D)||wt;at+=Nt}var St=Q(q.maxFontSize,D)||D,Dt;switch(y){case"middle":Dt=et/2-.15*St-at/2;break;case"bottom":Dt=-(.25*St)-at;break;default:case"top":Dt=.8*et;break}return Dt}L.text=function(y,M){if(y&&typeof y!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");y=m.sanitizeText(y),M||(M={});var D=M.displayEmpty,d=M.eol,B=M.textPath,q=M.textVerticalAnchor,et=q==="middle"||q==="bottom"||q==="top",at=M.x;at===void 0&&(at=this.attr("x")||0);var wt=M.includeAnnotationIndices,pt=M.annotations;pt&&!m.isArray(pt)&&(pt=[pt]);var Nt=M.lineHeight,St=Nt==="auto",Dt=St?"1.5em":Nt||"1em";this.empty(),this.attr({"xml:space":"preserve",display:y||D?null:"none"});var _t=parseFloat(this.attr("font-size"));_t||(_t=16,(et||pt)&&this.attr("font-size",_t));var fe=document,ee;B?(typeof B=="string"&&(B={d:B}),ee=G(B,this)):ee=fe.createDocumentFragment();for(var Se=0,Lt=y.split(`
`),zt=[],Wt,Gt=0,re=Lt.length-1;Gt<=re;Gt++){var ce=Dt,he="v-line",Yt=fe.createElementNS(e.svg,"tspan"),Ie=Lt[Gt],Vt;if(Ie)if(pt){var Kt=m.annotateString(Ie,pt,{offset:-Se,includeAnnotationIndices:wt});Vt=j(Yt,Kt,{includeAnnotationIndices:wt,eol:Gt!==re&&d,lineHeight:St?null:Dt,baseSize:_t});var ie=Vt.lineHeight;ie&&St&&Gt!==0&&(ce=ie),Gt===0&&(Wt=Vt.maxFontSize*.8)}else d&&Gt!==re&&(Ie+=d),Yt.textContent=Ie;else{Yt.textContent="-",he+=" v-empty-line";var Bt=Yt.style;Bt.fillOpacity=0,Bt.strokeOpacity=0,pt&&(Vt={})}Vt&&zt.push(Vt),Gt>0&&Yt.setAttribute("dy",ce),(Gt>0||B)&&Yt.setAttribute("x",at),Yt.className.baseVal=he,ee.appendChild(Yt),Se+=Ie.length+1}if(et)if(pt)ce=J(q,zt,_t,Dt);else if(q==="top")ce="0.8em";else{var xt;switch(re>0?(xt=parseFloat(Dt)||1,xt*=re,X.test(Dt)||(xt/=_t)):xt=0,q){case"middle":ce=.3-xt/2+"em";break;case"bottom":ce=-xt-.3+"em";break}}else q===0?ce="0em":q?ce=q:(ce=0,this.attr("y")===null&&this.attr("y",Wt||"0.8em"));return ee.firstChild.setAttribute("dy",ce),this.append(ee),this},L.removeAttr=function(y){var M=m.qualifyAttr(y),D=this.node;return M.ns?D.hasAttributeNS(M.ns,M.local)&&D.removeAttributeNS(M.ns,M.local):D.hasAttribute(y)&&D.removeAttribute(y),this},L.attr=function(y,M){if(m.isUndefined(y)){for(var D=this.node.attributes,d={},B=0;B<D.length;B++)d[D[B].name]=D[B].value;return d}if(m.isString(y)&&m.isUndefined(M))return this.node.getAttribute(y);if(typeof y=="object")for(var q in y)y.hasOwnProperty(q)&&this.setAttribute(q,y[q]);else this.setAttribute(y,M);return this},L.normalizePath=function(){var y=this.tagName();return y==="PATH"&&this.attr("d",m.normalizePathData(this.attr("d"))),this},L.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},L.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},L.setAttributes=function(y){for(var M in y)y.hasOwnProperty(M)&&this.setAttribute(M,y[M]);return this},L.append=function(y){m.isArray(y)||(y=[y]);for(var M=0,D=y.length;M<D;M++)this.node.appendChild(m.toNode(y[M]));return this},L.prepend=function(y){var M=this.node.firstChild;return M?m(M).before(y):this.append(y)},L.before=function(y){var M=this.node,D=M.parentNode;if(D){m.isArray(y)||(y=[y]);for(var d=0,B=y.length;d<B;d++)D.insertBefore(m.toNode(y[d]),M)}return this},L.appendTo=function(y){return m.toNode(y).appendChild(this.node),this},L.svg=function(){return this.node instanceof window.SVGSVGElement?this:m(this.node.ownerSVGElement)},L.tagName=function(){return this.node.tagName.toUpperCase()},L.defs=function(){var y=this.svg()||this,M=y.node.getElementsByTagName("defs")[0];return M?m(M):m("defs").appendTo(y)},L.clone=function(){var y=m(this.node.cloneNode(!0));return y.node.id=m.uniqueId(),y},L.findOne=function(y){var M=this.node.querySelector(y);return M?m(M):void 0},L.find=function(y){var M=[],D=this.node.querySelectorAll(y);if(D)for(var d=0;d<D.length;d++)M.push(m(D[d]));return M},L.children=function(){for(var y=this.node.childNodes,M=[],D=0;D<y.length;D++){var d=y[D];d.nodeType===1&&M.push(m(y[D]))}return M},L.parent=function(){return m(this.node.parentNode)||null},L.index=function(){for(var y=0,M=this.node.previousSibling;M;)M.nodeType===1&&y++,M=M.previousSibling;return y},L.findParentByClass=function(y,M){for(var D=this.node.ownerSVGElement,d=this.node.parentNode;d&&d!==M&&d!==D;){var B=m(d);if(B.hasClass(y))return B;d=d.parentNode}return null},L.contains=function(y){var M=this.node,D=m.toNode(y),d=D&&D.parentNode;return M===d||!!(d&&d.nodeType===1&&M.compareDocumentPosition(d)&16)},L.toLocalPoint=function(y,M){var D=this.svg().node,d=D.createSVGPoint();d.x=y,d.y=M;try{var B=d.matrixTransform(D.getScreenCTM().inverse()),q=this.getTransformToElement(D).inverse()}catch{return d}return B.matrixTransform(q)},L.translateCenterToPoint=function(y){var M=this.getBBox({target:this.svg()}),D=M.center();return this.translate(y.x-D.x,y.y-D.y),this},L.translateAndAutoOrient=function(y,M,D){y=new V(y),M=new V(M),D||(D=this.svg());var d=this.scale();this.attr("transform","");var B=this.getBBox({target:D}).scale(d.sx,d.sy),q=m.createSVGTransform();q.setTranslate(-B.x-B.width/2,-B.y-B.height/2);var et=m.createSVGTransform(),at=y.angleBetween(M,y.clone().offset(1,0));at&&et.setRotate(at,0,0);var wt=m.createSVGTransform(),pt=y.clone().move(M,B.width/2);wt.setTranslate(2*y.x-pt.x,2*y.y-pt.y);var Nt=this.getTransformToElement(D),St=m.createSVGTransform();return St.setMatrix(wt.matrix.multiply(et.matrix.multiply(q.matrix.multiply(Nt.scale(d.sx,d.sy))))),this.attr("transform",m.matrixToTransformString(St.matrix)),this},L.animateAlongPath=function(y,M){M=m.toNode(M);var D=m.ensureId(M),d=m("animateMotion",y),B=m("mpath",{"xlink:href":"#"+D});d.append(B),this.append(d);try{d.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var q=d.node;q.animators=[];var et=q.getAttribute("id");et&&(id2anim[et]=q);for(var at=getTargets(q),wt=0,pt=at.length;wt<pt;wt++){var Nt=at[wt],St=new Animator(q,Nt,wt);animators.push(St),q.animators[wt]=St,St.register()}}}return this},L.hasClass=function(y){return new RegExp("(\\s|^)"+y+"(\\s|$)").test(this.node.getAttribute("class"))},L.addClass=function(y){if(y&&!this.hasClass(y)){var M=this.node.getAttribute("class")||"";this.node.setAttribute("class",(M+" "+y).trim())}return this},L.removeClass=function(y){if(y&&this.hasClass(y)){var M=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+y+"(\\s|$)","g"),"$2");this.node.setAttribute("class",M)}return this},L.toggleClass=function(y,M){var D=m.isUndefined(M)?this.hasClass(y):!M;return D?this.removeClass(y):this.addClass(y),this},L.sample=function(y){y=y||1;for(var M=this.node,D=M.getTotalLength(),d=[],B=0,q;B<D;)q=M.getPointAtLength(B),d.push({x:q.x,y:q.y,distance:B}),B+=y;return d},L.convertToPath=function(){var y=m("path");y.attr(this.attr());var M=this.convertToPathData();return M&&y.attr("d",M),y},L.convertToPathData=function(){var y=this.tagName();switch(y){case"PATH":return this.attr("d");case"LINE":return m.convertLineToPathData(this.node);case"POLYGON":return m.convertPolygonToPathData(this.node);case"POLYLINE":return m.convertPolylineToPathData(this.node);case"ELLIPSE":return m.convertEllipseToPathData(this.node);case"CIRCLE":return m.convertCircleToPathData(this.node);case"RECT":return m.convertRectToPathData(this.node)}throw new Error(y+" cannot be converted to PATH.")},m.prototype.toGeometryShape=function(){var y,M,D,d,B,q,et,at,wt,pt,Nt,St,Dt,_t,fe;switch(this.tagName()){case"RECT":return y=parseFloat(this.attr("x"))||0,M=parseFloat(this.attr("y"))||0,D=parseFloat(this.attr("width"))||0,d=parseFloat(this.attr("height"))||0,new Et(y,M,D,d);case"CIRCLE":return B=parseFloat(this.attr("cx"))||0,q=parseFloat(this.attr("cy"))||0,et=parseFloat(this.attr("r"))||0,new tr({x:B,y:q},et,et);case"ELLIPSE":return B=parseFloat(this.attr("cx"))||0,q=parseFloat(this.attr("cy"))||0,at=parseFloat(this.attr("rx"))||0,wt=parseFloat(this.attr("ry"))||0,new tr({x:B,y:q},at,wt);case"POLYLINE":return pt=m.getPointsFromSvgNode(this),new $e(pt);case"POLYGON":return pt=m.getPointsFromSvgNode(this),pt.length>1&&pt.push(pt[0]),new $e(pt);case"PATH":return Nt=this.attr("d"),Ft.isDataSupported(Nt)||(Nt=m.normalizePathData(Nt)),new Ft(Nt);case"LINE":return St=parseFloat(this.attr("x1"))||0,_t=parseFloat(this.attr("y1"))||0,Dt=parseFloat(this.attr("x2"))||0,fe=parseFloat(this.attr("y2"))||0,new Zt({x:St,y:_t},{x:Dt,y:fe})}return this.getBBox()},L.findIntersection=function(y,M){var D=this.svg().node;M=M||D;var d=this.getBBox({target:M}),B=d.center();if(!!d.intersectionWithLineFromCenterToPoint(y)){var q,et=this.tagName();if(et==="RECT"){var at=new Et(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),wt=this.getTransformToElement(M),pt=m.decomposeMatrix(wt),Nt=D.createSVGTransform();Nt.setRotate(-pt.rotation,B.x,B.y);var St=m.transformRect(at,Nt.matrix.multiply(wt));q=new Et(St).intersectionWithLineFromCenterToPoint(y,pt.rotation)}else if(et==="PATH"||et==="POLYGON"||et==="POLYLINE"||et==="CIRCLE"||et==="ELLIPSE"){var Dt=et==="PATH"?this:this.convertToPath(),_t=Dt.sample(),fe=1/0,ee=[],Se,Lt,zt,Wt,Gt,re;for(Se=0;Se<_t.length;Se++)Lt=_t[Se],zt=m.createSVGPoint(Lt.x,Lt.y),zt=zt.matrixTransform(this.getTransformToElement(M)),Lt=new V(zt),Wt=Lt.distance(B),Gt=Lt.distance(y)*1.1,re=Wt+Gt,re<fe?(fe=re,ee=[{sample:Lt,refDistance:Gt}]):re<fe+1&&ee.push({sample:Lt,refDistance:Gt});ee.sort(function(ce,he){return ce.refDistance-he.refDistance}),ee[0]&&(q=ee[0].sample)}return q}},L.setAttribute=function(y,M){var D=this.node;if(M===null)return this.removeAttr(y),this;var d=m.qualifyAttr(y);return d.ns?D.setAttributeNS(d.ns,y,M):y==="id"?D.id=M:D.setAttribute(y,M),this},m.createSvgDocument=function(y){if(y){const D=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="${n}">${y}</svg>`,{documentElement:d}=m.parseXML(D,{async:!1});return d}const M=document.createElementNS(e.svg,"svg");return M.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),M.setAttribute("version",n),M},m.createSVGStyle=function(y){const{node:M}=m("style",{type:"text/css"},[m.createCDATASection(y)]);return M},m.createCDATASection=function(y=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(y)},m.idCounter=0,m.uniqueId=function(){return"v-"+ ++m.idCounter},m.toNode=function(y){return m.isV(y)?y.node:y.nodeName&&y||y[0]},m.ensureId=function(y){return y=m.toNode(y),y.id||(y.id=m.uniqueId())},m.sanitizeText=function(y){return(y||"").replace(/ /g,"\xA0")},m.isUndefined=function(y){return typeof y>"u"},m.isString=function(y){return typeof y=="string"},m.isObject=function(y){return y&&typeof y=="object"},m.isArray=Array.isArray,m.parseXML=function(y,M){M=M||{};var D;try{var d=new DOMParser;m.isUndefined(M.async)||(d.async=M.async),D=d.parseFromString(y,"text/xml")}catch{D=void 0}if(!D||D.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+y);return D},m.qualifyAttr=function(y){if(y.indexOf(":")!==-1){var M=y.split(":");return{ns:e[M[0]],local:M[1]}}return{ns:null,local:y}},m.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,m.transformSeparatorRegex=/[ ,]+/,m.transformationListRegex=/^(\w+)\((.*)\)/,m.transformStringToMatrix=function(y){var M=m.createSVGMatrix(),D=y&&y.match(m.transformRegex);if(!D)return M;for(var d=0,B=D.length;d<B;d++){var q=D[d],et=q.match(m.transformationListRegex);if(et){var at,wt,pt,Nt,St,Dt=m.createSVGMatrix(),_t=et[2].split(m.transformSeparatorRegex);switch(et[1].toLowerCase()){case"scale":at=parseFloat(_t[0]),wt=_t[1]===void 0?at:parseFloat(_t[1]),Dt=Dt.scaleNonUniform(at,wt);break;case"translate":pt=parseFloat(_t[0]),Nt=parseFloat(_t[1]),Dt=Dt.translate(pt,Nt);break;case"rotate":St=parseFloat(_t[0]),pt=parseFloat(_t[1])||0,Nt=parseFloat(_t[2])||0,pt!==0||Nt!==0?Dt=Dt.translate(pt,Nt).rotate(St).translate(-pt,-Nt):Dt=Dt.rotate(St);break;case"skewx":St=parseFloat(_t[0]),Dt=Dt.skewX(St);break;case"skewy":St=parseFloat(_t[0]),Dt=Dt.skewY(St);break;case"matrix":Dt.a=parseFloat(_t[0]),Dt.b=parseFloat(_t[1]),Dt.c=parseFloat(_t[2]),Dt.d=parseFloat(_t[3]),Dt.e=parseFloat(_t[4]),Dt.f=parseFloat(_t[5]);break;default:continue}M=M.multiply(Dt)}}return M},m.matrixToTransformString=function(y){return y||(y=!0),"matrix("+(y.a!==void 0?y.a:1)+","+(y.b!==void 0?y.b:0)+","+(y.c!==void 0?y.c:0)+","+(y.d!==void 0?y.d:1)+","+(y.e!==void 0?y.e:0)+","+(y.f!==void 0?y.f:0)+")"},m.parseTransformString=function(y){var M,D,d;if(y){var B=m.transformSeparatorRegex;if(y.trim().indexOf("matrix")>=0){var q=m.transformStringToMatrix(y),et=m.decomposeMatrix(q);M=[et.translateX,et.translateY],d=[et.scaleX,et.scaleY],D=[et.rotation];var at=[];(M[0]!==0||M[1]!==0)&&at.push("translate("+M+")"),(d[0]!==1||d[1]!==1)&&at.push("scale("+d+")"),D[0]!==0&&at.push("rotate("+D+")"),y=at.join(" ")}else{var wt=y.match(/translate\((.*?)\)/);wt&&(M=wt[1].split(B));var pt=y.match(/rotate\((.*?)\)/);pt&&(D=pt[1].split(B));var Nt=y.match(/scale\((.*?)\)/);Nt&&(d=Nt[1].split(B))}}var St=d&&d[0]?parseFloat(d[0]):1;return{value:y,translate:{tx:M&&M[0]?parseInt(M[0],10):0,ty:M&&M[1]?parseInt(M[1],10):0},rotate:{angle:D&&D[0]?parseInt(D[0],10):0,cx:D&&D[1]?parseInt(D[1],10):void 0,cy:D&&D[2]?parseInt(D[2],10):void 0},scale:{sx:St,sy:d&&d[1]?parseFloat(d[1]):St}}},m.deltaTransformPoint=function(y,M){var D=M.x*y.a+M.y*y.c+0,d=M.x*y.b+M.y*y.d+0;return{x:D,y:d}},m.decomposeMatrix=function(y){var M=m.deltaTransformPoint(y,{x:0,y:1}),D=m.deltaTransformPoint(y,{x:1,y:0}),d=180/s*u(M.y,M.x)-90,B=180/s*u(D.y,D.x);return{translateX:y.e,translateY:y.f,scaleX:c(y.a*y.a+y.b*y.b),scaleY:c(y.c*y.c+y.d*y.d),skewX:d,skewY:B,rotation:d}},m.matrixToScale=function(y){var M,D,d,B;return y?(M=m.isUndefined(y.a)?1:y.a,B=m.isUndefined(y.d)?1:y.d,D=y.b,d=y.c):M=B=1,{sx:D?c(M*M+D*D):M,sy:d?c(d*d+B*B):B}},m.matrixToRotate=function(y){var M={x:0,y:1};return y&&(M=m.deltaTransformPoint(y,M)),{angle:wi(gu(u(M.y,M.x))-90)}},m.matrixToTranslate=function(y){return{tx:y&&y.e||0,ty:y&&y.f||0}},m.isV=function(y){return y instanceof m},m.isVElement=m.isV,m.isSVGGraphicsElement=function(y){return y?(y=m.toNode(y),y instanceof SVGElement&&typeof y.getScreenCTM=="function"):!1};var st=m("svg").node;return m.createSVGMatrix=function(y){var M=st.createSVGMatrix();for(var D in y)M[D]=y[D];return M},m.createSVGTransform=function(y){return m.isUndefined(y)?st.createSVGTransform():(y instanceof SVGMatrix||(y=m.createSVGMatrix(y)),st.createSVGTransformFromMatrix(y))},m.createSVGPoint=function(y,M){var D=st.createSVGPoint();return D.x=y,D.y=M,D},m.transformRect=function(y,M){var D=st.createSVGPoint();D.x=y.x,D.y=y.y;var d=D.matrixTransform(M);D.x=y.x+y.width,D.y=y.y;var B=D.matrixTransform(M);D.x=y.x+y.width,D.y=y.y+y.height;var q=D.matrixTransform(M);D.x=y.x,D.y=y.y+y.height;var et=D.matrixTransform(M),at=h(d.x,B.x,q.x,et.x),wt=p(d.x,B.x,q.x,et.x),pt=h(d.y,B.y,q.y,et.y),Nt=p(d.y,B.y,q.y,et.y);return new Et(at,pt,wt-at,Nt-pt)},m.transformPoint=function(y,M){return new V(m.createSVGPoint(y.x,y.y).matrixTransform(M))},m.transformLine=function(y,M){return new Zt(m.transformPoint(y.start,M),m.transformPoint(y.end,M))},m.transformPolyline=function(y,M){var D=y instanceof $e?y.points:y;m.isArray(D)||(D=[]);for(var d=[],B=0,q=D.length;B<q;B++)d[B]=m.transformPoint(D[B],M);return new $e(d)},m.styleToObject=function(y){for(var M={},D=y.split(";"),d=0;d<D.length;d++){var B=D[d],q=B.split("=");M[q[0].trim()]=q[1].trim()}return M},m.createSlicePathData=function(y,M,D,d){var B=2*s-1e-6,q=y,et=M,at=D,wt=d,pt=(wt<at&&(pt=at,at=wt,wt=pt),wt-at),Nt=pt<s?"0":"1",St=I(at),Dt=C(at),_t=I(wt),fe=C(wt);return pt>=B?q?"M0,"+et+"A"+et+","+et+" 0 1,1 0,"+-et+"A"+et+","+et+" 0 1,1 0,"+et+"M0,"+q+"A"+q+","+q+" 0 1,0 0,"+-q+"A"+q+","+q+" 0 1,0 0,"+q+"Z":"M0,"+et+"A"+et+","+et+" 0 1,1 0,"+-et+"A"+et+","+et+" 0 1,1 0,"+et+"Z":q?"M"+et*St+","+et*Dt+"A"+et+","+et+" 0 "+Nt+",1 "+et*_t+","+et*fe+"L"+q*_t+","+q*fe+"A"+q+","+q+" 0 "+Nt+",0 "+q*St+","+q*Dt+"Z":"M"+et*St+","+et*Dt+"A"+et+","+et+" 0 "+Nt+",1 "+et*_t+","+et*fe+"L0,0Z"},m.mergeAttrs=function(y,M){for(var D in M)D==="class"?y[D]=y[D]?y[D]+" "+M[D]:M[D]:D==="style"?m.isObject(y[D])&&m.isObject(M[D])?y[D]=m.mergeAttrs(y[D],M[D]):m.isObject(y[D])?y[D]=m.mergeAttrs(y[D],m.styleToObject(M[D])):m.isObject(M[D])?y[D]=m.mergeAttrs(m.styleToObject(y[D]),M[D]):y[D]=m.mergeAttrs(m.styleToObject(y[D]),m.styleToObject(M[D])):y[D]=M[D];return y},m.annotateString=function(y,M,D){M=M||[],D=D||{};for(var d=D.offset||0,B=[],q,et=[],at,wt,pt=0;pt<y.length;pt++){at=et[pt]=y[pt];for(var Nt=0;Nt<M.length;Nt++){var St=M[Nt],Dt=St.start+d,_t=St.end+d;pt>=Dt&&pt<_t&&(m.isObject(at)?at.attrs=m.mergeAttrs(m.mergeAttrs({},at.attrs),St.attrs):at=et[pt]={t:y[pt],attrs:St.attrs},D.includeAnnotationIndices&&(at.annotations||(at.annotations=[])).push(Nt))}wt=et[pt-1],wt?m.isObject(at)&&m.isObject(wt)?JSON.stringify(at.attrs)===JSON.stringify(wt.attrs)?q.t+=at.t:(B.push(q),q=at):m.isObject(at)||m.isObject(wt)?(B.push(q),q=at):q=(q||"")+at:q=at}return q&&B.push(q),B},m.findAnnotationsAtIndex=function(y,M){var D=[];return y&&y.forEach(function(d){d.start<M&&M<=d.end&&D.push(d)}),D},m.findAnnotationsBetweenIndexes=function(y,M,D){var d=[];return y&&y.forEach(function(B){(M>=B.start&&M<B.end||D>B.start&&D<=B.end||B.start>=M&&B.end<D)&&d.push(B)}),d},m.shiftAnnotations=function(y,M,D){return y&&y.forEach(function(d){d.start<M&&d.end>=M?d.end+=D:d.start>=M&&(d.start+=D,d.end+=D)}),y},m.convertLineToPathData=function(y){y=m(y);var M=["M",y.attr("x1"),y.attr("y1"),"L",y.attr("x2"),y.attr("y2")].join(" ");return M},m.convertPolygonToPathData=function(y){var M=m.getPointsFromSvgNode(y);return M.length===0?null:m.svgPointsToPath(M)+" Z"},m.convertPolylineToPathData=function(y){var M=m.getPointsFromSvgNode(y);return M.length===0?null:m.svgPointsToPath(M)},m.svgPointsToPath=function(y){for(var M=0,D=y.length;M<D;M++)y[M]=y[M].x+" "+y[M].y;return"M "+y.join(" L")},m.getPointsFromSvgNode=function(y){y=m.toNode(y);var M=[],D=y.points;if(D)for(var d=0,B=D.numberOfItems;d<B;d++)M.push(D.getItem(d));return M},m.KAPPA=.551784,m.convertCircleToPathData=function(y){y=m(y);var M=parseFloat(y.attr("cx"))||0,D=parseFloat(y.attr("cy"))||0,d=parseFloat(y.attr("r")),B=d*m.KAPPA,q=["M",M,D-d,"C",M+B,D-d,M+d,D-B,M+d,D,"C",M+d,D+B,M+B,D+d,M,D+d,"C",M-B,D+d,M-d,D+B,M-d,D,"C",M-d,D-B,M-B,D-d,M,D-d,"Z"].join(" ");return q},m.convertEllipseToPathData=function(y){y=m(y);var M=parseFloat(y.attr("cx"))||0,D=parseFloat(y.attr("cy"))||0,d=parseFloat(y.attr("rx")),B=parseFloat(y.attr("ry"))||d,q=d*m.KAPPA,et=B*m.KAPPA,at=["M",M,D-B,"C",M+q,D-B,M+d,D-et,M+d,D,"C",M+d,D+et,M+q,D+B,M,D+B,"C",M-q,D+B,M-d,D+et,M-d,D,"C",M-d,D-et,M-q,D-B,M,D-B,"Z"].join(" ");return at},m.convertRectToPathData=function(y){return y=m(y),m.rectToPath({x:parseFloat(y.attr("x"))||0,y:parseFloat(y.attr("y"))||0,width:parseFloat(y.attr("width"))||0,height:parseFloat(y.attr("height"))||0,rx:parseFloat(y.attr("rx"))||0,ry:parseFloat(y.attr("ry"))||0})},m.rectToPath=function(y){var M,D=y.x,d=y.y,B=y.width,q=y.height,et=h(y.rx||y["top-rx"]||0,B/2),at=h(y.rx||y["bottom-rx"]||0,B/2),wt=h(y.ry||y["top-ry"]||0,q/2),pt=h(y.ry||y["bottom-ry"]||0,q/2);return et||at||wt||pt?M=["M",D,d+wt,"v",q-wt-pt,"a",at,pt,0,0,0,at,pt,"h",B-2*at,"a",at,pt,0,0,0,at,-pt,"v",-(q-pt-wt),"a",et,wt,0,0,0,-et,-wt,"h",-(B-2*et),"a",et,wt,0,0,0,-et,wt,"Z"]:M=["M",D,d,"H",D+B,"V",d+q,"H",D,"V",d,"Z"],M.join(" ")},m.normalizePathData=function(){var y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,M=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),D=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),d=Math,B=d.PI,q=d.sin,et=d.cos,at=d.tan,wt=d.asin,pt=d.sqrt,Nt=d.abs;function St(Lt,zt,Wt,Gt,re,ce){var he=.3333333333333333,Yt=2/3;return[he*Lt+Yt*Wt,he*zt+Yt*Gt,he*re+Yt*Wt,he*ce+Yt*Gt,re,ce]}function Dt(Lt,zt,Wt){var Gt=Lt*et(Wt)-zt*q(Wt),re=Lt*q(Wt)+zt*et(Wt);return{x:Gt,y:re}}function _t(Lt,zt,Wt,Gt,re,ce,he,Yt,Ie,Vt){var Kt=B*120/180,ie=B/180*(+re||0),Bt=[],xt;if(Vt)kt=Vt[0],se=Vt[1],Mt=Vt[2],Ht=Vt[3];else{xt=Dt(Lt,zt,-ie),Lt=xt.x,zt=xt.y,xt=Dt(Yt,Ie,-ie),Yt=xt.x,Ie=xt.y;var N=(Lt-Yt)/2,z=(zt-Ie)/2,Z=N*N/(Wt*Wt)+z*z/(Gt*Gt);Z>1&&(Z=pt(Z),Wt=Z*Wt,Gt=Z*Gt);var $=Wt*Wt,ht=Gt*Gt,It=(ce==he?-1:1)*pt(Nt(($*ht-$*z*z-ht*N*N)/($*z*z+ht*N*N))),Mt=It*Wt*z/Gt+(Lt+Yt)/2,Ht=It*-Gt*N/Wt+(zt+Ie)/2,kt=wt(((zt-Ht)/Gt).toFixed(9)),se=wt(((Ie-Ht)/Gt).toFixed(9));kt=Lt<Mt?B-kt:kt,se=Yt<Mt?B-se:se,kt<0&&(kt=B*2+kt),se<0&&(se=B*2+se),he&&kt>se&&(kt=kt-B*2),!he&&se>kt&&(se=se-B*2)}var Ze=se-kt;if(Nt(Ze)>Kt){var me=se,Je=Yt,un=Ie;se=kt+Kt*(he&&se>kt?1:-1),Yt=Mt+Wt*et(se),Ie=Ht+Gt*q(se),Bt=_t(Yt,Ie,Wt,Gt,re,0,he,Je,un,[se,me,Mt,Ht])}Ze=se-kt;var mn=et(kt),Xe=q(kt),He=et(se),fn=q(se),In=at(Ze/4),Nn=4/3*(Wt*In),pr=4/3*(Gt*In),vr=[Lt,zt],Qe=[Lt+Nn*Xe,zt-pr*mn],sn=[Yt+Nn*fn,Ie-pr*He],ei=[Yt,Ie];if(Qe[0]=2*vr[0]-Qe[0],Qe[1]=2*vr[1]-Qe[1],Vt)return[Qe,sn,ei].concat(Bt);Bt=[Qe,sn,ei].concat(Bt).join().split(",");for(var mr=[],bi=Bt.length,Mn=0;Mn<bi;Mn++)mr[Mn]=Mn%2?Dt(Bt[Mn-1],Bt[Mn],ie).y:Dt(Bt[Mn],Bt[Mn+1],ie).x;return mr}function fe(Lt){if(!Lt)return null;var zt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Wt=[];return String(Lt).replace(M,function(Gt,re,ce){var he=[],Yt=re.toLowerCase();for(ce.replace(D,function(Ie,Vt){Vt&&he.push(+Vt)}),Yt==="m"&&he.length>2&&(Wt.push([re].concat(he.splice(0,2))),Yt="l",re=re==="m"?"l":"L");he.length>=zt[Yt]&&(Wt.push([re].concat(he.splice(0,zt[Yt]))),!!zt[Yt]););}),Wt}function ee(Lt){if((!Array.isArray(Lt)||!Array.isArray(Lt&&Lt[0]))&&(Lt=fe(Lt)),!Lt||!Lt.length)return[["M",0,0]];for(var zt=[],Wt=0,Gt=0,re=0,ce=0,he=0,Yt,Ie=Lt.length,Vt=he;Vt<Ie;Vt++){var Kt=[];zt.push(Kt);var ie=Lt[Vt];if(Yt=ie[0],Yt!=Yt.toUpperCase()){Kt[0]=Yt.toUpperCase();var Bt,xt;switch(Kt[0]){case"A":Kt[1]=ie[1],Kt[2]=ie[2],Kt[3]=ie[3],Kt[4]=ie[4],Kt[5]=ie[5],Kt[6]=+ie[6]+Wt,Kt[7]=+ie[7]+Gt;break;case"V":Kt[1]=+ie[1]+Gt;break;case"H":Kt[1]=+ie[1]+Wt;break;case"M":for(re=+ie[1]+Wt,ce=+ie[2]+Gt,Bt=ie.length,xt=1;xt<Bt;xt++)Kt[xt]=+ie[xt]+(xt%2?Wt:Gt);break;default:for(Bt=ie.length,xt=1;xt<Bt;xt++)Kt[xt]=+ie[xt]+(xt%2?Wt:Gt);break}}else for(var N=ie.length,z=0;z<N;z++)Kt[z]=ie[z];switch(Kt[0]){case"Z":Wt=+re,Gt=+ce;break;case"H":Wt=Kt[1];break;case"V":Gt=Kt[1];break;case"M":re=Kt[Kt.length-2],ce=Kt[Kt.length-1],Wt=Kt[Kt.length-2],Gt=Kt[Kt.length-1];break;default:Wt=Kt[Kt.length-2],Gt=Kt[Kt.length-1];break}}return zt}function Se(Lt){var zt=ee(Lt),Wt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function Gt(Bt,xt,N){var z,Z;if(!Bt)return["C",xt.x,xt.y,xt.x,xt.y,xt.x,xt.y];switch(Bt[0]in{T:1,Q:1}||(xt.qx=null,xt.qy=null),Bt[0]){case"M":xt.X=Bt[1],xt.Y=Bt[2];break;case"A":parseFloat(Bt[1])===0||parseFloat(Bt[2])===0?Bt=["L",Bt[6],Bt[7]]:Bt=["C"].concat(_t.apply(0,[xt.x,xt.y].concat(Bt.slice(1))));break;case"S":N==="C"||N==="S"?(z=xt.x*2-xt.bx,Z=xt.y*2-xt.by):(z=xt.x,Z=xt.y),Bt=["C",z,Z].concat(Bt.slice(1));break;case"T":N==="Q"||N==="T"?(xt.qx=xt.x*2-xt.qx,xt.qy=xt.y*2-xt.qy):(xt.qx=xt.x,xt.qy=xt.y),Bt=["C"].concat(St(xt.x,xt.y,xt.qx,xt.qy,Bt[1],Bt[2]));break;case"Q":xt.qx=Bt[1],xt.qy=Bt[2],Bt=["C"].concat(St(xt.x,xt.y,Bt[1],Bt[2],Bt[3],Bt[4]));break;case"H":Bt=["L"].concat(Bt[1],xt.y);break;case"V":Bt=["L"].concat(xt.x,Bt[1]);break}return Bt}function re(Bt,xt){if(Bt[xt].length>7){Bt[xt].shift();for(var N=Bt[xt];N.length;)ce[xt]="A",Bt.splice(xt++,0,["C"].concat(N.splice(0,6)));Bt.splice(xt,1),Ie=zt.length}}for(var ce=[],he="",Yt="",Ie=zt.length,Vt=0;Vt<Ie;Vt++){zt[Vt]&&(he=zt[Vt][0]),he!=="C"&&(ce[Vt]=he,Vt>0&&(Yt=ce[Vt-1])),zt[Vt]=Gt(zt[Vt],Wt,Yt),ce[Vt]!=="A"&&he==="C"&&(ce[Vt]="C"),re(zt,Vt);var Kt=zt[Vt],ie=Kt.length;Wt.x=Kt[ie-2],Wt.y=Kt[ie-1],Wt.bx=parseFloat(Kt[ie-4])||Wt.x,Wt.by=parseFloat(Kt[ie-3])||Wt.y}return(!zt[0][0]||zt[0][0]!=="M")&&zt.unshift(["M",0,0]),zt}return function(Lt){return Se(Lt).join(",").split(",").join(" ")}}(),m.namespace=e,m.g=gA,m}(),gt=pA,Yr={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},ti=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,Yr.classNamePrefix.length)!==Yr.classNamePrefix&&(e=Yr.classNamePrefix+e),e}).join(" ")},vA=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,Yr.classNamePrefix.length)===Yr.classNamePrefix&&(e=e.substr(Yr.classNamePrefix.length)),e}).join(" ")},lu=function(t,e){for(var n={},r={},s=gt.namespace.svg,u=e||s,c=document.createDocumentFragment(),h=[t,c,u];h.length>0;){u=h.pop();for(var p=h.pop(),I=h.pop(),C=0,m=I.length;C<m;C++){var L=I[C];if(!L.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var G=L.tagName;L.hasOwnProperty("namespaceURI")&&(u=L.namespaceURI);var j=document.createElementNS(u,G),X=u===s,Q=X?gt:Fe,J=L.attributes;J&&Q(j).attr(J);var st=L.style;if(st&&Fe(j).css(st),L.hasOwnProperty("className")){var y=L.className;X?j.className.baseVal=y:j.className=y}if(L.hasOwnProperty("textContent")&&(j.textContent=L.textContent),L.hasOwnProperty("selector")){var M=L.selector;if(n[M])throw new Error("json-dom-parser: selector must be unique");n[M]=j,Q(j).attr("joint-selector",M)}if(L.hasOwnProperty("groupSelector")){var D=L.groupSelector;Array.isArray(D)||(D=[D]);for(var d=0,B=D.length;d<B;d++){var q=D[d],et=r[q];et||(et=r[q]=[]),et.push(j)}}p.appendChild(j);var at=L.children;Array.isArray(at)&&h.push(at,j,u)}}return{fragment:c,selectors:n,groupSelectors:r}},$o=function(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e},lo=function(t,e,n){for(var r=Array.isArray(e)?e:e.split(n||"/"),s,u=0,c=r.length;u<c;)if(s=r[u++],Object(t)===t&&s in t)t=t[s];else return;return t},vg=function(t,e){return typeof e!="string"&&typeof e!="number"&&(e=String(e)),!(e==="constructor"&&typeof t[e]=="function"||e==="__proto__")},Rl=function(t,e,n,r){const s=Array.isArray(e)?e:e.split(r||"/"),u=s.length-1;let c=t,h=0;for(;h<u;h++){const p=s[h];if(!vg(c,p))return t;c=c[p]||(c[p]={})}return c[s[u]]=n,t},ph=function(t,e,n){const r=Array.isArray(e)?e:e.split(n||"/"),s=r.length-1;let u=t,c=0;for(;c<s;c++){const h=r[c];if(!vg(u,h))return t;const p=u[h];if(!p)return t;u=p}return delete u[r[s]],t},mA=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},so=function(t){return so.id=so.id||1,t.id=t.id===void 0?"j_"+so.id++:t.id,t.id},IA=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},Qn=function(t){var e=t,n=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(n){for(var r in t)n[r]===void 0&&(n[r]=t[r]);e=n}var s=e.target;if(s){var u=s.correspondingUseElement;u&&(e.target=u)}return e},_l=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var r=new Date().getTime(),s=Math.max(0,16-(r-e)),u=setTimeout(function(){n(r+s)},s);return e=r+s,u}}return function(n,r,...s){return t(r!==void 0?n.bind(r,...s):n)}}(),Wl=function(){var t,e=typeof window<"u";return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),Ur=function(t){return jn(t)&&t.slice(-1)==="%"},AA=function(t,e){function n(h){var p=new RegExp("(?:\\d+(?:\\.\\d+)*)("+h+")$").exec(t);return p?p[1]:null}var r=parseFloat(t);if(Number.isNaN(r))return null;var s={};s.value=r;var u;if(e==null)u="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;u=e.join("|")}else jn(e)&&(u=e);var c=n(u);return c===null?null:(s.unit=c,s)},mg=function(t,e,n={},r={}){var s=e.width,u=e.height,c=r.svgDocument||gt("svg").node,h=gt("tspan").node,p=gt("text").attr(n).append(h).node,I=document.createTextNode("");p.style.opacity=0,p.style.display="block",h.style.display="block",h.appendChild(I),c.appendChild(p),r.svgDocument||document.body.appendChild(c);var C=r.separator||" ",m=r.eol||`
`,L=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,G=r.maxLineCount;hr(G)||(G=1/0);for(var j=t.split(C),X=[],Q=[],J,st,y,M=0,D=0,d=j.length;M<d;M++){var B=j[M];if(!!B){var q=!1;if(m&&B.indexOf(m)>=0)if(B.length>1){for(var et=B.split(m),at=0,wt=et.length-1;at<wt;at++)et.splice(2*at+1,0,m);j.splice(M,1,...et.filter(Wt=>Wt!=="")),M--,d=j.length;continue}else Q[++D]="",q=!0;if(!q)if(I.data=Q[D]?Q[D]+" "+B:B,h.getComputedTextLength()<=s)Q[D]=I.data,(J||st)&&(X[D++]=!0,J=0,st=0);else{if(!Q[D]||J){var pt=!!J;if(J=B.length-1,pt||!J){if(!J){if(!Q[D]){Q=[];break}j.splice(M,2,B+j[M+1]),d--,X[D++]=!0,M--;continue}j[M]=B.substring(0,J),j[M+1]=B.substring(J)+(j[M+1]===void 0?"":j[M+1])}else{if(st)j.splice(M,2,j[M]+j[M+1]),st=0;else{var Nt=B.search(L);Nt>-1&&Nt!==B.length-1&&Nt!==0&&(st=Nt+1,J=0),j.splice(M,1,B.substring(0,st||J),B.substring(st||J)),d++}D&&!X[D-1]&&D--}M--;continue}D++,M--}var St=null;if(Q.length>G)St=G-1;else if(u!==void 0){if(y===void 0){var Dt;n.lineHeight==="auto"?Dt={value:1.5,unit:"em"}:Dt=AA(n.lineHeight,["em"])||{value:1,unit:"em"},y=Dt.value,Dt.unit==="em"&&(y*=p.getBBox().height)}y*Q.length>u&&(St=Math.floor(u/y)-1)}if(St!==null){Q.splice(St+1);var _t=r.ellipsis;if(!_t||St<0)break;typeof _t!="string"&&(_t="\u2026");var fe=Q[St];if(!fe&&!q)break;var ee=fe.length,Se,Lt,zt;do{if(Lt=fe[ee],Se=fe.substring(0,ee),Lt?Lt.match(C)&&(Se+=Lt):(zt=typeof C=="string"?C:" ",Se+=zt),Se+=_t,I.data=Se,h.getComputedTextLength()<=s){Q[St]=Se;break}ee--}while(ee>=0);break}}}return r.svgDocument?c.removeChild(p):document.body.removeChild(c),Q.join(m)},CA=function(t){var e=Fe(Fe.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var n=this;Fe.each(n.attributes,function(){var r=this,s=r.name,u=r.value;(s.startsWith("on")||u.startsWith("javascript:")||u.startsWith("data:")||u.startsWith("vbscript:"))&&Fe(n).removeAttr(s)})}),e.html()},yA=function(t,e){var n=Fe(t),r=n.map(function(){var s=this,u=s.parentNode,c=u.insertBefore(document.createTextNode(""),s.nextSibling);return function(){if(u===this)throw new Error("You can't sort elements if any one is a descendant of another.");u.insertBefore(this,c),u.removeChild(c)}});return Array.prototype.sort.call(n,e).each(function(s){r[s].call(this)})},Da=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,r,s,u;return n=r=s=u=0,isFinite(t.vertical)&&(n=s=+t.vertical),isFinite(t.horizontal)&&(r=u=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(r=+t.right),isFinite(t.bottom)&&(s=+t.bottom),isFinite(t.left)&&(u=+t.left),{top:n,right:r,bottom:s,left:u}},wA={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var r=(11-6*e-11*t)/4;return-r*r+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(r){var s=t(r);return s<e?e:s>n?n:s}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},Ig={number:function(t,e){var n=e-t;return function(r){return t+n*r}},object:function(t,e){var n=Object.keys(t);return function(r){var s,u,c={};for(s=n.length-1;s!=-1;s--)u=n[s],c[u]=t[u]+(e[u]-t[u])*r;return c}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),s=n&255,u=(r&255)-s,c=n&65280,h=(r&65280)-c,p=n&16711680,I=(r&16711680)-p;return function(C){var m=s+u*C&255,L=c+h*C&65280,G=p+I*C&16711680;return"#"+(1<<24|m|L|G).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),s=n.exec(e),u=s[1].indexOf("."),c=u>0?s[1].length-u-1:0;t=+r[1];var h=+s[1]-t,p=r[2];return function(I){return(t+h*I).toFixed(c)+p}}},bA={outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(t.margin)?t.margin:2,r=Number.isFinite(t.width)?t.width:1;return Kn(e)({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Kn(e)({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return Kn('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Kn(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Kn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Kn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Kn('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return Kn('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Kn('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return Kn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Kn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},Kn=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(r){for(var s=Array.from(arguments),u=s.slice(1,4).find(function(p){return!!p}),c=u.split("."),h=n[c.shift()];h!==void 0&&c.length;)h=h[c.shift()];return h!==void 0?h:""})}};Me.assign;Me.defaults;Me.defaultsDeep;const qt=Me.assign,Kr=Me.defaults,oc=Me.defaultsDeep,Ai=Me.invokeMap||Me.invoke,Ag=Me.sortedIndexBy||Me.sortedIndex,La=Me.uniqBy||Me.uniq,Ii=Me.clone,_r=Me.cloneDeep,fs=Me.isEmpty,ro=Me.isEqual,qe=Me.isFunction,Ln=Me.isPlainObject,Ne=Me.toArray;Me.debounce;const xA=Me.groupBy;Me.sortBy;const NA=Me.flattenDeep,Yl=Me.without,Cg=Me.difference;Me.intersection;const Ul=Me.union,Fi=Me.has,xn=Me.result,Vs=Me.omit,MA=Me.pick;Me.bindAll;const qr=Me.forIn,SA=Me.camelCase,TA=Me.uniqueId,Pn=function(){if(Me.mergeWith){var t=Array.from(arguments),e=t[t.length-1],n=qe(e)?e:LA;return t.push(function(r,s){var u=n(r,s);if(u!==void 0)return u;if(Array.isArray(r)&&!Array.isArray(s))return s}),Me.mergeWith.apply(this,t)}return Me.merge.apply(this,arguments)},DA=function(t){var e=Object.prototype.toString;return t===!0||t===!1||!!t&&typeof t=="object"&&e.call(t)==="[object Boolean]"},rn=function(t){return!!t&&(typeof t=="object"||typeof t=="function")},hr=function(t){var e=Object.prototype.toString;return typeof t=="number"||!!t&&typeof t=="object"&&e.call(t)==="[object Number]"},jn=function(t){var e=Object.prototype.toString;return typeof t=="string"||!!t&&typeof t=="object"&&e.call(t)==="[object String]"},LA=function(){};function yg(t){t=La(t);const e=Ne(t).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Ne(t).forEach(function(n){const r=e[n.id];if(r.isLink()){const c=r.source(),h=r.target();c.id&&e[c.id]&&r.prop("source/id",e[c.id].id),h.id&&e[h.id]&&r.prop("target/id",e[h.id].id)}const s=n.get("parent");s&&e[s]&&r.set("parent",e[s].id);const u=Ne(n.get("embeds")).reduce(function(c,h){return e[h]&&c.push(e[h].id),c},[]);fs(u)||r.set("embeds",u)}),e}const Ui={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},PA=Object.keys(Ui).map(t=>Ui[t]).join(""),vh="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",kA=/\s/g,mh=new RegExp(`^(${vh}\\*)?([${PA}])([-+]{1,2}${vh})?$`,"g");function wg(t){throw new Error(`Invalid calc() expression: ${t}`)}function zA(t,e){const n=mh.exec(t.replace(kA,""));n||wg(t),mh.lastIndex=0;const[,r=1,s,u=0]=n,{x:c,y:h,width:p,height:I}=e;let C=0;switch(s){case Ui.width:{C=p;break}case Ui.height:{C=I;break}case Ui.x:{C=c;break}case Ui.y:{C=h;break}case Ui.minimum:{C=Math.min(I,p);break}case Ui.maximum:{C=Math.max(I,p);break}case Ui.diagonal:{C=Math.sqrt(I*I+p*p);break}}return parseFloat(r)*C+OA(u)}function OA(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}function uc(t){return typeof t=="string"&&t.includes("calc")}const bg="calc(",Ih=bg.length;function lc(t,e){let n=t,r=0;do{let s=n.indexOf(bg,r);if(s===-1)return n;let u=s+Ih,c=1;t:do{switch(n[u]){case"(":{c++;break}case")":{if(c--,c===0)break t;break}case void 0:wg(n)}u++}while(!0);let h=n.slice(s+Ih,u);uc(h)&&(h=lc(h,e));const p=String(zA(h,e));n=n.slice(0,s)+p+n.slice(u+1),r=s+p.length}while(!0)}function cs(t,e){return function(n,r){var s=Ur(n);n=parseFloat(n),s&&(n/=100);var u={};if(isFinite(n)){var c=s||n>=0&&n<=1?n*r[e]:Math.max(n+r[e],0);u[t]=c}return u}}function tu(t,e,n){return function(r,s){var u=Ur(r);r=parseFloat(r),u&&(r/=100);var c;if(isFinite(r)){var h=s[n]();u||r>0&&r<1?c=h[t]+s[e]*r:c=h[t]+r}var p=V();return p[t]=c||0,p}}function Ah(t,e,n){return function(r,s){var u;r==="middle"?u=s[e]/2:r===n?u=s[e]:isFinite(r)?u=r>-1&&r<1?-s[e]*r:-r:Ur(r)?u=s[e]*parseFloat(r)/100:u=0;var c=V();return c[t]=-(s[t]+u),c}}function xg(t,e){var n="joint-shape",r=e&&e.resetOffset;return function(s,u,c){var h=Fe(c),p=h.data(n);if(!p||p.value!==s){var I=t(s);p={value:s,shape:I,shapeBBox:I.bbox()},h.data(n,p)}var C=p.shape.clone(),m=p.shapeBBox.clone(),L=m.origin(),G=u.origin();m.x=G.x,m.y=G.y;var j=u.maxRectScaleToFit(m,G),X=m.width===0||u.width===0?1:j.sx,Q=m.height===0||u.height===0?1:j.sy;return C.scale(X,Q,L),r&&C.translate(-L.x,-L.y),C}}function Ch(t){function e(r){return new Ft(gt.normalizePathData(r))}var n=xg(e,t);return function(r,s,u){var c=n(r,s,u);return{d:c.serialize()}}}function yh(t){var e=xg($e,t);return function(n,r,s){var u=e(n,r,s);return{points:u.serialize()}}}function eu(t,e){var n=new V(1,0);return function(r){var s,u,c=this[t](r);return c?(u=e.rotate?c.vector().vectorAngle(n):0,s=c.start):(s=this.path.start,u=0),u===0?{transform:"translate("+s.x+","+s.y+")"}:{transform:"translate("+s.x+","+s.y+") rotate("+u+")"}}}function wh(t){return function(n,r,s){const u=gt(s);u.attr(t)!==n&&u.attr(t,n)}}function xa(t,e,n){return n.text!==void 0}function no(){return this.model.isLink()}function Ml(t){var e={},n=t.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);var r=t.strokeOpacity;return r===void 0&&(r=t["stroke-opacity"]),r===void 0&&(r=t.opacity),r!==void 0&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),e}function bh(t){const{paper:e}=this;return`url(#${t.type==="pattern"?e.definePattern(t):e.defineGradient(t)})`}const be={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:wh("href")},xlinkHref:{set:wh("xlink:href")},filter:{qualify:Ln,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Ln,set:bh},stroke:{qualify:Ln,set:bh},sourceMarker:{qualify:Ln,set:function(t,e,n,r){return t=qt(Ml(r),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Ln,set:function(t,e,n,r){return t=qt(Ml(r),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Ln,set:function(t,e,n,r){return t=qt(Ml(r),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!Ln(n.textWrap)},set:function(t,e,n,r){var s=Fe(n),u="joint-text",c=s.data(u),h=MA(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:p}=h;uc(p)&&(h.x=lc(p,e));var I=h.fontSize=r["font-size"]||r.fontSize,C=JSON.stringify([t,h]);if(c===void 0||c!==C){I&&n.setAttribute("font-size",I);var m=h.textPath;if(rn(m)){var L=m.selector;if(typeof L=="string"){var G=this.findBySelector(L)[0];G instanceof SVGPathElement&&(h.textPath=qt({"xlink:href":"#"+G.id},m))}}gt(n).text(""+t,h),s.data(u,C)}}},textWrap:{qualify:Ln,set:function(t,e,n,r){var s=t.width||0,u={};Ur(s)?u.width=e.width*parseFloat(s)/100:s<=0?u.width=e.width+s:u.width=s;var c=t.height||0;Ur(c)?u.height=e.height*parseFloat(c)/100:c<=0?u.height=e.height+c:u.height=c;var h,p=t.text;p===void 0&&(p=r.text),p!==void 0?h=mg(""+p,u,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,maxLineCount:t.maxLineCount}):h="",be.text.set.call(this,h,e,n,r)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var r=Fe(n),s="joint-title",u=r.data(s);if(u===void 0||u!==t){r.data(s,t);var c=n.firstChild;if(c&&c.tagName.toUpperCase()==="TITLE")c.textContent=t;else{var h=document.createElementNS(n.namespaceURI,"title");h.textContent=t,n.insertBefore(h,c)}}}},lineHeight:{qualify:xa},textVerticalAnchor:{qualify:xa},textPath:{qualify:xa},annotations:{qualify:xa},eol:{qualify:xa},displayEmpty:{qualify:xa},port:{set:function(t){return t===null||t.id===void 0?t:t.id}},style:{qualify:Ln,set:function(t,e,n){Fe(n).css(t)}},html:{set:function(t,e,n){Fe(n).html(t+"")}},ref:{},refX:{position:tu("x","width","origin")},refY:{position:tu("y","height","origin")},refDx:{position:tu("x","width","corner")},refDy:{position:tu("y","height","corner")},refWidth:{set:cs("width","width")},refHeight:{set:cs("height","height")},refRx:{set:cs("rx","width")},refRy:{set:cs("ry","height")},refRInscribed:{set:function(t){var e=cs(t,"width"),n=cs(t,"height");return function(r,s){var u=s.height>s.width?e:n;return u(r,s)}}("r")},refRCircumscribed:{set:function(t,e){var n=Ur(t);t=parseFloat(t),n&&(t/=100);var r=Math.sqrt(e.height*e.height+e.width*e.width),s;return isFinite(t)&&(n||t>=0&&t<=1?s=t*r:s=Math.max(t+r,0)),{r:s}}},refCx:{set:cs("cx","width")},refCy:{set:cs("cy","height")},xAlignment:{offset:Ah("x","width","right")},yAlignment:{offset:Ah("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:Ch({resetOffset:!0})},refDKeepOffset:{set:Ch({resetOffset:!1})},refPointsResetOffset:{set:yh({resetOffset:!0})},refPointsKeepOffset:{set:yh({resetOffset:!1})},connection:{qualify:no,set:function({stubs:t=0}){let e;if(isFinite(t)&&t!==0){let n;t<0?n=(this.getConnectionLength()+t)/2:n=t;const r=this.getConnection(),s=r.divideAtLength(n),u=r.divideAtLength(-n);s&&u&&(e=`${s[0].serialize()} ${u[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:no,set:eu("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:no,set:eu("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:no,set:eu("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:no,set:eu("getTangentAtRatio",{rotate:!1})}};be["xlink:href"]=be.xlinkHref;["transform","d","points","width","height","cx","cy","r","rx","ry","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{be[t]={qualify:uc,set:function(n,r){return{[t]:lc(n,r)}}}});be.refR=be.refRInscribed;be.refD=be.refDResetOffset;be.refPoints=be.refPointsResetOffset;be.atConnectionLength=be.atConnectionLengthKeepGradient;be.atConnectionRatio=be.atConnectionRatioKeepGradient;be.refX2=be.refX;be.refY2=be.refY;be.refWidth2=be.refWidth;be.refHeight2=be.refHeight;be["ref-x"]=be.refX;be["ref-y"]=be.refY;be["ref-dy"]=be.refDy;be["ref-dx"]=be.refDx;be["ref-width"]=be.refWidth;be["ref-height"]=be.refHeight;be["x-alignment"]=be.xAlignment;be["y-alignment"]=be.yAlignment;const Ng=be,yi=Un.Model.extend({constructor:function(t,e){var n,r=t||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=TA("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=xn(this,"defaults"))&&(r=Pn({},n,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=xn(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,r={};qr(n,function(u,c){const h=e[c];qr(u,function(p,I){rn(p)&&!Array.isArray(p)?qr(p,function(C,m){(!h||!h[I]||!ro(h[I][m],C))&&(r[c]=r[c]||{},(r[c][I]||(r[c][I]={}))[m]=C)}):(!h||!ro(h[I],p))&&(r[c]=r[c]||{},r[c][I]=p)})});const s=_r(Vs(this.attributes,"attrs"));return s.attrs=r,s},initialize:function(t){const e=this.getIdAttribute();(!t||!(e in t))&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return mA()},processPorts:function(){var t=this.ports,e={};qr(this.get("attrs"),function(u,c){u&&u.port&&(u.port.id!==void 0?e[u.port.id]=u.port:e[u.port]={id:u.port})});var n={};if(qr(t,function(u,c){e[c]||(n[c]=!0)}),this.graph&&!fs(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(u){n[u.get("target").port]&&u.remove()});var s=this.graph.getConnectedLinks(this,{outbound:!0});s.forEach(function(u){n[u.get("source").port]&&u.remove()})}this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,t);const s=this.getEmbeddedCells();for(let u=0,c=s.length;u<c;u++){const h=s[u];h&&h.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=t||{};var n=e.maxZIndex(),r;t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1}),r.unshift(this)):r=[this],n=n-r.length+1;var s=e.get("cells"),u=s.indexOf(this)!==s.length-r.length;u||(u=r.some(function(c,h){return c.get("z")!==n+h})),u&&(this.startBatch("to-front"),n=n+r.length,r.forEach(function(c,h){c.set("z",n+h,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=t||{};var n=e.minZIndex(),r;t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1}),r.unshift(this)):r=[this];var s=e.get("cells"),u=s.indexOf(this)!==0;u||(u=r.some(function(c,h){return c.get("z")!==n+h})),u&&(this.startBatch("to-back"),n-=r.length,r.forEach(function(c,h){c.set("z",n+h,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return t===void 0?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const r=qt([],this.get("embeds"));t.forEach(s=>{r[s.isLink()?"unshift":"push"](s.id),s.parent(this.id,e)}),this.set("embeds",La(r),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(r=>r.unset("parent",e)),this.set("embeds",Yl(this.get("embeds"),...t.map(r=>r.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();e.push(r),n.push.apply(n,r.getEmbeddedCells())}}else e=this.getEmbeddedCells(),e.forEach(function(s){e.push.apply(e,s.getEmbeddedCells(t))});else e=Ne(this.get("embeds")).map(this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var n=jn(t)?t:t.id,r=this.parent();if(e=Kr({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if(t=t||{},t.deep)return Ne(yg([this].concat(this.getEmbeddedCells({deep:!0}))));var e=Un.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var r="/",s=jn(t);if(s||Array.isArray(t))if(arguments.length>1){var u,c;s?(u=t,c=u.split("/")):(u=t.join(r),c=t.slice());var h=c[0],p=c.length;if(n=n||{},n.propertyPath=u,n.propertyValue=e,n.propertyPathArray=c,p===1)return this.set(h,e,n);for(var I={},C=I,m=h,L=1;L<p;L++){var G=c[L],j=Number.isFinite(s?Number(G):G);C=C[m]=j?[]:{},m=G}I=Rl(I,c,e,"/");var X=Pn({},this.attributes);n.rewrite&&ph(X,u,"/");var Q=Pn(X,I);return this.set(h,Q[h],n)}else return lo(this.attributes,t,r);return this.set(Pn({},this.attributes,t),e)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),r=n[0];if(r==="attrs"&&(e.dirty=!0),n.length===1)return this.unset(t,e);var s=n.slice(1),u=_r(this.get(r));return ph(u,s,"/"),this.set(r,u,e)},attr:function(t,e,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(t)?r[0]=["attrs"].concat(t):jn(t)?r[0]="attrs/"+t:r[0]={attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/";var s={duration:100,delay:10,timingFunction:wA.linear,valueFunction:Ig.number};n=qt(s,n);var u=0,c,h=function(m){var L,G,j;u=u||m,m-=u,G=m/n.duration,G<1?this._transitionIds[t]=L=_l(h):(G=1,delete this._transitionIds[t]),j=c(n.timingFunction(G)),n.transitionId=L,this.prop(t,j,n),L||this.trigger("transition:end",this,t)}.bind(this);const{_scheduledTransitionIds:p}=this;let I;var C=m=>{p[t]&&(p[t]=Yl(p[t],I),p[t].length===0&&delete p[t]),this.stopPendingTransitions(t,r),c=n.valueFunction(lo(this.attributes,t,r),e),this._transitionIds[t]=_l(m),this.trigger("transition:start",this,t)};return I=setTimeout(C,n.delay,h),p[t]||(p[t]=[]),p[t].push(I),I},getTransitions:function(){return Ul(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(u=>ro(s,u.split(e).slice(0,s.length)))}return r.forEach(s=>{n[s].forEach(c=>clearTimeout(c)),delete n[s]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(t){const s=t.split(e);r=r.filter(u=>ro(s,u.split(e).slice(0,s.length)))}r.forEach(s=>{const u=n[s];Wl(u),delete n[s],this.trigger("transition:end",this,s)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,qt({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,qt({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new V(0,0)},getPointFromConnectedLink:function(){return new V},getBBox:function(){return new Et(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const r=new V(e,n);return t&&r.rotate(this.getBBox().center(),t),r},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,n=Ng;return e&&e[t]||n[t]},define:function(t,e,n,r){n=qt({defaults:oc({type:t},e,this.prototype.defaults)},n);var s=this.extend(n,r);return typeof joint<"u"&&Fi(joint,"shapes")&&Rl(joint.shapes,t,s,"."),s}}),EA=function(t,e,n){if(jn(n)){if(!Fl[n])throw new Error('Unknown wrapper: "'+n+'"');n=Fl[n]}if(!qe(n))throw new Error("Wrapper must be a function.");Ne(e).forEach(function(r){t[r]=n(t[r])})},Fl={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,r=n>0&&e[0]||[],s=n>1&&e[n-1]||{};return Array.isArray(r)||(s instanceof yi?r=e:r instanceof yi&&(e.length>1&&e.pop(),r=e)),s instanceof yi&&(s={}),t.call(this,r,s)}}};function Mg(t,e,n){var r=t.toJSON();return r.angle=e||0,Kr({},n,r)}function fo(t,e,n){return t.map(function(r,s,u){var c=this.pointAt((s+.5)/u.length);return(r.dx||r.dy)&&c.offset(r.dx||0,r.dy||0),Mg(c.round(),0,r)},Fs(e,n))}function Sg(t,e,n,r){var s=e.center(),u=e.width/e.height,c=e.topMiddle(),h=tr.fromRect(e);return t.map(function(p,I,C){var m=n+r(I,C.length),L=c.clone().rotate(s,-m).scale(u,1,s),G=p.compensateRotation?-h.tangentTheta(L):0;return(p.dx||p.dy)&&L.offset(p.dx||0,p.dy||0),p.dr&&L.move(s,p.dr),Mg(L.round(),G,p)})}function Xl(t,e){var n=e.x;jn(n)&&(n=parseFloat(n)/100*t.width);var r=e.y;return jn(r)&&(r=parseFloat(r)/100*t.height),uo(n||0,r||0)}const jA=function(t,e,n){return t.map(Xl.bind(null,e))},ZA=function(t,e,n){return n.fn(t,e,n)},GA=function(t,e,n){var r=Xl(e,n.start||e.origin()),s=Xl(e,n.end||e.corner());return fo(t,r,s)},BA=function(t,e,n){return fo(t,e.origin(),e.bottomLeft())},RA=function(t,e,n){return fo(t,e.topRight(),e.corner())},_A=function(t,e,n){return fo(t,e.origin(),e.topRight())},WA=function(t,e,n){return fo(t,e.bottomLeft(),e.corner())},YA=function(t,e,n){var r=n.startAngle||0,s=n.step||360/t.length;return Sg(t,e,r,function(u){return u*s})},UA=function(t,e,n){var r=n.startAngle||0,s=n.step||20;return Sg(t,e,r,function(u,c){return(u+.5-c/2)*s})},FA=Object.freeze(Object.defineProperty({__proto__:null,absolute:jA,fn:ZA,line:GA,left:BA,right:RA,top:_A,bottom:WA,ellipseSpread:YA,ellipse:UA},Symbol.toStringTag,{value:"Module"}));function gs(t,e){return oc({},t,e,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function Tg(t,e,n,r){r=Kr({},r,{offset:15});var s=e.center().theta(t),u=Dg(e),c,h,p,I,C=r.offset,m=0;s<u[1]||s>u[2]?(p=".3em",c=C,h=0,I="start"):s<u[0]?(p="0",c=0,h=-C,n?(m=-90,I="start"):I="middle"):s<u[3]?(p=".3em",c=-C,h=0,I="end"):(p=".6em",c=0,h=C,n?(m=90,I="start"):I="middle");var L=Math.round;return gs({x:L(c),y:L(h),angle:m,attrs:{".":{y:p,"text-anchor":I}}})}function Dg(t){var e=t.center(),n=e.theta(t.origin()),r=e.theta(t.bottomLeft()),s=e.theta(t.corner()),u=e.theta(t.topRight());return[n,u,s,r]}function Lg(t,e,n,r){var s=e.center().theta(t);r=Kr({},r,{offset:15});var u,c,h,p,I=r.offset,C=0,m=Dg(e);s<m[1]||s>m[2]?(h=".3em",u=-I,c=0,p="end"):s<m[0]?(h=".6em",u=0,c=I,n?(C=90,p="start"):p="middle"):s<m[3]?(h=".3em",u=I,c=0,p="start"):(h="0em",u=0,c=-I,n?(C=-90,p="start"):p="middle");var L=Math.round;return gs({x:L(u),y:L(c),angle:C,attrs:{".":{y:h,"text-anchor":p}}})}function Pg(t,e,n){n=Kr({},n,{offset:20});var r=uo(0,0),s=-t.theta(r),u=s,c=t.clone().move(r,n.offset).difference(t).round(),h=".3em",p;(s+90)%180===0?(p=e?"end":"middle",!e&&s===-270&&(h="0em")):s>-270&&s<-90?(p="start",u=s-180):p="end";var I=Math.round;return gs({x:I(c.x),y:I(c.y),angle:e?u:0,attrs:{".":{y:h,"text-anchor":p}}})}const XA=function(t,e,n){return gs(n,e)},VA=function(t,e,n){return gs(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},HA=function(t,e,n){return gs(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},JA=function(t,e,n){return gs(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},QA=function(t,e,n){return gs(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},KA=function(t,e,n){return Tg(t,e,!0,n)},qA=function(t,e,n){return Tg(t,e,!1,n)},$A=function(t,e,n){return Lg(t,e,!0,n)},tC=function(t,e,n){return Lg(t,e,!1,n)},eC=function(t,e,n){return Pg(t.difference(e.center()),!1,n)},nC=function(t,e,n){return Pg(t.difference(e.center()),!0,n)},rC=Object.freeze(Object.defineProperty({__proto__:null,manual:XA,left:VA,right:HA,top:JA,bottom:QA,outsideOriented:KA,outside:qA,insideOriented:$A,inside:tC,radial:eC,radialOriented:nC},Symbol.toStringTag,{value:"Module"})),kn=yi.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){if(t===void 0)return Ii(this.get("source"));var r,s,u=t instanceof yi;if(u)return r=Ii(e)||{},r.id=t.id,s=n,this.set("source",r,s);var c=!Ln(t);return c?(r=Ii(e)||{},r.x=t.x,r.y=t.y,s=n,this.set("source",r,s)):(r=t,s=e,this.set("source",r,s))},target:function(t,e,n){if(t===void 0)return Ii(this.get("target"));var r,s,u=t instanceof yi;if(u)return r=Ii(e)||{},r.id=t.id,s=n,this.set("target",r,s);var c=!Ln(t);return c?(r=Ii(e)||{},r.x=t.x,r.y=t.y,s=n,this.set("target",r,s)):(r=t,s=e,this.set("target",r,s))},router:function(t,e,n){if(t===void 0){var r=this.get("router");return r?typeof r=="object"?Ii(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var s=typeof t=="object"||typeof t=="function",u=s?t:{name:t,args:e},c=s?e:n;return this.set("router",u,c)},connector:function(t,e,n){if(t===void 0){var r=this.get("connector");return r?typeof r=="object"?Ii(r):r:this.get("smooth")?{name:"smooth"}:null}var s=typeof t=="object"||typeof t=="function",u=s?t:{name:t,args:e},c=s?e:n;return this.set("connector",u,c)},label:function(t,e,n){var r=this.labels();return t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return arguments.length===0?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var r=this.labels(),s=r.length;return t=isFinite(t)&&t!==null?t|0:s,t<0&&(t=s+t+1),r.splice(t,0,e),this.labels(r,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var r=this.vertices();if(t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1)return this.prop(["vertices",t]);var s=this._normalizeVertex(e);return this.prop(["vertices",t],s,n)},vertices:function(t,e){if(arguments.length===0)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],r=0;r<t.length;r++){var s=t[r],u=this._normalizeVertex(s);n.push(u)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),s=r.length;t=isFinite(t)&&t!==null?t|0:s,t<0&&(t=s+t+1);var u=this._normalizeVertex(e);return r.splice(t,0,u),this.vertices(r,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){var e=!Ln(t);return e?{x:t.x,y:t.y}:t},translate:function(t,e,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(r){return{x:(r.x||0)+t,y:(r.y||0)+e}},n)},scale:function(t,e,n,r){return this.applyToPoints(function(s){return V(s).scale(t,e,n).toJSON()},r)},applyToPoints:function(t,e){if(!qe(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:s}=this.attributes;r.id||(n.source=t(r)),s.id||(n.target=t(s));var u=this.vertices();return u.length>0&&(n.vertices=u.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new V(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new V(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(V),this.getTargetPoint()];return new $e(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),s=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?e=r:r.isEmbeddedIn(n)?e=n:e=this.graph.getCommonAncestor(n,r)),s&&(!e||e.id!==s.id)&&s.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,r=e.id,s=n.id;if(!r||!s)return!1;var u=r===s;if(!u&&t.deep&&this.graph){var c=this.getSourceCell(),h=this.getTargetCell();u=c.isEmbeddedIn(h)||h.isEmbeddedIn(c)}return u},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=jn(t)||hr(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}});var kg=function(t){var e=_r(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=FA,this.portLabelLayoutNamespace=rC,this._init(e)};kg.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),r=this.getPortsByGroup(t),s=n.position||{},u=s.name,c=this.portLayoutNamespace;c[u]||(u="left");var h=s.args||{},p=r.map(function(m){return m&&m.position&&m.position.args}),I=c[u](p,e,h),C={ports:r,result:[]};return Ne(I).reduce(function(m,L,G){var j=m.ports[G];return m.result.push({portId:j.id,portTransformation:L,labelTransformation:this._getPortLabelLayout(j,V(L),e),portAttrs:j.attrs,portSize:j.size,labelSize:j.label.size}),m}.bind(this),C),C.result},_getPortLabelLayout:function(t,e,n){var r=this.portLabelLayoutNamespace,s=t.label.position.name||"left";return r[s]?r[s](e,n,t.label.position.args):null},_init:function(t){if(rn(t.groups))for(var e=Object.keys(t.groups),n=0,r=e.length;n<r;n++){var s=e[n];this.groups[s]=this._evaluateGroup(t.groups[s])}for(var u=Ne(t.items),c=0,h=u.length;c<h;c++)this.ports.push(this._evaluatePort(u[c]))},_evaluateGroup:function(t){return Pn(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=qt({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=Pn({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=Pn({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=qt({},n.size,e.size),e},_getZIndex:function(t,e){return hr(e.z)?e.z:hr(t.z)||t.z==="auto"?t.z:"auto"},_createPositionNode:function(t,e){return Pn({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var n={},r;qe(t)?(r="fn",n.fn=t):jn(t)?r=t:t===void 0?r=e?"left":null:Array.isArray(t)?(r="absolute",n.x=t[0],n.y=t[1]):rn(t)&&(r=t.name,qt(n,t.args));var s={args:n};return r&&(s.name=r),s},_getLabel:function(t,e){var n=t.label||{},r=n;return r.position=this._getPosition(n.position,e),r}};const iC={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};Ne(t.items).forEach(function(h){e[h.id]=!0});var n=this.previous("ports")||{},r={};Ne(n.items).forEach(function(h){e[h.id]||(r[h.id]=!0)});var s=this.graph;if(s&&!fs(r)){var u=s.getConnectedLinks(this,{inbound:!0});u.forEach(function(h){r[h.get("target").port]&&h.remove()});var c=s.getConnectedLinks(this,{outbound:!0});c.forEach(function(h){r[h.get("source").port]&&h.remove()})}},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return this.getPortIndex(t)!==-1},getPorts:function(){return _r(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=Ne(this.prop(["ports","items"])).filter(n=>n.group===t);return _r(e)},getPort:function(t){return _r(Ne(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){var e=this._portSettingsData.getGroupPortsMetrics(t,Et(this.size()));return e.reduce(function(n,r){var s=r.portTransformation;return n[r.portId]={x:s.x,y:s.y,angle:s.angle},n},{})},getPortIndex:function(t){var e=rn(t)?t.id:t;return this._isValidPortId(e)?Ne(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!rn(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=qt([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const r=typeof t=="number"?t:this.getPortIndex(t);if(!rn(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const s=qt([],this.prop("ports/items"));return s.splice(r,0,e),this.prop("ports/items",s,n),this},portProp:function(t,e,n,r){var s=this.getPortIndex(t);if(s===-1)throw new Error("Element: unable to find port with id "+t);var u=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?u[0]=["ports","items",s].concat(e):jn(e)?u[0]=["ports/items/",s,"/",e].join(""):(u=["ports/items/"+s],Ln(e)&&(u.push(e),u.push(n))),this.prop.apply(this,u)},_validatePorts:function(){var t=this.get("ports")||{},e=[];t=t||{};var n=Ne(t.items);return n.forEach(function(r){typeof r!="object"&&e.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),La(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return t!=null&&!rn(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",qt([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},r=this.getPortIndex(t);if(r!==-1){const s=qt([],this.prop(["ports","items"]));s.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],s,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,r;if(Array.isArray(t)){if(n=e||{},t.length===0)return this.this;r=qt([],this.prop(["ports","items"])).filter(function(u){return!t.some(function(c){const h=rn(c)?c.id:c;return u.id===h})})}else n=t||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var e;this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new kg(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(u){if(!e.find(function(c){return c.id===u.id}))return u}),s=e.filter(function(u){if(!n.find(function(c){return c.id===u.id}))return u});s.length>0&&this.trigger("ports:remove",this,s),r.length>0&&this.trigger("ports:add",this,r)}}},sC={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,r=e.node.childNodes.length;n<r;n++)t.push(e.node.childNodes[n]);var s=xA(this.model._portSettingsData.getPorts(),"z"),u="auto";Ne(s[u]).forEach(function(C){var m=this._getPortElement(C);e.append(m),t.push(m)},this);for(var c=Object.keys(s),h=0;h<c.length;h++){var p=c[h];if(p!==u){var I=parseInt(p,10);this._appendPorts(s[p],I,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var r=this._getContainerElement(),s=Ne(t).map(this._getPortElement,this);n[e]||e<0?gt(n[Math.max(e,0)]).before(s):r.append(s)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const n=this._portElementsCache[t];if(!n)return null;const r=n.portContentElement.node,s=n.portContentSelectors,[u=null]=this.findBySelector(e,r,s);return u},_updatePorts:function(){this._updatePortGroup(void 0);var t=Object.keys(this.model._portSettingsData.groups);t.forEach(this._updatePortGroup,this)},_removePorts:function(){Ai(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,r,s;var u=gt(this.portContainerMarkup).addClass("joint-port"),c=this._getPortMarkup(t);if(Array.isArray(c)){var h=this.parseDOMJSON(c,u.node),p=h.fragment;p.childNodes.length>1?e=gt("g").append(p):e=gt(p.firstChild),s=h.selectors}else e=gt(c),Array.isArray(e)&&(e=gt("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const I=this._getPortLabelMarkup(t.label);if(Array.isArray(I)){const{fragment:L,selectors:G}=this.parseDOMJSON(I,u.node),j=L.childNodes.length;j>0&&(r=G,n=j===1?gt(L.firstChild):gt("g").append(L))}else n=gt(I),Array.isArray(n)&&(n=gt("g").append(n));var C;if(s&&r){for(var m in r)if(s[m]&&m!==this.selector)throw new Error("ElementView: selectors within port must be unique.");C=qt({},s,r)}else C=s||r;return u.append(e.addClass("joint-port-body")),n&&u.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:u,portLabelElement:n,portSelectors:C,portLabelSelectors:r,portContentElement:e,portContentSelectors:s},u},_updatePortGroup:function(t){for(var e=Et(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),r=0,s=n.length;r<s;r++){var u=n[r],c=u.portId,h=this._portElementsCache[c]||{},p=u.portTransformation;this.applyPortTransform(h.portElement,p),this.updateDOMSubtreeAttributes(h.portElement.node,u.portAttrs,{rootBBox:new Et(u.portSize),selectors:h.portSelectors});var I=u.labelTransformation;I&&h.portLabelElement&&(this.applyPortTransform(h.portLabelElement,I,-p.angle||0),this.updateDOMSubtreeAttributes(h.portLabelElement.node,I.attrs,{rootBBox:new Et(u.labelSize),selectors:h.portLabelSelectors}))}},applyPortTransform:function(t,e,n){var r=gt.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(r,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},on=yi.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),yi.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const r=hr(e);n=(r?n:t)||{};const{parentRelative:s,deep:u,restrictedArea:c}=n;let h;if(s){if(!this.graph)throw new Error("Element must be part of a graph.");const p=this.getParentCell();p&&!p.isLink()&&(h=p.get("position"))}if(r){if(h&&(t+=h.x,e+=h.y),u||c){const{x:p,y:I}=this.get("position");this.translate(t-p,e-I,n)}else this.set("position",{x:t,y:e},n);return this}else{const p=V(this.get("position"));return s?p.difference(h):p}},translate:function(t,e,n){if(t=t||0,e=e||0,t===0&&e===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},s=n.restrictedArea;if(s&&n.translateBy===this.id)if(typeof s=="function"){var u=s.call(this,r.x+t,r.y+e,n);t=u.x-r.x,e=u.y-r.y}else{var c=this.getBBox({deep:!0}),h=r.x-c.x,p=r.y-c.y,I=Math.max(s.x+h,Math.min(s.x+s.width+h-c.width,r.x+t)),C=Math.max(s.y+p,Math.min(s.y+s.height+p-c.height,r.y+e));t=I-r.x,e=C-r.y}var m={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(rn(n.transition)||(n.transition={}),this.transition("position",m,qt({},n.transition,{valueFunction:Ig.object})),Ai(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",m,n),Ai(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var r=this.get("size");return t===void 0?{width:r.width,height:r.height}:(rn(t)&&(n=e,e=hr(t.height)?t.height:r.height,t=hr(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width;break}var s=wi(this.get("angle")||0),u=this.getBBox(),c;if(s){var h={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(h+=Math.floor((s+45)/90),h%=4);var p=u[["bottomLeft","corner","topRight","origin"][h]](),I=V(p).rotate(u.center(),-s),C=Math.sqrt(t*t+e*e)/2,m=h*Math.PI/2;m+=Math.atan(h%2==0?e/t:t/e),m-=gr(s);var L=V.fromPolar(C,m,I);c=V(L).offset(t/-2,e/-2)}else switch(c=u.topLeft(),n.direction){case"top":case"top-right":c.offset(0,u.height-e);break;case"left":case"bottom-left":c.offset(u.width-t,0);break;case"top-left":c.offset(u.width-t,u.height-e);break}this.set("size",{width:t,height:e},n),this.position(c.x,c.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,r){var s=this.getBBox().scale(t,e,n);return this.startBatch("scale",r),this.position(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this},fitEmbeds:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(m=>m.isElement());if(n.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&Ai(n,"fitEmbeds",t);const{left:r,right:s,top:u,bottom:c}=Da(t.padding);let{x:h,y:p,width:I,height:C}=e.getCellsBBox(n);return h-=r,p-=u,I+=r+s,C+=c+u,this.set({position:{x:h,y:p},size:{width:I,height:C}},t),this.stopBatch("fit-embeds"),this},rotate:function(t,e,n,r){if(n){var s=this.getBBox().center(),u=this.get("size"),c=this.get("position");s.rotate(n,this.get("angle")-t);var h=s.x-u.width/2-c.x,p=s.y-u.height/2-c.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(c.x+h,c.y+p,r),this.rotate(t,e,null,r),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,r);return this},angle:function(){return wi(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:r,rotate:s}=t;if(r&&e){const m=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return m.push(this),e.getCellsBBox(m,t)}const{angle:u=0,position:{x:c,y:h},size:{width:p,height:I}}=n,C=new Et(c,h,p,I);return s&&C.rotateAroundCenter(u),C},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),r=n.center(),s=t.get(e);if(!s)return r;var u=s.port;if(!u||!this.hasPort(u))return r;var c=this.portProp(u,["group"]),h=this.getPortsPositions(c),p=new V(h[u]).offset(n.origin()),I=this.angle();return I&&p.rotate(r,-I),p}});qt(on.prototype,iC);const aC=Un.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace=typeof joint<"u"&&Fi(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,r=n.cellNamespace,s=t.type==="link"?kn:lo(r,t.type,".")||on,u=new s(t,e);return e.dry||(u.graph=n.graph),u},comparator:function(t){return t.get("z")||0}}),zg=Un.Model.extend({initialize:function(t,e){e=e||{};var n=new aC([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});Un.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=Un.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return typeof t=="object"?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Vs(r,"cells")),Un.Model.prototype.set.call(this,r,n)},clear:function(t){t=qt({},t,{clear:!0});var e=this.get("cells");if(e.length===0)return this;this.startBatch("clear",t);var n=e.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(t);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof Un.Model?(n=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):n=t,!jn(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof Un.Model?t.has("z")||t.set("z",this.maxZIndex()+1):t.z===void 0&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length===0?this:(t=NA(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e),this)},resetCells:function(t,e){var n=Ne(t).map(function(r){return this._prepareCell(r,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),Ai(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var n=e.indirect,r=e.inbound,s=e.outbound;r===void 0&&s===void 0&&(r=s=!0);var u=[],c={};s&&h(this,t),r&&p(this,t);function h(m,L){if(qr(m.getOutboundEdges(L.id),function(j,X){if(!c[X]){var Q=m.getCell(X);u.push(Q),c[X]=!0,n&&(r&&p(m,Q),s&&h(m,Q))}}.bind(m)),n&&L.isLink()){var G=L.getTargetCell();G&&G.isLink()&&(c[G.id]||(u.push(G),h(m,G)))}}function p(m,L){if(qr(m.getInboundEdges(L.id),function(j,X){if(!c[X]){var Q=m.getCell(X);u.push(Q),c[X]=!0,n&&(r&&p(m,Q),s&&h(m,Q))}}.bind(m)),n&&L.isLink()){var G=L.getSourceCell();G&&G.isLink()&&(c[G.id]||(u.push(G),p(m,G)))}}if(e.deep){var I=t.getEmbeddedCells({deep:!0}),C={};I.forEach(function(m){m.isElement()&&(C[m.id]=!0)}),I.forEach(function(m){m.isLink()||(s&&qr(this.getOutboundEdges(m.id),function(L,G){if(!c[G]){var j=this.getCell(G),{source:X,target:Q}=j.attributes,J=X.id,st=Q.id;if(!e.includeEnclosed&&J&&C[J]&&st&&C[st])return;u.push(this.getCell(G)),c[G]=!0}}.bind(this)),r&&qr(this.getInboundEdges(m.id),function(L,G){if(!c[G]){var j=this.getCell(G),{source:X,target:Q}=j.attributes,J=X.id,st=Q.id;if(!e.includeEnclosed&&J&&C[J]&&st&&C[st])return;u.push(this.getCell(G)),c[G]=!0}}.bind(this)))},this)}return u},getNeighbors:function(t,e){e||(e={});var n=e.inbound,r=e.outbound;n===void 0&&r===void 0&&(n=r=!0);var s=this.getConnectedLinks(t,e).reduce(function(h,p){var{source:I,target:C}=p.attributes,m=p.hasLoop(e);if(n&&Fi(I,"id")&&!h[I.id]){var L=this.getCell(I.id);L.isElement()&&(m||L&&L!==t&&(!e.deep||!L.isEmbeddedIn(t)))&&(h[I.id]=L)}if(r&&Fi(C,"id")&&!h[C.id]){var G=this.getCell(C.id);G.isElement()&&(m||G&&G!==t&&(!e.deep||!G.isEmbeddedIn(t)))&&(h[C.id]=G)}return h}.bind(this),{});if(t.isLink()){if(n){var u=t.getSourceCell();u&&u.isElement()&&!s[u.id]&&(s[u.id]=u)}if(r){var c=t.getTargetCell();c&&c.isElement()&&!s[c.id]&&(s[c.id]=c)}}return Ne(s)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var r=[],s=n.get("parent");s;)r.push(s),s=this.getCell(s).get("parent");return r},this);t=t.sort(function(n,r){return n.length-r.length});var e=Ne(t.shift()).find(function(n){return t.every(function(r){return r.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},qt({},e,{outbound:!0})),n},cloneCells:yg,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],r={},s=[],u=[];return Ne(t).forEach(function(c){if(r[c.id]||(n.push(c),r[c.id]=c,c.isLink()?u.push(c):s.push(c)),e.deep){var h=c.getEmbeddedCells({deep:!0});h.forEach(function(p){r[p.id]||(n.push(p),r[p.id]=p,p.isLink()?u.push(p):s.push(p))})}}),u.forEach(function(c){var{source:h,target:p}=c.attributes;if(h.id&&!r[h.id]){var I=this.getCell(h.id);n.push(I),r[I.id]=I,s.push(I)}if(p.id&&!r[p.id]){var C=this.getCell(p.id);n.push(this.getCell(p.id)),r[C.id]=C,s.push(C)}},this),s.forEach(function(c){var h=this.getConnectedLinks(c,e);h.forEach(function(p){var{source:I,target:C}=p.attributes;!r[p.id]&&I.id&&r[I.id]&&C.id&&r[C.id]&&(n.push(p),r[p.id]=p)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},qt({},e,{inbound:!0})),n},search:function(t,e,n){n=n||{},n.breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const r={},s={},u=[];for(u.push(t),s[t.id]=0;u.length>0;){var c=u.shift();if(r[c.id]||(r[c.id]=!0,e.call(this,c,s[c.id])===!1))continue;const h=this.getNeighbors(c,n);for(let p=0,I=h.length;p<I;p++){const C=h[p];s[C.id]=s[c.id]+1,u.push(C)}}},dfs:function(t,e,n={}){const r={},s={},u=[];for(u.push(t),s[t.id]=0;u.length>0;){const c=u.pop();if(r[c.id]||(r[c.id]=!0,e.call(this,c,s[c.id])===!1))continue;const h=this.getNeighbors(c,n),p=u.length;for(let I=0,C=h.length;I<C;I++){const m=h[I];s[m.id]=s[c.id]+1,u.splice(p,0,m)}}},getSources:function(){var t=[];return qr(this._nodes,function(e,n){(!this._in[n]||fs(this._in[n]))&&t.push(this.getCell(n))}.bind(this)),t},getSinks:function(){var t=[];return qr(this._nodes,function(e,n){(!this._out[n]||fs(this._out[n]))&&t.push(this.getCell(n))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||fs(this._in[t.id])},isSink:function(t){return!this._out[t.id]||fs(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){n=n||{};var r=n.inbound,s=n.outbound;r===void 0&&s===void 0&&(r=s=!0);var u=!1;return this.getConnectedLinks(t,n).forEach(function(c){var{source:h,target:p}=c.attributes;if(r&&Fi(h,"id")&&h.id===e.id||s&&Fi(p,"id")&&p.id===e.id)return u=!0,!1}),u},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){Ai(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){const n=new Et(t),{strict:r=!1}=e,s=r?"containsRect":"intersect";return this.getElements().filter(u=>n[s](u.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){const{searchBy:n="bbox"}=e,r=t.getBBox().rotateAroundCenter(t.angle());return(n==="bbox"?this.findModelsInArea(r):this.findModelsFromPoint(r[n]())).filter(u=>t.id!==u.id&&!u.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return Ne(t).reduce(function(r,s){const u=s.getBBox({rotate:n});return u?r?r.union(u):u:r},null)},translate:function(t,e,n){var r=this.getCells().filter(function(s){return!s.isEmbedded()});return Ai(r,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,r){var s=this.getCellsBBox(n);if(s){var u=Math.max(t/s.width,0),c=Math.max(e/s.height,0);Ai(n,"scale",u,c,s.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",qt({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",qt({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return arguments.length===0?n=Object.keys(e):Array.isArray(t)?n=t:n=[t],n.some(r=>e[r]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:r}=e.attributes;if(n.id&&r.id){var s=e.getSourceCell();if(s){var u=t.getConnectedLinks(s,{outbound:!0}),c=u.filter(function(h){var{source:p,target:I}=h.attributes;return p&&p.id===n.id&&(!p.port||p.port===n.port)&&I&&I.id===r.id&&(!I.port||I.port===r.port)});if(c.length>1)return!1}}return!0},linkPinning:function(t,e){var{source:n,target:r}=e.attributes;return n.id&&r.id}}});EA(zg.prototype,["resetCells","addCells","removeCells"],Fl.cells);const Ws={},Sa=Un.View.extend({options:{},theme:null,themeClassNamePrefix:ti("theme-"),requireSetThemeOverride:!1,defaultTheme:Yr.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=qt({},this.options,t),Un.View.call(this,t)},initialize:function(){Ws[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},renderChildren:function(t){if(t||(t=xn(this,"children")),t){var e=this.svgElement,n=gt.namespace[e?"svg":"xhtml"],r=lu(t,n);(e?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(t,e){for(var n=e;n&&n.nodeType===1;){var r=n.getAttribute(t);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(xn(this,"el"));else{var t=xn(this,"tagName"),e=qt({},xn(this,"attributes")),n=qt({},xn(this,"style"));this.id&&(e.id=xn(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(gt.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof Un.$?t:Un.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=gt(this.el))},_ensureElClassName:function(){var t=xn(this,"className");if(!!t){var e=ti(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){if(t=t||this.theme,!t)return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Ws[this.cid]=null,Un.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var r=this.getEventNamespace();for(var s in e){var u=e[s];typeof u!="function"&&(u=this[u]),u&&Fe(t).on(s+r,n,u.bind(this))}return this},undelegateElementEvents:function(t){return Fe(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=xn(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,r="__"+this.cid+"__";return e===void 0?n?n[r]||{}:{}:(n||(n=t.data={}),n[r]||(n[r]={}),qt(n[r],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&qt({},t[0])||{},n=t[1]&&qt({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},e.render.__render__=r,Un.View.extend.call(this,e,n)}}),xh="dbltap";if(Fe.event&&!(xh in Fe.event.special)){const t=Yr.doubleTapInterval,e=30;Fe.event.special[xh]={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:s,target:u}=n,c=Fe.data(u),h=new Date().getTime(),p="lastTouch"in c?h-c.lastTouch:0;p<t&&p>e?(c.lastTouch=null,n.type=s.origType,s.handler.call(this,n,...r)):c.lastTouch=h}}}const $r={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},oC=Sa.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return ti(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;t=+t,t||(t=0);let r=n[t];if(r)return r;r=n[t]=document.createComment("z-index:"+(t+1));let s=-1/0;for(let u in n)u=+u,u<t&&u>s&&(s=u,t-1);if(s!==-1/0){const u=n[s];e.insertBefore(r,u.nextSibling)}else e.insertBefore(r,e.firstChild);return r},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}});function Sl(t){return t?Array.isArray(t)?t:[t]:[]}const hs=Sa.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,transformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return this.update(t,e),this.mount(),this.transform(),0},findNode(t,e=null){let n;if(typeof e=="string")[n]=t.findBySelector(e);else if(Ln(e)){const r=t.model.isLink(),{label:s=null,port:u,selector:c}=e;r&&s!==null?n=t.findLabelNode(s,c):!r&&u?n=t.findPortNode(u,c):[n]=t.findBySelector(c)}else e&&(n=gt.toNode(e),n instanceof SVGElement||(n=null));return n||null},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:r,transformGroup:s}=this;if(!t||s)return;const{vel:u,paper:c}=e,{layer:h}=r;if(h){const p=this.transformGroup=gt("g").addClass("highlight-transform").append(n);c.getLayerView(h).insertSortedNode(p.node,r.z)}else(!n.parentNode||n.nextSibling)&&u.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;!t||(e?(this.transformGroup=null,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const r=e.getRootTranslateMatrix(),s=e.getRootRotateMatrix(),u=r.multiply(s);t.attr("transform",gt.matrixToTransformString(u))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:r,id:s}=this;if(r)return;const u=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),u?(this.highlight(e,u),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",s,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:r}=this;t&&this.unhighlight(e,t),this.unmount(),r._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){}},{_views:{},highlight:function(t,e,n){const r=this.uniqueId(e,n);this.add(t,e,r,n)},unhighlight:function(t,e,n){const r=this.uniqueId(e,n);this.remove(t,r)},get(t,e=null){const{cid:n}=t,{_views:r}=this,s=r[n];if(e===null){const u=[];if(!s)return u;for(let c in s){const h=s[c];h instanceof this&&u.push(h)}return u}else{if(!s)return null;if(e in s){const u=s[e];if(u instanceof this)return u}return null}},add(t,e,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const s=hs.get(t,n);s&&s.remove();const u=new this(r);return u.id=n,this._addRef(t,n,u),u.requestUpdate(t,e),u},_addRef(t,e,n){const{cid:r}=t,{_views:s}=this;let u=s[r];u||(u=s[r]={}),u[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:r}=this,s=r[n];if(!!s){e&&delete s[e];for(let u in s)return;delete r[n]}},remove(t,e=null){Sl(this.get(t,e)).forEach(n=>{n.remove()})},update(t,e=null,n=!1){Sl(this.get(t,e)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(t,e=null){Sl(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},uniqueId(t,e=""){return gt.ensureId(t)+JSON.stringify(e)}}),Na={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},je=Sa.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,r,s){t.push("type-"+s.slice(0,r+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t={},e={},n=0,r,s,u,c=xn(this,"presentationAttributes");for(var h in c)if(!!c.hasOwnProperty(h)){var p=c[h];for(Array.isArray(p)||(p=[p]),r=0,s=p.length;r<s;r++){u=p[r];var I=t[u];I||(I=t[u]=1<<n++),e[h]|=I}}var C=xn(this,"initFlag");for(Array.isArray(C)||(C=[C]),r=0,s=C.length;r<s;r++)u=C[r],t[u]||(t[u]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)n|=e[t[r]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||so(this),Sa.call(this,t)},initialize:function(){this.setFlags(),Sa.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},onMount(){},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=lu(t),r=n.selectors,s=n.groupSelectors;for(var u in s){if(r[u])throw new Error("dia.CellView: ambiguous group selector");r[u]=s[u]}if(e){var c=this.selector;if(r[c])throw new Error("dia.CellView: ambiguous root selector.");r[c]=e}return{fragment:n.fragment,selectors:r}},can:function(t){var e=qe(this.options.interactive)?this.options.interactive(this):this.options.interactive;return rn(e)&&e[t]!==!1||DA(e)&&e!==!1},findBySelector:function(t,e,n){if(e||(e=this.el),n||(n=this.selectors),!t||t===".")return[e];if(n){var r=n[t];if(r)return Array.isArray(r)?r:[r]}return Yr.useCSSSelectors?Fe(e).find(t).toArray():[]},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix(),s=this.getRootRotateMatrix();return gt.transformRect(e,r.multiply(s).multiply(n))},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix();return gt.transformRect(e,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model,e=t.position(),n=gt.createSVGMatrix().translate(e.x,e.y);return n},getRootRotateMatrix:function(){var t=gt.createSVGMatrix(),e=this.model,n=e.angle();if(n){var r=e.getBBox(),s=r.width/2,u=r.height/2;t=t.translate(s,u).rotate(n).translate(-s,-u)}return t},_notifyHighlight:function(t,e,n={}){const{el:r}=this;let s;if(typeof e=="string"?[s=r]=this.findBySelector(e):[s=r]=this.$(e),n.partial=s!==r,n.type===void 0){let u;switch(!0){case n.embedding:u=Na.EMBEDDING;break;case n.connecting:u=Na.CONNECTING;break;case n.magnetAvailability:u=Na.MAGNET_AVAILABILITY;break;case n.elementAvailability:u=Na.ELEMENT_AVAILABILITY;break;default:u=Na.DEFAULT;break}n.type=u}return this.notify(t,s,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const r=n.getAttribute("magnet"),s=n===e;if((r||s)&&r!=="false")return n;if(s)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return t},getSelector:function(t,e){var n;if(t===this.el)return typeof e=="string"&&(n="> "+e),n;if(t){var r=gt(t).index()+1;n=t.tagName+":nth-child("+r+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var r=this.paper,s=r.model,u=r.getDefaultLink(this,t);return u.set({source:this.getLinkEnd(t,e,n,u,"source"),target:{x:e,y:n}}).addTo(s,{async:!1,ui:!0}),u.findView(r)},getLinkEnd:function(t,...e){var n=this.model,r=n.id,s=this.findAttribute("port",t),u=t.getAttribute("joint-selector"),c={id:r};return u!=null&&(c.magnet=u),s!=null?(c.port=s,!n.hasPort(s)&&!u&&(c.selector=this.getSelector(t))):u==null&&this.el!==t&&(c.selector=this.getSelector(t)),this.customizeLinkEnd(c,t,...e)},customizeLinkEnd:function(t,e,n,r,s,u){const{paper:c}=this,{connectionStrategy:h}=c.options;if(typeof h=="function"){var p=h.call(c,t,this,e,new V(n,r),s,u,c);if(p)return p}return t},getMagnetFromLinkEnd:function(t){var e=this.el,n=t.port,r=t.magnet,s=this.model,u;return n!=null&&s.isElement()&&s.hasPort(n)?u=this.findPortNode(n,r)||e:(r||(r=t.selector),!r&&n!=null&&(r='[port="'+n+'"]'),u=this.findBySelector(r,e,this.selectors)[0]),this.findProxyNode(u,"magnet")},dragLinkStart:function(t,e,n,r){this.model.startBatch("add-link");const s=this.addLinkFromMagnet(e,n,r);s.notifyPointerdown(t,n,r),s.eventData(t,s.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:s})},dragLink:function(t,e,n){var r=this.eventData(t),s=r.linkView;if(s)s.pointermove(t,e,n);else{var u=this.paper,c=u.options.magnetThreshold,h=this.getEventTarget(t),p=r.targetMagnet;if(c==="onleave"){if(p===h||gt(p).contains(h))return}else if(u.eventData(t).mousemoved<=c)return;this.dragLinkStart(t,p,e,n)}},dragLinkEnd:function(t,e,n){var r=this.eventData(t),s=r.linkView;!s||(s.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){fs(e)||(t instanceof SVGElement?gt(t).attr(e):Fe(t).attr(e))},processNodeAttributes:function(t,e){var n,r,s,u,c,h,p,I,C,m=[];for(n in e)!e.hasOwnProperty(n)||(r=e[n],s=this.getAttributeDefinition(n),s&&(!qe(s.qualify)||s.qualify.call(this,r,t,e))?(jn(s.set)&&(h||(h={}),h[s.set]=r),r!==null&&m.push(n,s)):(h||(h={}),h[IA(n)]=r));for(u=0,c=m.length;u<c;u+=2)n=m[u],s=m[u+1],r=e[n],qe(s.set)&&(p||(p={}),p[n]=r),qe(s.position)&&(I||(I={}),I[n]=r),qe(s.offset)&&(C||(C={}),C[n]=r);return{raw:e,normal:h,set:p,position:I,offset:C}},updateRelativeAttributes:function(t,e,n,r){r||(r={});var s,u,c,h=e.raw||{},p=e.normal||{},I=e.set,C=e.position,m=e.offset;for(s in I){u=I[s],c=this.getAttributeDefinition(s);var L=c.set.call(this,u,n.clone(),t,h);rn(L)?qt(p,L):L!==void 0&&(p[s]=L)}if(t instanceof HTMLElement){this.setNodeAttributes(t,p);return}var G=p.transform,j=gt.transformStringToMatrix(G),X=V(j.e,j.f);G&&(p=Vs(p,"transform"),j.e=j.f=0);var Q,J,st;if(C||m){var y=this.getNodeScale(t,r.scalableNode);Q=y.sx,J=y.sy}var M=!1;for(s in C)u=C[s],c=this.getAttributeDefinition(s),st=c.position.call(this,u,n.clone(),t,h),st&&(X.offset(V(st).scale(Q,J)),M||(M=!0));this.setNodeAttributes(t,p);var D=!1;if(m){var d=this.getNodeBoundingRect(t);if(d.width>0&&d.height>0){var B=gt.transformRect(d,j).scale(1/Q,1/J);for(s in m)u=m[s],c=this.getAttributeDefinition(s),st=c.offset.call(this,u,B,t,h),st&&(X.offset(V(st).scale(Q,J)),D||(D=!0))}}(G!==void 0||M||D)&&(X.round(1),j.e=X.x,j.f=X.y,t.setAttribute("transform",gt.matrixToTransformString(j)))},getNodeScale:function(t,e){var n,r;if(e&&e.contains(t)){var s=e.scale();n=1/s.sx,r=1/s.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=gt.ensureId(t),r=e[n];return r||(r=e[n]={}),r},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return e.boundingRect===void 0&&(e.boundingRect=gt(t).getBBox()),new Et(e.boundingRect)},getNodeMatrix:function(t){var e=this.nodeCache(t);if(e.magnetMatrix===void 0){var n=this.rotatableNode||this.el;e.magnetMatrix=gt(t).getTransformToElement(n)}return gt.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return e.geometryShape===void 0&&(e.geometryShape=gt(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,r){var s,u,c,h,p={},I=[];for(var C in t)if(!!t.hasOwnProperty(C)&&(c=t[C],!!Ln(c))){var m=n[C]=this.findBySelector(C,e,r);for(s=0,u=m.length;s<u;s++){var L=m[s];h=gt.ensureId(L);var G=r&&r[C]===L,j=p[h];if(j){j.array||(I.push(h),j.array=!0,j.attributes=[j.attributes],j.selectedLength=[j.selectedLength]);var X=j.attributes,Q=j.selectedLength;if(G)X.unshift(c),Q.unshift(-1);else{var J=Ag(Q,u);X.splice(J,0,c),Q.splice(J,0,u)}}else p[h]={attributes:c,selectedLength:G?-1:u,node:L,array:!1}}}for(s=0,u=I.length;s<u;s++)h=I[s],c=p[h],c.attributes=Pn({},...c.attributes.reverse());return p},getEventTarget:function(t,e={}){const{target:n,type:r,clientX:s=0,clientY:u=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"?document.elementFromPoint(s,u):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=Et()),n.selectors||(n.selectors=this.selectors);var r={},s={},u=[],c=[],h,p,I,C,m,L=n.roAttributes,G=this.findNodesAttributes(L||e,t,r,n.selectors),j=L?this.findNodesAttributes(e,t,r,n.selectors):G;for(var X in G)if(C=G[X],I=C.attributes,p=C.node,m=this.processNodeAttributes(p,I),!m.set&&!m.position&&!m.offset)this.setNodeAttributes(p,m.normal);else{var Q=j[X]&&j[X].attributes,J=Q&&I.ref===void 0?Q.ref:I.ref,st;if(J){if(st=(r[J]||this.findBySelector(J,t,n.selectors))[0],!st)throw new Error('dia.CellView: "'+J+'" reference does not exist.')}else st=null;if(h={node:p,refNode:st,processedAttributes:m,allAttributes:Q},st){var y=c.findIndex(function(Nt){return Nt.refNode===p});y>-1?c.splice(y,0,h):c.push(h)}else u.push(h)}u.push(...c);for(var M,D=0,d=u.length;D<d;D++){h=u[D],p=h.node,st=h.refNode;var B=gt(n.rotatableNode),q=st?gt.ensureId(st):"",et=!!B&&!!st&&B.contains(st),at=s[q];if(!at){var wt=et?B:t;at=s[q]=st?gt(st).getBBox({target:wt}):n.rootBBox}L?(m=this.processNodeAttributes(p,h.allAttributes),this.mergeProcessedAttributes(m,h.processedAttributes)):m=h.processedAttributes;var pt=at;et&&!B.contains(p)&&(M||(M=gt.transformStringToMatrix(B.attr("transform"))),pt=gt.transformRect(at,M)),this.updateRelativeAttributes(p,m,pt,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),qt(t.set,e.set),qt(t.position,e.position),qt(t.offset,e.offset);var n=t.normal&&t.normal.transform;n!==void 0&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return e?t?e.getName()===t:!0:!1},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){hs.remove(this)},updateHighlighters:function(t=!1){hs.update(this,null,t)},transformHighlighters:function(){hs.transform(this)},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:r}=this,{graph:s}=r;s&&(r.startBatch("pointer"),this.eventData(t,{graph:s})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:r}=this.eventData(t);this.notify("cell:pointerup",t,e,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,r){this.notify("cell:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){this.notify(e,t,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e}=this;e.isAsync()&&e.dumpView(this);const n=this.getEventTarget(t,{fromPoint:!0}),r=e.findView(n);r!==this&&(this.mouseleave(t),r&&r.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Highlighting:Na,addPresentationAttributes:function(t){return Pn({},xn(this.prototype,"presentationAttributes"),t,function(e,n){if(!(!e||!n)&&(typeof e=="string"&&(e=[e]),typeof n=="string"&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return La(e.concat(n))})}}),Ee={UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",TOOLS:"TOOLS",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},vn=je.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=je.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){je.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Ee.UPDATE],position:[Ee.TRANSLATE,Ee.TOOLS],size:[Ee.RESIZE,Ee.PORTS,Ee.TOOLS],angle:[Ee.ROTATE,Ee.TOOLS],markup:[Ee.RENDER],ports:[Ee.PORTS]},initFlag:[Ee.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=Yr;this.hasFlag(t,Ee.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(t,Ee.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),r=!0,t=this.removeFlag(t,[Ee.RENDER,Ee.UPDATE,Ee.RESIZE,Ee.TRANSLATE,Ee.ROTATE,Ee.PORTS,Ee.TOOLS]);else{let s=!1;this.hasFlag(t,Ee.RESIZE)&&(this.resize(e),s=!0,t=this.removeFlag(t,[Ee.RESIZE,Ee.UPDATE])),this.hasFlag(t,Ee.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,Ee.UPDATE),s=!0,n&&(t=this.removeFlag(t,Ee.PORTS))),this.hasFlag(t,Ee.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,Ee.TRANSLATE),r=!0),this.hasFlag(t,Ee.ROTATE)&&(this.rotate(),t=this.removeFlag(t,Ee.ROTATE),r=!0),this.hasFlag(t,Ee.PORTS)&&(this._renderPorts(),s=!0,t=this.removeFlag(t,Ee.PORTS)),s&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(t,Ee.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,Ee.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=Yr;n&&this._removePorts();var r=this.model,s=r.attr();this.updateDOMSubtreeAttributes(this.el,s,{rootBBox:new Et(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===s?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=gt(n[this.rotatableSelector])||null,this.scalableNode=gt(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(gt(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),Yr.useCSSSelectors||this._renderPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var n=t.size;return"rotate("+e+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),r=e.size(),s=this.scalableNode,u=!1;s.node.getElementsByTagName("path").length>0&&(u=!0);var c=s.getBBox({recursive:u}),h=r.width/(c.width||1),p=r.height/(c.height||1);s.attr("transform","scale("+h+","+p+")");var I=this.rotatableNode,C=I&&I.attr("transform");if(C){I.attr("transform",C+" rotate("+-n+","+r.width/2+","+r.height/2+")");var m=s.getBBox({target:this.paper.cells});e.set("position",{x:m.x,y:m.y},qt({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,r=(t.paper||this.paper).model,s=t.initialZIndices={},u=e.getEmbeddedCells({deep:!0}),c=r.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...u,...c].forEach(I=>s[I.id]=I.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const h=r.getElements().reduce((I,C)=>Math.max(I,C.attributes.z||0),0);c.forEach(I=>{I.attributes.z<=h&&I.set("z",h+1,{ui:!0})}),e.stopBatch("to-front");const p=e.parent();p?(r.getCell(p).unembed(e,{ui:!0}),t.initialParentId=p):t.initialParentId=null},processEmbedding:function(t={},e,n,r){const s=t.model||this.model,u=t.paper||this.paper,c=u.model,{findParentBy:h,frontParentOnly:p,validateEmbedding:I}=u.options;let C;qe(h)?C=Ne(h.call(c,this,e,n,r)):h==="pointer"?C=Ne(c.findModelsFromPoint({x:n,y:r})):C=c.findModelsUnderElement(s,{searchBy:h}),C=C.filter(G=>G instanceof yi&&s.id!==G.id&&!G.isEmbeddedIn(s)),p&&(C=C.slice(-1));let m=null;const L=t.candidateEmbedView;for(let G=C.length-1;G>=0;G--){const j=C[G];if(L&&L.model.id==j.id){m=L;break}else{const X=j.findView(u);if(!qe(I)||I.call(u,this,X)){m=X;break}}}m&&m!=L&&(this.clearEmbedding(t),t.candidateEmbedView=m.highlight(m.findProxyNode(null,"container"),{embedding:!0})),!m&&L&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:s}=r.options,{initialParentId:u}=t;if(u&&typeof s=="function"&&!s.call(r,this)){this._disallowUnembed(t);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(s=>{s.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,r=e||this.model,u=(t.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{const{initialParentId:c,initialPosition:h,initialZIndices:p}=t;if(h){const{x:C,y:m}=h;r.position(C,m,{deep:!0,ui:!0})}p&&Object.keys(p).forEach(C=>{const m=u.getCell(C);m&&m.set("z",p[C],{ui:!0})});const I=u.getCell(c);I&&I.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findAttribute("port",t);if(r){const s=this.findPortNode(r,n);if(s)return s}else{const[s]=this.findBySelector(n);if(s)return s}}return t},notifyPointerdown(t,e,n){je.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){je.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),je.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){je.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){je.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){je.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.isPropagationStopped(t)||(this.notifyPointerdown(t,e,n),this.dragStart(t,e,n))},pointermove:function(t,e,n){var r=this.eventData(t);switch(r.action){case"magnet":this.dragMagnet(t,e,n);break;case"move":(r.delegatedView||this).drag(t,e,n);default:this.notifyPointermove(t,e,n);break}this.eventData(t,r)},pointerup:function(t,e,n){var r=this.eventData(t);switch(r.action){case"magnet":this.dragMagnetEnd(t,e,n);break;case"move":(r.delegatedView||this).dragEnd(t,e,n);default:this.notifyPointerup(t,e,n)}var s=r.targetMagnet;s&&this.magnetpointerclick(t,s,e,n),this.checkMouseleave(t)},mouseover:function(t){je.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){je.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){je.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){je.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,r){je.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,r)},onmagnet:function(t,e,n){this.dragMagnetStart(t,e,n)},magnetpointerdblclick:function(t,e,n,r){this.notify("element:magnet:pointerdblclick",t,e,n,r)},magnetcontextmenu:function(t,e,n,r){this.notify("element:magnet:contextmenu",t,e,n,r)},dragStart:function(t,e,n){var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(t,{action:"move",delegatedView:r});const s=r.model.position();r.eventData(t,{initialPosition:s,pointerOffset:s.difference(e,n),restrictedArea:this.paper.getRestrictedArea(r,e,n)})},dragMagnetStart:function(t,e,n){if(!!this.can("addLinkFromMagnet")){var r=t.currentTarget,s=this.paper;this.eventData(t,{targetMagnet:r}),t.stopPropagation(),s.options.validateMagnet(this,r,t)?(s.options.magnetThreshold<=0&&this.dragLinkStart(t,r,e,n),this.eventData(t,{action:"magnet"}),this.stopPropagation(t)):this.pointerdown(t,e,n),s.delegateDragEvents(this,t.data)}},drag:function(t,e,n){var r=this.paper,s=r.options.gridSize,u=this.model,c=this.eventData(t),{pointerOffset:h,restrictedArea:p,embedding:I}=c,C=Xs(e+h.x,s),m=Xs(n+h.y,s);u.position(C,m,{restrictedArea:p,deep:!0,ui:!0}),r.options.embeddingMode&&(I||(this.prepareEmbedding(c),I=!0),this.processEmbedding(c,t,e,n)),this.eventData(t,{embedding:I})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var r=this.eventData(t);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,r){var s=this.paper;s.eventData(t).mousemoved>s.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,r)}},{Flags:Ee});qt(vn.prototype,sC);const uC=function(t,e,n){return t},lC=function(t,e,n){var r=e.side||"bottom",s=Da(e.padding||40),u=n.sourceBBox,c=n.targetBBox,h=u.center(),p=c.center(),I,C,m;switch(r){case"bottom":m=1,I="y",C="height";break;case"top":m=-1,I="y",C="height";break;case"left":m=-1,I="x",C="width";break;case"right":m=1,I="x",C="width";break;default:throw new Error("Router: invalid side")}return h[I]+=m*(u[C]/2+s[r]),p[I]+=m*(c[C]/2+s[r]),m*(h[I]-p[I])>0?p[I]=h[I]:h[I]=p[I],[h].concat(t,p)};var cC={N:"S",S:"N",E:"W",W:"E"},fC={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function cu(t,e,n){var r=new V(t.x,e.y);return n.containsPoint(r)&&(r=new V(e.x,t.y)),r}function Vl(t,e){return t[e==="W"||e==="E"?"width":"height"]}function er(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function nu(t){return new Et(t.x,t.y,0,0)}function fu(t){var e=Da(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function Og(t,e){return t.sourceBBox.clone().moveAndExpand(fu(e))}function Eg(t,e){return t.targetBBox.clone().moveAndExpand(fu(e))}function hC(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=Og(t,e);return n.center()}function gC(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Eg(t,e);return n.center()}function jg(t,e,n){var r=new V(t.x,e.y),s=new V(e.x,t.y),u=er(t,r),c=er(t,s),h=cC[n],p=u===n||u!==h&&(c===h||c!==n)?r:s;return{points:[p],direction:er(p,e)}}function au(t,e,n){var r=cu(t,e,n);return{points:[r],direction:er(r,e)}}function dC(t,e,n,r){var s={},u=[new V(t.x,e.y),new V(e.x,t.y)],c=u.filter(function(m){return!n.containsPoint(m)}),h=c.filter(function(m){return er(m,t)!==r}),p;if(h.length>0)p=h.filter(function(m){return er(t,m)===r}).pop(),p=p||h[0],s.points=[p],s.direction=er(p,e);else{p=Cg(u,c)[0];var I=new V(e).move(p,-Vl(n,r)/2),C=cu(I,t,n);s.points=[C,I],s.direction=er(I,e)}return s}function pC(t,e,n,r){var s=au(e,t,r),u=s.points[0];if(n.containsPoint(u)){s=au(t,e,n);var c=s.points[0];if(r.containsPoint(c)){var h=new V(t).move(c,-Vl(n,er(t,c))/2),p=new V(e).move(u,-Vl(r,er(e,u))/2),I=new Zt(h,p).midpoint(),C=au(t,I,n),m=jg(I,e,C.direction);s.points=[C.points[0],m.points[0]],s.direction=m.direction}}return s}function Tl(t,e,n,r,s){var u={},c=n.union(r).inflate(1),h=c.center().distance(e)>c.center().distance(t),p=h?e:t,I=h?t:e,C,m,L;return s?(C=V.fromPolar(c.width+c.height,fC[s],p),C=c.pointNearestToPoint(C).move(C,-1)):C=c.pointNearestToPoint(p).move(p,1),m=cu(C,I,c),C.round().equals(m.round())?(m=V.fromPolar(c.width+c.height,gr(C.theta(p))+Math.PI/2,I),m=c.pointNearestToPoint(m).move(I,1).round(),L=cu(C,m,c),u.points=h?[m,L,C]:[C,L,m]):u.points=h?[m,C]:[C,m],u.direction=er(h?C:m,e),u}function Hl(t,e,n){var r=Og(n,e),s=Eg(n,e),u=hC(n,e),c=gC(n,e);r=r.union(nu(u)),s=s.union(nu(c)),t=Ne(t).map(V),t.unshift(u),t.push(c);for(var h,p=[],I=0,C=t.length-1;I<C;I++){var m=null,L=t[I],G=t[I+1],j=!!er(L,G);if(I===0)I+1===C?r.intersect(s.clone().inflate(1))?m=Tl(L,G,r,s):j||(m=pC(L,G,r,s)):r.containsPoint(G)?m=Tl(L,G,r,nu(G).moveAndExpand(fu(e))):j||(m=au(L,G,r));else if(I+1===C){var X=j&&er(G,L)===h;s.containsPoint(L)||X?m=Tl(L,G,nu(L).moveAndExpand(fu(e)),s,h):j||(m=dC(L,G,s,h))}else j||(m=jg(L,G,h));m?(Array.prototype.push.apply(p,m.points),h=m.direction):h=er(L,G),I+1<C&&p.push(G)}return p}var Zg={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!qe(Hl))throw new Error("Manhattan requires the orthogonal router as default fallback.");return Hl(t,qt({},Zg,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function cc(t){this.map={},this.options=t,this.mapGridSize=100}cc.prototype.build=function(t,e){var n=this.options,r=Ne(n.excludeEnds).reduce(function(p,I){var C=e.get(I);if(C){var m=t.getCell(C.id);m&&p.push(m)}return p},[]),s=[],u=t.getCell(e.get("source").id);u&&(s=Ul(s,u.getAncestors().map(function(p){return p.id})));var c=t.getCell(e.get("target").id);c&&(s=Ul(s,c.getAncestors().map(function(p){return p.id})));var h=this.mapGridSize;return t.getElements().reduce(function(p,I){var C=Ne(n.excludeTypes).includes(I.get("type")),m=r.find(function(M){return M.id===I.id}),L=s.includes(I.id),G=C||m||L;if(!G)for(var j=I.getBBox().moveAndExpand(n.paddingBox),X=j.origin().snapToGrid(h),Q=j.corner().snapToGrid(h),J=X.x;J<=Q.x;J+=h)for(var st=X.y;st<=Q.y;st+=h){var y=J+"@"+st;p[y]=p[y]||[],p[y].push(j)}return p},this.map),this};cc.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return Ne(this.map[e]).every(function(n){return!n.containsPoint(t)})};function Js(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Js.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=Ag(this.items,t,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,t)};Js.prototype.remove=function(t){this.hash[t]=this.CLOSE};Js.prototype.isOpen=function(t){return this.hash[t]===this.OPEN};Js.prototype.isClose=function(t){return this.hash[t]===this.CLOSE};Js.prototype.isEmpty=function(){return this.items.length===0};Js.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};function Gg(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Bg(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function Rg(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=Gg(t,e);return n.center()}function vC(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Bg(t,e);return n.center()}function Dl(t,e,n,r,s){var u=360/n,c=t.theta(mC(t,e,r,s)),h=wi(c+u/2);return u*Math.floor(h/u)}function mC(t,e,n,r){var s=r.step,u=e.x-t.x,c=e.y-t.y,h=u/n.x,p=c/n.y,I=h*s,C=p*s;return new V(t.x+I,t.y+C)}function Nh(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function IC(t,e,n){var r=n.step;Ne(n.directions).forEach(function(s){s.gridOffsetX=s.offsetX/r*e.x,s.gridOffsetY=s.offsetY/r*e.y})}function AC(t,e,n){return{source:e.clone(),x:Mh(n.x-e.x,t),y:Mh(n.y-e.y,t)}}function Mh(t,e){if(!t)return e;var n=Math.abs(t),r=Math.round(n/e);if(!r)return n;var s=r*e,u=n-s,c=u/r;return e+c}function CC(t,e){var n=e.source,r=Xs(t.x-n.x,e.x)+n.x,s=Xs(t.y-n.y,e.y)+n.y;return new V(r,s)}function io(t,e){return t.round(e)}function ou(t,e,n){return io(CC(t.clone(),e),n)}function ao(t){return t.clone().toString()}function Ll(t){return new V(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function yC(t,e,n,r,s,u,c){for(var h=[],p=Ll(s.difference(n)),I=ao(n),C=t[I],m;C;){m=e[I];var L=Ll(m.difference(C));L.equals(p)||(h.unshift(m),p=L),I=ao(C),C=t[I]}var G=e[I],j=Ll(G.difference(r));return j.equals(p)||h.unshift(G),h}function Sh(t,e){for(var n=1/0,r=0,s=e.length;r<s;r++){var u=t.manhattanDistance(e[r]);u<n&&(n=u)}return n}function Th(t,e,n,r,s){var u=s.precision,c=s.directionMap,h=t.difference(e.center()),p=rn(c)?Object.keys(c):[],I=Ne(n),C=p.reduce(function(m,L){if(I.includes(L)){for(var G=c[L],j=new V(t.x+G.x*(Math.abs(h.x)+e.width),t.y+G.y*(Math.abs(h.y)+e.height)),X=new Zt(t,j),Q=X.intersect(e)||[],J=Q.length,st,y=null,M=0;M<J;M++){var D=Q[M],d=t.squaredDistance(D);(st===void 0||d>st)&&(st=d,y=D)}if(y){var B=ou(y,r,u);e.containsPoint(B)&&(B=ou(B.offset(G.x*r.x,G.y*r.y),r,u)),m.push(B)}}return m},[]);return e.containsPoint(t)||C.push(ou(t,r,u)),C}function wC(t,e,n,r){var s=r.precision,u,c;t instanceof Et?u=io(Rg(this,r).clone(),s):u=io(t.clone(),s),e instanceof Et?c=io(vC(this,r).clone(),s):c=io(e.clone(),s);var h=AC(r.step,u,c),p,I,C,m;if(t instanceof Et?(p=u,C=Th(p,t,r.startDirections,h,r)):(p=u,C=[p]),e instanceof Et?(I=c,m=Th(c,e,r.endDirections,h,r)):(I=c,m=[I]),C=C.filter(ie=>!n(ie)),m=m.filter(ie=>!n(ie)),C.length>0&&m.length>0){for(var L=new Js,G={},j={},X={},Q=0,J=C.length;Q<J;Q++){var st=C[Q],y=ao(st);L.add(y,Sh(st,m)),G[y]=st,X[y]=0}var M=r.previousDirectionAngle,D=M===void 0,d,B,q=r.directions;IC(q,h,r);for(var et=q.length,at=Ne(m).reduce(function(ie,Bt){var xt=ao(Bt);return ie.push(xt),ie},[]),wt=r.maximumLoops;!L.isEmpty()&&wt>0;){var pt=L.pop(),Nt=G[pt],St=j[pt],Dt=X[pt],_t=St===void 0,fe=Nt.equals(p),ee;_t?D?fe?ee=null:ee=Dl(p,Nt,et,h,r):ee=M:ee=Dl(St,Nt,et,h,r);var Se=C.length===m.length;if(Se){for(var Lt=0;Lt<C.length;Lt++)if(!C[Lt].equals(m[Lt])){Se=!1;break}}var zt=_t&&Se;if(!zt&&at.indexOf(pt)>=0)return r.previousDirectionAngle=ee,yC(j,G,Nt,p,I);for(Q=0;Q<et;Q++){d=q[Q];var Wt=d.angle;if(B=Nh(ee,Wt),!(!(D&&fe)&&B>r.maxAllowedDirectionChange)){var Gt=ou(Nt.clone().offset(d.gridOffsetX,d.gridOffsetY),h,s),re=ao(Gt);if(!(L.isClose(re)||n(Gt))){if(at.indexOf(re)>=0){var ce=Gt.equals(I);if(!ce){var he=Dl(Gt,I,et,h,r),Yt=Nh(Wt,he);if(Yt>r.maxAllowedDirectionChange)continue}}var Ie=d.cost,Vt=fe?0:r.penalties[B],Kt=Dt+Ie+Vt;(!L.isOpen(re)||Kt<X[re])&&(G[re]=Gt,j[re]=Nt,X[re]=Kt,L.add(re,Kt+Sh(Gt,m)))}}}wt--}}return r.fallbackRoute.call(this,p,I,r)}function bC(t){if(t.directions=xn(t,"directions"),t.penalties=xn(t,"penalties"),t.paddingBox=xn(t,"paddingBox"),t.padding=xn(t,"padding"),t.padding){var e=Da(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}Ne(t.directions).forEach(function(n){var r=new V(0,0),s=new V(n.offsetX,n.offsetY);n.angle=wi(r.theta(s))})}function xC(t,e,n){bC(e),n.options.perpendicular=!!e.perpendicular;var r=Gg(n,e),s=Bg(n,e),u=Rg(n,e);let c;if(typeof e.isPointObstacle=="function")c=e.isPointObstacle;else{const y=new cc(e);y.build(n.paper.model,n.model),c=M=>!y.isPointAccessible(M)}for(var h=Ne(t).map(V),p=[],I=u,C,m,L=0,G=h.length;L<=G;L++){var j=null;if(m=C||r,C=h[L],!C){C=s;var X=!n.model.get("source").id||!n.model.get("target").id;if(X&&qe(e.draggingRoute)){var Q=m===r?u:m,J=C.origin();j=e.draggingRoute.call(n,Q,J,e)}}if(j=j||wC.call(n,m,C,c,e),j===null)return e.fallbackRouter(t,e,n);var st=j[0];st&&st.equals(I)&&j.shift(),I=j[j.length-1]||I,Array.prototype.push.apply(p,j)}return p}const Jl=function(t,e,n){return xC(t,qt({},Zg,e),n)};var NC={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var r=t.theta(e),s=[],u={x:e.x,y:t.y},c={x:t.x,y:e.y};if(r%180>90){var h=u;u=c,c=h}var p=r%90<45?u:c,I=new Zt(t,p),C=90*Math.ceil(r/90),m=V.fromPolar(I.squaredLength(),gr(C+135),p),L=new Zt(e,m),G=I.intersection(L),j=G||e,X=G?j:t,Q=360/n.directions.length,J=X.theta(e),st=wi(J+Q/2),y=Q*Math.floor(st/Q);return n.previousDirectionAngle=y,j&&s.push(j.round()),s.push(e),s}};const MC=function(t,e,n){if(!qe(Jl))throw new Error("Metro requires the manhattan router.");return Jl(t,qt({},NC,e),n)},SC=Object.freeze(Object.defineProperty({__proto__:null,normal:uC,oneSide:lC,orthogonal:Hl,manhattan:Jl,metro:MC},Symbol.toStringTag,{value:"Module"}));var TC=5,Dh=["arc","gap","cubic"],DC=0,Lh=1,LC=["smooth"],ru=1/3,iu=2/3;function Pl(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(s,u,c){var h=r[c+1];return h!=null&&(s[c]=Fs(u,h)),s},[])}function PC(t){var e=t.paper,n=e._jumpOverUpdateList;if(n==null){n=e._jumpOverUpdateList=[];var r=e.model;r.on("batch:stop",function(){this.hasActiveBatch()||kC(e)}),r.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}function kC(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const r=e[n],s=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(s)}}function zC(t,e){return Ne(e).reduce(function(n,r){var s=t.intersection(r);return s&&n.push(s),n},[])}function Ph(t,e){return Fs(t,e).squaredLength()}function OC(t,e,n){return e.reduce(function(r,s,u){if(s.skip===!0)return r;var c=r.pop()||t,h=uo(s).move(c.start,-n),p=uo(s).move(c.start,+n),I=e[u+1];if(I!=null){var C=p.distance(I);C<=n&&(p=I.move(c.start,C),I.skip=!0)}else{var m=h.distance(c.end);if(m<n*2+Lh)return r.push(c),r}var L=p.distance(c.start);if(L<n*2+Lh)return r.push(c),r;var G=Fs(h,p);return G.isJump=!0,r.push(Fs(c.start,h),G,Fs(p,c.end)),r},[])}function kh(t,e,n,r){var s=new Ft,u;return u=Ft.createSegment("M",t[0].start),s.appendSegment(u),Ne(t).forEach(function(c,h){if(c.isJump){var p,I,C,m;if(n==="arc"){p=-90,I=c.start.difference(c.end);var L=Number(I.x<0||I.x===0&&I.y<0);L&&(p+=180);var G=c.midpoint(),j=new Zt(G,c.end).rotate(G,p),X;X=new Zt(c.start,G),C=X.pointAt(2/3).rotate(c.start,p),m=j.pointAt(1/3).rotate(j.end,-p),u=Ft.createSegment("C",C,m,j.end),s.appendSegment(u),X=new Zt(G,c.end),C=j.pointAt(1/3).rotate(j.end,p),m=X.pointAt(1/3).rotate(c.end,-p),u=Ft.createSegment("C",C,m,c.end),s.appendSegment(u)}else if(n==="gap")u=Ft.createSegment("M",c.end),s.appendSegment(u);else if(n==="cubic"){p=c.start.theta(c.end);var Q=e*.6,J=e*1.35;I=c.start.difference(c.end),L=Number(I.x<0||I.x===0&&I.y<0),L&&(J*=-1),C=V(c.start.x+Q,c.start.y+J).rotate(c.start,p),m=V(c.end.x-Q,c.end.y+J).rotate(c.end,p),u=Ft.createSegment("C",C,m,c.end),s.appendSegment(u)}}else{var st=t[h+1];r==0||!st||st.isJump?(u=Ft.createSegment("L",c.end),s.appendSegment(u)):EC(r,s,c.end,c.start,st.end)}}),s}function EC(t,e,n,r,s){var u=n.distance(r)/2,c=n.distance(s)/2,h=-Math.min(t,u),p=-Math.min(t,c),I=n.clone().move(r,h).round(),C=n.clone().move(s,p).round(),m=new V(ru*I.x+iu*n.x,iu*n.y+ru*I.y),L=new V(ru*C.x+iu*n.x,iu*n.y+ru*C.y),G;G=Ft.createSegment("L",I),e.appendSegment(G),G=Ft.createSegment("C",m,L,C),e.appendSegment(G)}const jC=function(t,e,n,r){PC(this);var s=r.raw,u=r.size||TC,c=r.jump&&(""+r.jump).toLowerCase(),h=r.radius||DC,p=r.ignoreConnectors||LC;Dh.indexOf(c)===-1&&(c=Dh[0]);var I=this.paper,C=I.model,m=C.getLinks();if(m.length===1)return kh(Pl(t,e,n),u,c,h);var L=this.model,G=m.indexOf(L),j=I.options.defaultConnector||{},X=m.filter(function(D,d){var B=D.get("connector")||j;return Ne(p).includes(B.name)?!1:d>G?B.name!=="jumpover":!0}),Q=X.map(function(D){return I.findViewByModel(D)}),J=Pl(t,e,n),st=Q.map(function(D){return D==null?[]:D===this?J:Pl(D.sourcePoint,D.targetPoint,D.route)},this),y=J.reduce(function(D,d){var B=X.reduce(function(q,et,at){if(et!==L){var wt=zC(d,st[at]);q.push.apply(q,wt)}return q},[]).sort(function(q,et){return Ph(d.start,q)-Ph(d.start,et)});return B.length>0?D.push.apply(D,OC(d,B,u)):D.push(d),D},[]),M=kh(y,u,c,h);return s?M:M.serialize()},ZC=function(t,e,n,r){var s=r&&r.raw,u=[t].concat(n).concat([e]),c=new $e(u),h=new Ft(c);return s?h:h.serialize()},GC=function(t,e,n,r){r||(r={});var s=r.radius||10,u=r.raw,c=new Ft,h;h=Ft.createSegment("M",t),c.appendSegment(h);for(var p=1/3,I=2/3,C,m,L,G,j,X,Q,J,st,y,M,D=0,d=n.length;D<d;D++)C=new V(n[D]),m=n[D-1]||t,L=n[D+1]||e,G=j||C.distance(m)/2,j=C.distance(L)/2,X=-Math.min(s,G),Q=-Math.min(s,j),J=C.clone().move(m,X).round(),st=C.clone().move(L,Q).round(),y=new V(p*J.x+I*C.x,I*C.y+p*J.y),M=new V(p*st.x+I*C.x,I*C.y+p*st.y),h=Ft.createSegment("L",J),c.appendSegment(h),h=Ft.createSegment("C",y,M,st),c.appendSegment(h);return h=Ft.createSegment("L",e),c.appendSegment(h),u?c:c.serialize()},BC=function(t,e,n,r){var s=r&&r.raw,u;if(n&&n.length!==0){var c=[t].concat(n).concat([e]),h=Ue.throughPoints(c);u=new Ft(h)}else{u=new Ft;var p;if(p=Ft.createSegment("M",t),u.appendSegment(p),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var I=(t.x+e.x)/2;p=Ft.createSegment("C",I,t.y,I,e.y,e.x,e.y),u.appendSegment(p)}else{var C=(t.y+e.y)/2;p=Ft.createSegment("C",t.x,C,e.x,C,e.x,e.y),u.appendSegment(p)}}return s?u:u.serialize()},Wr={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},qn={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},fc=function(t,e,n=[],r={},s){const u=Boolean(r.raw),{direction:c=Wr.AUTO,precision:h=3}=r,p={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new V(r.sourceTangent):null,targetTangent:r.targetTangent?new V(r.targetTangent):null};typeof r.sourceDirection=="string"?p.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?p.sourceDirection=new V(1,0).rotate(null,r.sourceDirection):p.sourceDirection=r.sourceDirection?new V(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?p.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?p.targetDirection=new V(1,0).rotate(null,r.targetDirection):p.targetDirection=r.targetDirection?new V(r.targetDirection).normalize():null;const I=[t,...n.map(X=>new V(X)),e];let C;if(p.sourceTangent)C=p.sourceTangent;else{const X=UC(s,I,c,p),Q=I[0].distance(I[1])*p.coeff,J=I[1].difference(I[0]).normalize(),st=Ql(X,J);if(st>Math.PI/4){const y=Q+(st-Math.PI/4)*p.angleTangentCoefficient;C=X.clone().scale(y,y)}else C=X.clone().scale(Q,Q)}let m;if(p.targetTangent)m=p.targetTangent;else{const X=FC(s,I,c,p),Q=I.length-1,J=I[Q-1].distance(I[Q])*p.coeff,st=I[Q-1].difference(I[Q]).normalize(),y=Ql(X,st);if(y>Math.PI/4){const M=J+(y-Math.PI/4)*p.angleTangentCoefficient;m=X.clone().scale(M,M)}else m=X.clone().scale(J,J)}const G=VC(I,C,m,p).map(X=>HC(X,p)),j=new Ft(G).round(h);return u?j:j.serialize()};fc.Directions=Wr;fc.TangentDirections=qn;function RC(t,e,n){const{sourceBBox:r}=t;let s;switch(!r.width||!r.height?r.x>e[1].x?s="right":s="left":s=r.sideNearestToPoint(e[0]),s){case"left":return new V(-1,0);case"right":default:return new V(1,0)}}function _C(t,e,n){const{targetBBox:r}=t;let s;switch(!r.width||!r.height?r.x>e[e.length-2].x?s="left":s="right":s=r.sideNearestToPoint(e[e.length-1]),s){case"left":return new V(-1,0);case"right":default:return new V(1,0)}}function WC(t,e,n){const{sourceBBox:r}=t;let s;switch(!r.width||!r.height?r.y>e[1].y?s="bottom":s="top":s=r.sideNearestToPoint(e[0]),s){case"top":return new V(0,-1);case"bottom":default:return new V(0,1)}}function YC(t,e,n){const{targetBBox:r}=t;let s;switch(!r.width||!r.height?r.y>e[e.length-2].y?s="top":s="bottom":s=r.sideNearestToPoint(e[e.length-1]),s){case"top":return new V(0,-1);case"bottom":default:return new V(0,1)}}function zh(t,e,n){const{sourceBBox:r}=t;let s;switch(!r.width||!r.height?s=r.sideNearestToPoint(e[1]):s=r.sideNearestToPoint(e[0]),s){case"top":return new V(0,-1);case"bottom":return new V(0,1);case"right":return new V(1,0);case"left":return new V(-1,0)}}function Oh(t,e,n){const{targetBBox:r}=t;let s;switch(!r.width||!r.height?s=r.sideNearestToPoint(e[e.length-2]):s=r.sideNearestToPoint(e[e.length-1]),s){case"top":return new V(0,-1);case"bottom":return new V(0,1);case"right":return new V(1,0);case"left":return new V(-1,0)}}function Eh(t,e,n){return e[1].difference(e[0]).normalize()}function jh(t,e,n){const r=e.length-1;return e[r-1].difference(e[r]).normalize()}function Zh(t,e,n){const{sourceBBox:r}=t,s=r.center();return e[0].difference(s).normalize()}function Gh(t,e,n){const{targetBBox:r}=t,s=r.center();return e[e.length-1].difference(s).normalize()}function UC(t,e,n,r){if(r.sourceDirection)switch(r.sourceDirection){case qn.UP:return new V(0,-1);case qn.DOWN:return new V(0,1);case qn.LEFT:return new V(-1,0);case qn.RIGHT:return new V(1,0);case qn.AUTO:return zh(t,e);case qn.CLOSEST_POINT:return Eh(t,e);case qn.OUTWARDS:return Zh(t,e);default:return r.sourceDirection}switch(n){case Wr.HORIZONTAL:return RC(t,e);case Wr.VERTICAL:return WC(t,e);case Wr.CLOSEST_POINT:return Eh(t,e);case Wr.OUTWARDS:return Zh(t,e);case Wr.AUTO:default:return zh(t,e)}}function FC(t,e,n,r){if(r.targetDirection)switch(r.targetDirection){case qn.UP:return new V(0,-1);case qn.DOWN:return new V(0,1);case qn.LEFT:return new V(-1,0);case qn.RIGHT:return new V(0,1);case qn.AUTO:return Oh(t,e);case qn.CLOSEST_POINT:return jh(t,e);case qn.OUTWARDS:return Gh(t,e);default:return r.targetDirection}switch(n){case Wr.HORIZONTAL:return _C(t,e);case Wr.VERTICAL:return YC(t,e);case Wr.CLOSEST_POINT:return jh(t,e);case Wr.OUTWARDS:return Gh(t,e);case Wr.AUTO:default:return Oh(t,e)}}function XC(t,e){const n=Math.cos(e),r=Math.sin(e),s=n*t.x-r*t.y,u=r*t.x+n*t.y;t.x=s,t.y=u}function Ql(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function Bh(t,e){return t.x*e.y-t.y*e.x}function VC(t,e,n,r){const{tau:s,coeff:u}=r,c=[],h=[],p=[],I=t.length-1;for(let C=0;C<I;C++)c[C]=t[C].distance(t[C+1]);h[0]=e,h[I]=n;for(let C=1;C<I;C++){let m,L;C===1?m=t[C-1].clone().offset(h[C-1].x,h[C-1].y):m=t[C-1].clone(),C===I-1?L=t[C+1].clone().offset(h[C+1].x,h[C+1].y):L=t[C+1].clone();const G=m.difference(t[C]).normalize(),j=L.difference(t[C]).normalize(),X=Ql(G,j);let Q=(Math.PI-X)/2,J;const st=Bh(G,j);let y;y=Bh(t[C].difference(t[C+1]),t[C].difference(t[C-1])),st<0&&(Q=-Q),X<Math.PI/2&&(Q<0&&y<0||Q>0&&y>0)&&(Q=Q-Math.PI),J=j.clone(),XC(J,Q);const M=J.clone(),D=J.clone(),d=c[C-1]*u,B=c[C]*u;M.scale(d,d),D.scale(B,B),h[C]=[M,D]}for(let C=0;C<I;C++){let m,L;C===0?m=t[C+1].difference(h[C].x/s,h[C].y/s):m=t[C+1].difference(h[C][1].x/s,h[C][1].y/s),C===I-1?L=t[C].clone().offset(h[C+1].x/s,h[C+1].y/s):L=t[C].difference(h[C+1][0].x/s,h[C+1][0].y/s),p[C]=[m,t[C],t[C+1],L]}return p}function HC(t,e){const{tau:n}=e,r=new V;r.x=t[1].x+(t[2].x-t[0].x)/(6*n),r.y=t[1].y+(t[2].y-t[0].y)/(6*n);const s=new V;return s.x=t[2].x+(t[3].x-t[1].x)/(6*n),s.y=t[2].y+(t[3].y-t[1].y)/(6*n),new Ue(t[1],r,s,t[2])}const JC=Object.freeze(Object.defineProperty({__proto__:null,jumpover:jC,normal:ZC,rounded:GC,smooth:BC,curve:fc},Symbol.toStringTag,{value:"Module"})),de={RENDER:"RENDER",UPDATE:"UPDATE",TOOLS:"TOOLS",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},oo=je.extend({className:function(){var t=je.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){je.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[de.RENDER],attrs:[de.UPDATE],router:[de.UPDATE],connector:[de.CONNECTOR],smooth:[de.UPDATE],manhattan:[de.UPDATE],toolMarkup:[de.LEGACY_TOOLS],labels:[de.LABELS],labelMarkup:[de.LABELS],vertices:[de.VERTICES,de.UPDATE],vertexMarkup:[de.VERTICES],source:[de.SOURCE,de.UPDATE],target:[de.TARGET,de.UPDATE]},initFlag:[de.RENDER,de.SOURCE,de.TARGET,de.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,de.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,de.SOURCE)}if(this.hasFlag(t,de.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,de.TARGET)}const{paper:n,sourceView:r,targetView:s}=this;if(n&&(r&&!n.isViewMounted(r)||s&&!n.isViewMounted(s)))return t;if(this.hasFlag(t,de.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[de.RENDER,de.UPDATE,de.VERTICES,de.LABELS,de.TOOLS,de.LEGACY_TOOLS,de.CONNECTOR]),t;let u=!1;this.hasFlag(t,de.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,de.VERTICES));const{model:c}=this,{attributes:h}=c;let p=this.hasFlag(t,de.LABELS),I=this.hasFlag(t,de.LEGACY_TOOLS);p&&(this.onLabelsChange(c,h.labels,e),t=this.removeFlag(t,de.LABELS),u=!0),I&&(this.renderTools(),t=this.removeFlag(t,de.LEGACY_TOOLS));const C=this.hasFlag(t,de.UPDATE),m=this.hasFlag(t,de.CONNECTOR);return(C||m)&&(C?e.translateBy&&c.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[de.UPDATE,de.TOOLS,de.CONNECTOR]),p=!1,I=!1,u=!0),p&&this.updateLabelPositions(),I&&this.updateToolsPosition(),u&&this.updateHighlighters(),this.hasFlag(t,de.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,de.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(de.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],r=n.length;if(r>1){var s=!!e[n[1]];if(s){if(r===2)return"markup"in Object(t.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=gt(t);Array.isArray(e)||(e=[e]);for(var n=this._V,r=0,s=e.length;r<s;r++){var u=e[r],c=u.attr("class");c&&(c=vA(c),n[Fe.camelCase(c)]=u)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(!!t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if(typeof t=="string")return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=gt(t),n=document.createDocumentFragment();if(!Array.isArray(e))n.appendChild(e.node);else for(var r=0,s=e.length;r<s;r++){var u=e[r].node;n.appendChild(u)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(!!t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment)||!t.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=gt("g").append(e):n=gt(r[0]),n.addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},r=this._labelSelectors={},s=this.model,u=s.attributes.labels||[],c=u.length;if(c===0)return e&&e.remove(),this;e?e.empty():(e=t.labels=gt("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(ti(xn(this,"className"))),e.attr("model-id",s.id)));for(var h=0;h<c;h++){var p=u[h],I=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup)),C,m;if(I)C=I.node,m=I.selectors;else{var L=s._builtins.defaultLabel,G=this._normalizeLabelMarkup(this._getLabelMarkup(L.markup)),j=s._getDefaultLabel(),X=this._normalizeLabelMarkup(this._getLabelMarkup(j.markup)),Q=X||G;C=Q.node,m=Q.selectors}C.setAttribute("label-idx",h),e.append(C),n[h]=C;var J=this.selector;if(m[J])throw new Error("dia.LinkView: ambiguous label root selector.");m[J]=C,r[h]=m}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:r,options:s}=this,{labels:u}=r;if(!u||!n.hasLabels())return;const{node:c}=u;s.labelsLayer?e.getLayerView(s.labelsLayer).insertSortedNode(c,n.get("z")):c.parentNode!==t&&t.appendChild(c)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},onMount:function(){this.mountLabels()},unmount:function(){je.prototype.unmount.apply(this,arguments),this.unmountLabels()},findLabelNode:function(t,e){const n=this._labelCache[t];if(!n)return null;const r=this._labelSelectors[t],[s=null]=this.findBySelector(e,n,r);return s},_mergeLabelAttrs:function(t,e,n,r){return e===null?null:e===void 0?n===null?null:n===void 0?t?void 0:r:t?n:Pn({},r,n):t?Pn({},n,e):Pn({},r,n,e)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),r=t._builtins.defaultLabel,s=r.attrs,u=t._getDefaultLabel(),c=u.markup,h=u.attrs,p=0,I=e.length;p<I;p++){var C=this._labelCache[p];C.setAttribute("cursor",n?"move":"default");var m=this._labelSelectors[p],L=e[p],G=L.markup,j=L.attrs,X=this._mergeLabelAttrs(G||c,j,h,s);this.updateDOMSubtreeAttributes(C,X,{rootBBox:new Et(L.size),selectors:m})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=Fe(this._V.linkTools.node).empty(),e=Kn(this.model.get("toolMarkup")||this.model.toolMarkup),n=gt(e());if(t.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var r;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=Kn(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=gt(e())):r=n.clone(),t.append(r.node),this._tool2Cache=r}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=Fe(this._V.markerVertices.node).empty(),e=Kn(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){t.append(gt(e(qt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=Fe(this._V.markerArrowheads.node);t.empty();var e=Kn(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=gt(e({end:"source"})),this._V.targetArrowhead=gt(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const n=this.model,r=n.vertices(),s=[this.sourceAnchor,...r,this.targetAnchor],u=s.length,c=new $e(s);c.simplify({threshold:.001});const h=c.points.map(I=>I.toJSON()),p=h.length;return u===p?0:(n.vertices(h.slice(1,p-1),t),u-p)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new V(this.sourceAnchor);case"target":return new V(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new V(this.sourcePoint);case"target":return new V(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:r}=this;if(!n||!r)return;const s=new $e(n);s.translate(t,e),this.route=s.points,this._translateConnectionPoints(t,e),r.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),r=this.sourceAnchor=n.source,s=this.targetAnchor=n.target,u=this.findRoute(e);this.route=u;var c=this.findConnectionPoints(u,r,s);this.sourcePoint=c.source,this.targetPoint=c.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,r=this.findMarkerPoints(t,e,n),s=this.findPath(t,r.source||e,r.target||n);this.path=s},findMarkerPoints:function(t,e,n){var r=t[0],s=t[t.length-1],u=this._markerCache,c,h;return this._V.markerSource&&(u.sourceBBox=u.sourceBBox||this._V.markerSource.getBBox(),c=V(e).move(r||n,u.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(u.targetBBox=u.targetBBox||this._V.markerTarget.getBBox(),h=V(n).move(s||e,u.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),u.sourcePoint=c||e.clone(),u.targetPoint=h||n.clone(),{source:c,target:h}},findAnchorsOrdered:function(t,e,n,r){var s,u,c,h,p=this.model,I=p.get(t),C=p.get(n),m=this.getEndView(t),L=this.getEndView(n),G=this.getEndMagnet(t),j=this.getEndMagnet(n);m?(e?c=new V(e):L?c=j:c=new V(C),s=this.getAnchor(I.anchor,m,G,c,t)):s=new V(I),L?(h=new V(r||s),u=this.getAnchor(C.anchor,L,j,h,n)):u=new V(C);var X={};return X[t]=s,X[n]=u,X},findAnchors:function(t){var e=this.model,n=t[0],r=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(t,e,n){var r=t[0],s=t[t.length-1],u=this.model,c=u.get("source"),h=u.get("target"),p=this.sourceView,I=this.targetView,C=this.paper.options,m,L,G;if(p&&!p.isNodeConnection(this.sourceMagnet)){m=this.sourceMagnet||p.el;var j=c.connectionPoint||C.defaultConnectionPoint,X=r||n,Q=new Zt(X,e);G=this.getConnectionPoint(j,p,m,Q,"source")}else G=e;var J;if(I&&!I.isNodeConnection(this.targetMagnet)){L=this.targetMagnet||I.el;var st=h.connectionPoint||C.defaultConnectionPoint,y=s||e,M=new Zt(y,n);J=this.getConnectionPoint(st,I,L,M,"target")}else J=n;return{source:G,target:J}},getAnchor:function(t,e,n,r,s){var u=e.isNodeConnection(n),c=this.paper.options;if(t||(u?t=c.defaultLinkAnchor:c.perpendicularLinks||this.options.perpendicular?t={name:"perpendicular"}:t=c.defaultAnchor),!t)throw new Error("Anchor required.");var h;if(typeof t=="function")h=t;else{var p=t.name,I=u?"linkAnchorNamespace":"anchorNamespace";if(h=c[I][p],typeof h!="function")throw new Error("Unknown anchor: "+p)}var C=h.call(this,e,n,r,t.args||{},s,this);return C?C.round(this.decimalsRounding):new V},getConnectionPoint:function(t,e,n,r,s){var u,c=r.end,h=this.paper.options;if(typeof h.linkConnectionPoint=="function"){var p=n===e.el?void 0:n;if(u=h.linkConnectionPoint(this,e,p,r.start,s),u)return u}if(!t)return c;var I;if(typeof t=="function")I=t;else{var C=t.name;if(I=h.connectionPointNamespace[C],typeof I!="function")throw new Error("Unknown connection point: "+C)}return u=I.call(this,r,e,n,t.args||{},s,this),u?u.round(this.decimalsRounding):c},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_normalizeLabelPosition:function(t){return typeof t=="number"?{distance:t,offset:null,angle:0,args:null}:t},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.path;if(!t)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var r=e._builtins.defaultLabel,s=r.position,u=e._getDefaultLabel(),c=this._normalizeLabelPosition(u.position),h=Pn({},s,c),p=0,I=n.length;p<I;p++){var C=this._labelCache[p];if(!!C){var m=n[p],L=this._normalizeLabelPosition(m.position),G=Pn({},h,L),j=this._getLabelTransformationMatrix(G);C.setAttribute("transform",gt.matrixToTransformString(j)),this._cleanLabelMatrices(p)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,r=n[t];if(!!r)for(let s in r){const{id:u}=r[s];u&&u in e&&delete e[u].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var s=this.options.doubleLinkToolsOffset||e;r=this.getPointAtLength(n-s),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Fe.css(this._V.markerArrowheads.node,"display")==="none")return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:n}=this,r=`${t}View`,s=e.get(t),u=s&&s.id;if(!u)return this[r]=null,this.updateEndMagnet(t),!0;const c=n.getModelById(u);if(!c)throw new Error("LinkView: invalid "+t+" cell.");const h=c.findView(n);return h?(this[r]=h,this.updateEndMagnet(t),!0):!1},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(t));r===n.el&&(r=null),this[e]=r}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var n=Ne(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(t){var e=this.model.label(t).position||{};return e.angle||0},_getLabelPositionArgs:function(t){var e=this.model.label(t).position||{};return e.args},_getDefaultLabelPositionArgs:function(){var t=this.model._getDefaultLabel(),e=t.position||{};return e.args},_mergeLabelPositionArgs:function(t,e){return t===null?null:t===void 0?e===null?null:e:Pn({},e,t)},addLabel:function(t,e,n,r){var s,u,c=0,h;typeof t!="number"?(s=t.x,u=t.y,typeof e=="number"?(c=e,h=n):h=e):(s=t,u=e,typeof n=="number"?(c=n,h=r):h=n);var p=this._getDefaultLabelPositionArgs(),I=h,C=this._mergeLabelPositionArgs(I,p),m={position:this.getLabelPosition(s,u,c,C)},L=-1;return this.model.insertLabel(L,m,h),L},addVertex:function(t,e,n){var r=typeof t!="number",s=r?t.x:t,u=r?t.y:e,c=r?e:n,h={x:s,y:u},p=this.getVertexIndex(s,u);return this.model.insertVertex(p,h,c),p},sendToken:function(t,e,n){function r(m,L){return function(){m.remove(),typeof L=="function"&&L()}}var s,u,c;rn(e)?(s=e.duration,u=e.direction==="reverse",c=e.connection):(s=e,u=!1,c=null),s=s||1e3;var h={dur:s+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};u&&(h.keyPoints="1;0",h.keyTimes="0;1");var p=gt(t),I;if(typeof c=="string")I=this.findBySelector(c,this.el,this.selectors)[0];else{var C=this._V;I=C.connection?C.connection.node:this.el.querySelector("path")}if(!(I instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");p.appendTo(this.paper.cells).animateAlongPath(h,I),setTimeout(r(p,n),s)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||SC,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return t.map(V);var s=qe(n)?n:e[n.name];if(!qe(s))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var u=n.args||{},c=s.call(this,t,u,this);return c||t.map(V)},findPath:function(t,e,n){var r=this.paper.options.connectorNamespace||JC,s=this.model.connector(),u=this.paper.options.defaultConnector;s||(s=u||{});var c=qe(s)?s:r[s.name];if(!qe(c))throw new Error('dia.LinkView: unknown connector: "'+s.name+'".');var h=Ii(s.args||{});h.raw=!0;var p=c.call(this,e,n,t,h,this);return typeof p=="string"&&(p=new Ft(gt.normalizePathData(p))),p},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(Ur(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,r){var s={},u=0,c;typeof n=="number"?(u=n,c=r):c=n,c&&(s.args=c);var h=!(c&&c.absoluteDistance),p=c&&c.absoluteDistance&&c.reverseDistance,I=c&&c.absoluteOffset,C=this.path,m={segmentSubdivisions:this.getConnectionSubdivisions()},L=new V(t,e),G=C.closestPointT(L,m),j=C.lengthAtT(G,m);h&&(j=j/this.getConnectionLength()||0),p&&(j=-1*(this.getConnectionLength()-j)||1),s.distance=j;var X;I||(X=C.tangentAtT(G));var Q;if(X)Q=X.pointOffset(L);else{var J=C.pointAtT(G),st=L.difference(J);Q={x:st.x,y:st.y}}return s.offset=Q,s.angle=u,s},_getLabelTransformationMatrix:function(t){var e,n=0,r={};if(typeof t=="number")e=t;else if(typeof t.distance=="number")r=t.args||{},e=t.distance,n=t.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var s=e>0&&e<=1,u=0,c={x:0,y:0};if(t.offset){var h=t.offset;typeof h=="number"&&(u=h),h.x&&(c.x=h.x),h.y&&(c.y=h.y)}var p=c.x!==0||c.y!==0||u===0,I=r.keepGradient,C=r.ensureLegibility,m=this.path,L={segmentSubdivisions:this.getConnectionSubdivisions()},G=s?e*this.getConnectionLength():e,j=m.tangentAtLength(G,L),X,Q=n;if(j){if(p)X=j.start,X.offset(c);else{var J=j.clone();J.rotate(j.start,-90),J.setLength(u),X=J.end}I&&(Q=j.angle()+n,C&&(Q=wi((Q+90)%180-90)))}else X=m.start,p&&X.offset(c);return gt.createSVGMatrix().translate(X.x,X.y).rotate(Q)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new V(e.e,e.f)},getVertexIndex:function(t,e){for(var n=this.model,r=n.vertices(),s=this.getClosestPointLength(new V(t,e)),u=0,c=r.length;u<c;u++){var h=r[u],p=this.getClosestPointLength(h);if(s<p)break}return u},notifyPointerdown(t,e,n){je.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){je.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),je.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){je.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){je.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){je.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n);var r=t.target.getAttribute("class");switch(r){case"marker-vertex":this.dragVertexStart(t,e,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(t,e,n);return;case"marker-arrowhead":this.dragArrowheadStart(t,e,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(t,e,n);return;case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var r=this._dragData;r&&this.eventData(t,r);var s=this.eventData(t);switch(s.action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n);break}r&&qt(r,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var r=this._dragData;r&&(this.eventData(t,r),this._dragData=null);var s=this.eventData(t);switch(s.action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){je.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){je.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){je.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){je.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,r){je.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){var s=gt(t.target).findParentByClass("link-tool",this.el);if(s){if(t.stopPropagation(),this.can("useLinkTools"))if(e==="remove"){this.model.remove({ui:!0});return}else this.notify(e,t,n,r);this.notifyPointerdown(t,n,r),this.paper.delegateDragEvents(this,t.data)}else je.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n);var r=this.eventData(t).stopPropagation;r&&t.stopPropagation()},dragConnectionStart:function(t,e,n){if(!!this.can("vertexAdd")){var r=this.addVertex({x:e,y:n},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(t,e,n){if(this.can("labelMove")){var r=t.currentTarget,s=parseInt(r.getAttribute("label-idx"),10),u=this._getLabelPositionAngle(s),c=this._getLabelPositionArgs(s),h=this._getDefaultLabelPositionArgs(),p=this._mergeLabelPositionArgs(c,h);this.eventData(t,{action:"label-move",labelIdx:s,positionAngle:u,positionArgs:p,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,n){if(!!this.can("vertexMove")){var r=t.target,s=parseInt(r.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:s})}},dragVertexRemoveStart:function(t,e,n){if(!!this.can("vertexRemove")){var r=t.target,s=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(s)}},dragArrowheadStart:function(t,e,n){if(!!this.can("arrowheadMove")){var r=t.target,s=r.getAttribute("end"),u=this.startArrowheadMove(s,{ignoreBackwardsCompatibility:!0});this.eventData(t,u)}},dragStart:function(t,e,n){!this.can("linkMove")||this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var r=this.eventData(t),s={position:this.getLabelPosition(e,n,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete s.position.offset,this.model.label(r.labelIdx,s)},dragVertex:function(t,e,n){var r=this.eventData(t);this.model.vertex(r.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?this._snapArrowhead(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var r=this.eventData(t);this.model.translate(e-r.dx,n-r.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var r=this.eventData(t),s=this.paper;s.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,e,n),s.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,t)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(t){switch(t.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(t.arrowhead,t.initialEnd,{ui:!0});break}},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,r=t.initialEnd,s=this.model.prop(n),u=s&&!kn.endsEqual(r,s);if(u){var c=this.paper;r.id&&this.notify("link:disconnect",e,c.findViewByModel(r.id),t.initialMagnet,n),s.id&&this.notify("link:connect",e,c.findViewByModel(s.id),t.magnetUnderPointer,n)}},_snapArrowhead:function(t,e,n){const{paper:r}=this,{snapLinks:s,connectionStrategy:u}=r.options,c=this.eventData(t);var h=s.radius||50,p=r.findViewsInArea({x:e-h,y:n-h,width:2*h,height:2*h}),I=c.closestView||null,C=c.closestMagnet||null,m=c.magnetProxy||null;c.closestView=c.closestMagnet=c.magnetProxy=null;var L=Number.MAX_VALUE,G=new V(e,n);p.forEach(function(M){const D=[];M.el.getAttribute("magnet")!=="false"&&D.push({bbox:M.model.getBBox(),magnet:M.el}),M.$("[magnet]").toArray().forEach(d=>{D.push({bbox:M.getNodeBBox(d),magnet:d})}),D.forEach(d=>{const{magnet:B,bbox:q}=d,et=q.center().squaredDistance(G);et<L&&(C===B||r.options.validateConnection.apply(r,c.validateConnectionArgs(M,M.el===B?null:B)))&&(L=et,c.closestView=M,c.closestMagnet=B)})},this);var j,X=null,Q=c.closestView,J=c.closestMagnet;J&&(X=c.magnetProxy=Q.findProxyNode(J,"highlighter"));var st=c.arrowhead,y=C!==J;if(I&&y&&I.unhighlight(m,{connecting:!0,snapping:!0}),Q){const{prevEnd:M,prevX:D,prevY:d}=c;if(c.prevX=e,c.prevY=n,!y&&(typeof u!="function"||D===e&&d===n)||(j=Q.getLinkEnd(J,e,n,this.model,st),!y&&ro(M,j)))return;c.prevEnd=j,y&&Q.highlight(X,{connecting:!0,snapping:!0})}else j={x:e,y:n};this.model.set(st,j||{x:e,y:n},{ui:!0}),I&&this.notify("link:snap:disconnect",t,I,C,st),Q&&this.notify("link:snap:connect",t,Q,J,st)},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,r){const{paper:s,model:u}=this;if(r.eventTarget!==t){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const c=r.viewUnderPointer=s.findView(t);if(c){const h=r.magnetUnderPointer=c.findMagnet(t),p=r.magnetProxy=c.findProxyNode(h,"highlighter");h&&this.paper.options.validateConnection.apply(s,r.validateConnectionArgs(c,h))?p&&c.highlight(p,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=t,u.set(r.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:r}=this,{viewUnderPointer:s,magnetUnderPointer:u,magnetProxy:c,arrowhead:h}=t;if(!u||!c||!s)return;s.unhighlight(c,{connecting:!0});const p=s.getLinkEnd(u,e,n,r,h);r.set(h,p,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){t.z!==null&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,r=0,s=0;t==="source"?(r=2,n="target"):(s=2,n="source");var u=this.model.get(n);if(u.id){var c=e[r]=this.paper.findViewByModel(u.id),h=c.getMagnetFromLinkEnd(u);h===c.el&&(h=void 0),e[r+1]=h}function p(I,C){return e[s]=I,e[s+1]=I.el===C?void 0:C,e}return p},_markAvailableMagnets:function(t){function e(m,L){var G=m.paper,j=G.options.validateConnection;return j.apply(G,this.validateConnectionArgs(m,L))}var n=this.paper,r=n.model.getCells();t.marked={};for(var s=0,u=r.length;s<u;s++){var c=r[s].findView(n);if(!!c){var h=Array.prototype.slice.call(c.el.querySelectorAll("[magnet]"));c.el.getAttribute("magnet")!=="false"&&h.push(c.el);var p=h.filter(e.bind(t,c));if(p.length>0){for(var I=0,C=p.length;I<C;I++)c.highlight(p[I],{magnetAvailability:!0});c.highlight(null,{elementAvailability:!0}),t.marked[c.model.id]=p}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),n,r,s=0,u=e.length;s<u;s++){n=e[s],r=t.marked[n];var c=this.paper.findViewByModel(n);if(c){for(var h=0,p=r.length;h<p;h++)c.unhighlight(r[h],{magnetAvailability:!0});c.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:Ii(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),e.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onRemove:function(){je.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:de});Object.defineProperty(oo.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new Et(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new Et(this.sourceAnchor):t.getNodeBBox(n||t.el)}});Object.defineProperty(oo.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new Et(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new Et(this.targetAnchor):t.getNodeBBox(n||t.el)}});const QC=hs.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:r}=n;let s;try{const u=gt(e);if(s=u.convertToPathData().trim(),u.tagName()==="PATH"&&r){const c=s.search(/.M/i)+1;c>0&&(s=s.substr(0,c))}}catch{const c=t.getNodeBoundingRect(e);s=gt.rectToPath(qt({},n,c.toJSON()))}return s},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:r}=this,{padding:s,layer:u}=r;let c=t.getNodeMatrix(e);if(s){!u&&e===t.el&&n.remove();let h=t.getNodeBoundingRect(e);const p=h.x+h.width/2,I=h.y+h.height/2;h=gt.transformRect(h,c);const C=Math.max(h.width,1),m=Math.max(h.height,1),L=(C+s)/C,G=(m+s)/m,j=gt.createSVGMatrix({a:L,b:0,c:0,d:G,e:p-L*p,f:I-G*I});c=c.multiply(j)}n.attr({d:this.getPathData(t,e),transform:gt.matrixToTransformString(c)})},highlight(t,e){const{vel:n,options:r}=this;n.attr(r.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),Rh=20;function KC(t,e){const n=t.children();for(;n.length>0;){const r=n.shift();e(r)&&n.push(...r.children())}}const qC=hs.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:Rh,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:s}=this,u=e.tagName();if(!gt.isSVGGraphicsElement(e)||s.includes(u))return e.remove(),!1;if(r.includes(u)){const c=t.vel.findOne(`#${e.id}`);if(c){const{node:h}=c;let p=t.getNodeBoundingRect(h);t.model.isElement()&&(p=gt.transformRect(p,t.getNodeMatrix(h)));const I=gt("rect",p.toJSON()),{x:C,y:m}=p.center(),{angle:L,cx:G=C,cy:j=m}=c.rotate();L&&I.rotate(L,G,j),e.parent().append(I)}return e.remove(),!1}return n.forEach(c=>{c==="fill"&&e.attr("fill")==="none"||e.removeAttr(c)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{e.removeAttr(r)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:s}=n,u=e.tagName();let c;if(u==="G"){if(!s)return null;c=e.clone(),KC(c,h=>this.transformMaskChild(t,h))}else{if(r.includes(u))return null;c=e.clone()}return this.transformMaskRoot(t,c),c},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:r,options:s}=this,{padding:u,attrs:c}=s,h="stroke-width"in c?c["stroke-width"]:1,p=e.attr("fill")!=="none";let I=parseFloat(e.attr("stroke-width"));isNaN(I)&&(I=1);const C=I+u*2,m=C+h*2;let L=this.getMaskShape(t,e);if(!L){const G=t.getNodeBoundingRect(e.node);G.inflate(G.width?0:.5,G.height?0:.5),L=gt("rect",G.toJSON())}return L.attr(c),gt("mask",{id:this.getMaskId()}).append([L.clone().attr({fill:p?n:"none",stroke:n,"stroke-width":m}),L.clone().attr({fill:p?r:"none",stroke:r,"stroke-width":C})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:r}=this,{padding:s,attrs:u,maskClip:c=Rh,layer:h}=n,p="stroke"in u?u.stroke:"#000000";!h&&e===t.el&&r.remove();const I=t.getNodeBoundingRect(e).inflate(s+c),C=this.getMask(t,gt(e));this.addMask(t.paper,C),r.attr(I.toJSON()),r.attr({transform:gt.matrixToTransformString(t.getNodeMatrix(e)),mask:`url(#${C.id})`,fill:p})},unhighlight(t){this.removeMask(t.paper)}}),$C=hs.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:ti("highlight-opacity"),highlight:function(t,e){gt(e).addClass(this.opacityClassName)},unhighlight:function(t,e){gt(e).removeClass(this.opacityClassName)}}),_h=ti("highlighted"),ty=hs.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:_h},highlight:function(t,e){gt(e).addClass(this.options.className)},unhighlight:function(t,e){gt(e).removeClass(this.options.className)}},{className:_h}),ey=Object.freeze(Object.defineProperty({__proto__:null,stroke:QC,mask:qC,opacity:$C,addClass:ty},Symbol.toStringTag,{value:"Module"}));function ny(t,e,n,r){var s="ratio"in r?r.ratio:.5;return t.getPointAtRatio(s)}function ry(t,e,n,r){var s="length"in r?r.length:20;return t.getPointAtLength(s)}function iy(t,e,n,r){var s=1e6,u=t.getConnection(),c=t.getConnectionSubdivisions(),h=new Zt(n.clone().offset(0,s),n.clone().offset(0,-s)),p=new Zt(n.clone().offset(s,0),n.clone().offset(-s,0)),I=h.intersect(u,{segmentSubdivisions:c}),C=p.intersect(u,{segmentSubdivisions:c}),m=[];return I&&Array.prototype.push.apply(m,I),C&&Array.prototype.push.apply(m,C),m.length>0?n.chooseClosest(m):"fallbackAt"in r?_g(t,r.fallbackAt):Wg(t,e,n,r)}function sy(t,e,n,r){var s=t.getClosestPoint(n);return s||new V}function ho(t){return function(e,n,r,s){if(r instanceof Element){var u=this.paper.findView(r),c;if(u)if(u.isNodeConnection(r)){var h="fixedAt"in s?s.fixedAt:"50%";c=_g(u,h)}else c=u.getNodeBBox(r).center();else c=new V;return t.call(this,e,n,c,s)}return t.apply(this,arguments)}}function _g(t,e){var n=parseFloat(e);return Ur(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const ay=ho(iy),Wg=ho(sy),oy=Object.freeze(Object.defineProperty({__proto__:null,resolveRef:ho,connectionRatio:ny,connectionLength:ry,connectionPerpendicular:ay,connectionClosest:Wg},Symbol.toStringTag,{value:"Module"}));function Iu(t,e,n){if(Ln(n)){const{x:s,y:u}=n;if(isFinite(u)){const c=new Zt(e,t),{start:h,end:p}=c.parallel(u);e=h,t=p}n=s}if(!isFinite(n))return t;var r=t.distance(e);return n===0&&r>0?t:t.move(e,-Math.min(n,r-1))}function hc(t){var e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function uy(t,e,n=0){let r,s,u,c;const{start:h,end:p}=t;switch(e){case"left":r="x",s=p,u=h,c=-1;break;case"right":r="x",s=h,u=p,c=1;break;case"top":r="y",s=p,u=h,c=-1;break;case"bottom":r="y",s=h,u=p,c=1;break;default:return}h[r]<p[r]?s[r]=u[r]:u[r]=s[r],isFinite(n)&&(s[r]+=c*n,u[r]+=c*n)}function ly(t,e,n,r){let{offset:s,alignOffset:u,align:c}=r;return c&&uy(t,c,u),Iu(t.end,t.start,s)}function Yg(t,e,n,r){var s=e.getNodeBBox(n);r.stroke&&s.inflate(hc(n)/2);var u=t.intersect(s),c=u?t.start.chooseClosest(u):t.end;return Iu(c,t.start,r.offset)}function cy(t,e,n,r){var s=e.model.angle();if(s===0)return Yg(t,e,n,r);var u=e.getNodeUnrotatedBBox(n);r.stroke&&u.inflate(hc(n)/2);var c=u.center(),h=t.clone().rotate(c,s),p=h.setLength(1e6).intersect(u),I=p?h.start.chooseClosest(p).rotate(c,-s):t.end;return Iu(I,t.start,r.offset)}function fy(t){if(!t)return null;var e=t;do{var n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}var kl="segmentSubdivisons",zl="shapeBBox";function hy(t,e,n,r){var s,u,c=r.selector,h=t.end;if(typeof c=="string"?s=e.findBySelector(c)[0]:Array.isArray(c)?s=lo(n,c):s=fy(n),!gt.isSVGGraphicsElement(s)){if(s===n||!gt.isSVGGraphicsElement(n))return h;s=n}var p=e.getNodeShape(s),I=e.getNodeMatrix(s),C=e.getRootTranslateMatrix(),m=e.getRootRotateMatrix(),L=C.multiply(m).multiply(I),G=L.inverse(),j=gt.transformLine(t,G),X=j.start.clone(),Q=e.getNodeData(s);if(r.insideout===!1){Q[zl]||(Q[zl]=p.bbox());var J=Q[zl];if(J.containsPoint(X))return h}var st;if(p instanceof Ft){var y=r.precision||2;Q[kl]||(Q[kl]=p.getSegmentSubdivisions({precision:y})),st={precision:y,segmentSubdivisions:Q[kl]}}r.extrapolate===!0&&j.setLength(1e6),u=j.intersect(p,st),u?gt.isArray(u)&&(u=X.chooseClosest(u)):r.sticky===!0&&(p instanceof Et?u=p.pointNearestToPoint(X):p instanceof tr?u=p.intersectionWithLineFromCenterToPoint(X):u=p.closestPoint(X,st));var M=u?gt.transformPoint(u,L):h,D=r.offset||0;return r.stroke&&(D+=hc(s)/2),Iu(M,t.start,D)}const gy=ly,dy=Yg,py=cy,vy=hy,my=Object.freeze(Object.defineProperty({__proto__:null,anchor:gy,bbox:dy,rectangle:py,boundary:vy},Symbol.toStringTag,{value:"Module"}));function Xi(t){return function(e,n,r,s){var u=!!s.rotate,c=u?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),h=c[t](),p=s.dx;if(p){var I=Ur(p);p=parseFloat(p),isFinite(p)&&(I&&(p/=100,p*=c.width),h.x+=p)}var C=s.dy;if(C){var m=Ur(C);C=parseFloat(C),isFinite(C)&&(m&&(C/=100,C*=c.height),h.y+=C)}return u?h.rotate(e.model.getBBox().center(),-e.model.angle()):h}}function Iy(t,e,n,r){var s=t.model.angle(),u=t.getNodeBBox(e),c=u.center(),h=u.origin(),p=u.corner(),I=r.padding;if(isFinite(I)||(I=0),h.y+I<=n.y&&n.y<=p.y-I){var C=n.y-c.y;c.x+=s===0||s===180?0:C*1/Math.tan(gr(s)),c.y+=C}else if(h.x+I<=n.x&&n.x<=p.x-I){var m=n.x-c.x;c.y+=s===90||s===270?0:m*Math.tan(gr(s)),c.x+=m}return c}function Ay(t,e,n,r){var s=!!r.rotate,u,c,h;s?(u=t.getNodeUnrotatedBBox(e),h=t.model.getBBox().center(),c=t.model.angle()):u=t.getNodeBBox(e);var p=r.padding;isFinite(p)&&u.inflate(p),s&&n.rotate(h,c);var I=u.sideNearestToPoint(n),C;switch(I){case"left":C=u.leftMiddle();break;case"right":C=u.rightMiddle();break;case"top":C=u.topMiddle();break;case"bottom":C=u.bottomMiddle();break}return s?C.rotate(h,-c):C}function Cy(t,e,n,r,s){return t.model.getPointFromConnectedLink(this.model,s).offset(r.dx,r.dy)}const yy=Xi("center"),wy=Xi("topMiddle"),by=Xi("bottomMiddle"),xy=Xi("leftMiddle"),Ny=Xi("rightMiddle"),My=Xi("origin"),Sy=Xi("topRight"),Ty=Xi("bottomLeft"),Dy=Xi("corner"),Ly=ho(Iy),Py=ho(Ay),ky=Cy,zy=Object.freeze(Object.defineProperty({__proto__:null,center:yy,top:wy,bottom:by,left:xy,right:Ny,topLeft:My,topRight:Sy,bottomLeft:Ty,bottomRight:Dy,perpendicular:Ly,midSide:Py,modelCenter:ky},Symbol.toStringTag,{value:"Module"})),Ma={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Wh=1e3,Oy=1/0,su=9007199254740991,Ol=je.Highlighting,Yh={[Ol.DEFAULT]:{name:"stroke",options:{padding:3}},[Ol.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[Ol.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},Ey=[{name:$r.BACK},{name:$r.CELLS},{name:$r.LABELS},{name:$r.FRONT},{name:$r.TOOLS}],xw=Sa.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:vn,linkView:oo,snapLabels:!1,snapLinks:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:Yh,preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new kn,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,n){return e.getAttribute("magnet")!=="passive"},validateConnection:function(t,e,n,r,s,u){return(s==="target"?n:t)instanceof vn},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Ma.EXACT,frozen:!1,onViewUpdate:function(t,e,n,r,s){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||r.mounting||r.isolate||s.requestConnectedLinksUpdate(t,n,r)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:ey,anchorNamespace:zy,linkAnchorNamespace:oy,connectionPointNamespace:my},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&Fi(joint,"shapes")?joint.shapes:null);const n=this.model=t.model||new zg;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this.$document=Fe(e.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var r=n.position;this.isAsync()||!hr(r)?this.renderView(t,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(t,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const r=this.findViewByModel(t);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===Ma.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.updateViews(t)}var s=this.SORT_DELAYING_BATCHES;s.includes(e)&&!n.hasActiveBatch(s)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:s,defaultLinkAnchor:u,origin:c,highlighting:h,cellViewNamespace:p,interactive:I}=t;!p&&typeof joint<"u"&&Fi(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),qe(e)||(t.defaultConnector=_r(e)),qe(n)||(t.defaultRouter=_r(n)),qe(r)||(t.defaultConnectionPoint=_r(r)),qe(s)||(t.defaultAnchor=_r(s)),qe(u)||(t.defaultLinkAnchor=_r(u)),Ln(I)&&(t.interactive=qt({},I)),Ln(h)&&(t.highlighting=oc({},h,Yh)),t.origin=qt({},c)},children:function(){var t=gt.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:ti("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:ti("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ti("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:n,defs:r,layers:s,background:u,grid:c}=t;return this.svg=n,this.defs=r,this.layers=s,this.$background=Fe(u),this.$grid=Fe(c),this.renderLayers(),gt.ensureId(n),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=Ey){this.removeLayers(),t.forEach(({name:s,sorted:u})=>{const c=new oC({name:s});this.layers.appendChild(c.el),this._layers[s]=c});const e=this.getLayerView($r.CELLS),n=this.getLayerView($r.TOOLS),r=this.getLayerView($r.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(ti("viewport")),r.vel.addClass(ti("viewport"))},removeLayers:function(){},resetLayers:function(){},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(t===void 0){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),gt.createSVGMatrix(t)}t=gt.createSVGMatrix(t);var r=gt.matrixToTransformString(t);return e.setAttribute("transform",r),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return gt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof je)for(var r=t.model,s=this.model.getConnectedLinks(r),u=0,c=s.length;u<c;u++){var h=s[u],p=this.findViewByModel(h);if(!!p){var I=["UPDATE"];h.getTargetCell()===r&&I.push("TARGET"),h.getSourceCell()===r&&I.push("SOURCE");var C=Math.max(e+1,p.UPDATE_PRIORITY);this.scheduleViewUpdate(p,p.getFlag(I),C,n)}}},forcePostponedViewUpdate:function(t,e){if(!t||!(t instanceof je))return!1;var n=t.model;if(n.isElement())return!1;if((e&t.getFlag(["SOURCE","TARGET"]))===0){var r=0,s=this.findViewByModel(n.getSourceCell());s&&!this.isViewMounted(s)&&(r=this.dumpView(s),t.updateEndMagnet("source"));var u=0,c=this.findViewByModel(n.getTargetCell());if(c&&!this.isViewMounted(c)&&(u=this.dumpView(c),t.updateEndMagnet("target")),r===0&&u===0)return!this.dumpView(t)}return!1},requestViewUpdate:function(t,e,n,r){r||(r={}),this.scheduleViewUpdate(t,e,n,r);var s=this.isAsync();if(!(this.isFrozen()||s&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var u=this.updateViews(r);s&&this.notifyAfterRender(u,r)}},scheduleViewUpdate:function(t,e,n,r){const{_updates:s,options:u}=this,{FLAG_REMOVE:c,FLAG_INSERT:h,UPDATE_PRIORITY:p,cid:I}=t;let C=s.priorities[n];if(C||(C=s.priorities[n]={}),n>p)for(let G=n-1;G>=p;G--){const j=s.priorities[G];!j||!(I in j)||(C[I]|=j[I],delete j[I])}let m=C[I]||0;if((m&e)===e)return;m||s.count++,e&c&&m&h?C[I]^=h:e&h&&m&c&&(C[I]^=c),C[I]|=e;const L=u.onViewUpdate;typeof L=="function"&&L.call(this,t,e,n,r||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,n=t.cid,r=e.priorities[t.UPDATE_PRIORITY],s=this.registerMountedView(t)|r[n];return delete r[n],s},dumpView:function(t,e){var n=this.dumpViewUpdate(t);return n?this.updateView(t,n,e):0},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:s,model:u}=t;if(t instanceof je){if(e&r)return this.removeView(u),0;e&s&&(this.insertView(t),e^=s)}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var r=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],r},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var r=n.unmounted[e]||0;return delete n.unmounted[e],r},isViewMounted:function(t){if(!t)return!1;var e=t.cid,n=this._updates;return e in n.mounted},dumpViews:function(t){var e=Kr({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,r=0,s=su;do r++,e=this.updateViewsBatch(t),n+=e.updated,s=Math.min(e.priority,s);while(!e.empty);const u={updated:n,batches:r,priority:s};return this.notifyAfterRender(u,t),u},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let r in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:su});var n=this._updates,r=n.id;if(r){Wl(r),e.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);var s=this.updateViewsBatch(t),u=Kr({},t,{mountBatchSize:Wh-s.mounted,unmountBatchSize:Wh-s.unmounted}),c=this.checkViewport(u),h=c.unmounted,p=c.mounted,I=e.processed,C=n.count;s.updated>0&&(I+=s.updated+s.unmounted,s.processed=I,e.priority=Math.min(s.priority,e.priority),s.empty&&p===0?(s.unmounted+=h,s.mounted+=p,s.priority=e.priority,this.notifyAfterRender(s,t),e.processed=0,e.priority=su,n.count=0):e.processed=I);var m=t.progress;if(C&&typeof m=="function"&&m.call(this,s.empty,I,C,s,this),n.id!==r)return}n.id=_l(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;typeof e!="function"&&(e=this.options.beforeRender,typeof e!="function")||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||Oy,n=this._updates,r=0,s=0,u=0,c=0,h=su,p=!0,I=this.options,C=n.priorities,m="viewport"in t?t.viewport:I.viewport;typeof m!="function"&&(m=null);var L=I.onViewPostponed;typeof L!="function"&&(L=null);var G=Object.keys(C);t:for(var j=0,X=G.length;j<X;j++){var Q=+G[j],J=C[Q];for(var st in J){if(r>=e){p=!1;break t}var y=Ws[st];if(!y){delete J[st];continue}var M=J[st];if((M&y.FLAG_REMOVE)===0){var D=st in n.unmounted;if(y.DETACHABLE&&m&&!m.call(this,y,!D,this)){D||(this.registerUnmountedView(y),y.unmount()),n.unmounted[st]|=M,delete J[st],u++;continue}D&&(M|=y.FLAG_INSERT,c++),M|=this.registerMountedView(y)}var d=this.updateView(y,M,t);if(d>0&&(J[st]=d,!L||!L.call(this,y,d,this)||J[st])){s++,p=!1;continue}h>Q&&(h=Q),r++,delete J[st]}}return{priority:h,updated:r,postponed:s,unmounted:u,mounted:c,empty:p}},getUnmountedViews:function(){const t=this._updates,e=Object.keys(t.unmounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Ws[e[s]];return r},getMountedViews:function(){const t=this._updates,e=Object.keys(t.mounted),n=e.length,r=new Array(n);for(var s=0;s<n;s++)r[s]=Ws[e[s]];return r},checkUnmountedViews:function(t,e){e||(e={});var n=0;typeof t!="function"&&(t=null);for(var r=("mountBatchSize"in e)?e.mountBatchSize:1/0,s=this._updates,u=s.unmountedCids,c=s.unmounted,h=0,p=Math.min(u.length,r);h<p;h++){var I=u[h];if(I in c){var C=Ws[I];if(!!C){if(C.DETACHABLE&&t&&!t.call(this,C,!1,this)){u.push(I);continue}n++;var m=this.registerMountedView(C);m&&this.scheduleViewUpdate(C,m,C.UPDATE_PRIORITY,{mounting:!0})}}}return u.splice(0,h),n},checkMountedViews:function(t,e){e||(e={});var n=0;if(typeof t!="function")return n;for(var r=("unmountBatchSize"in e)?e.unmountBatchSize:1/0,s=this._updates,u=s.mountedCids,c=s.mounted,h=0,p=Math.min(u.length,r);h<p;h++){var I=u[h];if(I in c){var C=Ws[I];if(!!C){if(!C.DETACHABLE||t.call(this,C,!0,this)){u.push(I);continue}n++;var m=this.registerUnmountedView(C);m&&C.unmount()}}}return u.splice(0,h),n},checkViewport:function(t){var e=Kr({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,r=this.checkMountedViews(n,e);if(r>0){var s=this._updates.unmountedCids;e.mountBatchSize=Math.min(s.length-r,e.mountBatchSize)}var u=this.checkUnmountedViews(n,e);return{mounted:u,unmounted:r}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,r=this.options.frozen,s=e.freezeKey;if(n&&n!==s){if(r&&s)return;e.freezeKey=n,e.keyFrozen=r}this.options.frozen=!0;var u=e.id;e.id=null,this.isAsync()&&u&&Wl(u)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,r=e.freezeKey;n&&r&&n!==r||(e.freezeKey=null,!(n&&n===r&&e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Ma.EXACT},onRemove:function(){this.freeze(),this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return hr(e)||(e=this.el.clientWidth),hr(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e){const{options:n}=this,{width:r,height:s}=n;let u=t===void 0?r:t,c=e===void 0?s:e;if(r===u&&s===c)return;n.width=u,n.height=c,this._setDimensions();const h=this.getComputedSize();this.trigger("resize",h.width,h.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;hr(e)&&(e=Math.round(e)),hr(n)&&(n=Math.round(n)),this.$el.css({width:e===null?"":e,height:n===null?"":n})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,n,r){rn(t)?r=t:r=qt({gridWidth:t,gridHeight:e,padding:n},r);const{x:s,y:u,width:c,height:h}=this.getFitToContentArea(r),{sx:p,sy:I}=this.scale();return this.setOrigin(-s*p,-u*I),this.setDimensions(c*p,h*I),new Et(s,u,c,h)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,r=Da(t.padding||0),s=Math.max(t.minWidth||0,e),u=Math.max(t.minHeight||0,n),c=t.maxWidth||Number.MAX_VALUE,h=t.maxHeight||Number.MAX_VALUE,p=t.allowNewOrigin,I="contentArea"in t?new Et(t.contentArea):this.getContentArea(t),{sx:C,sy:m}=this.scale();I.x*=C,I.y*=m,I.width*=C,I.height*=m;let L=Math.ceil((I.width+I.x)/e),G=Math.ceil((I.height+I.y)/n);t.allowNegativeBottomRight||(L=Math.max(L,1),G=Math.max(G,1)),L*=e,G*=n;let j=0;(p==="negative"&&I.x<0||p==="positive"&&I.x>=0||p==="any")&&(j=Math.ceil(-I.x/e)*e,j+=r.left,L+=j);let X=0;return(p==="negative"&&I.y<0||p==="positive"&&I.y>=0||p==="any")&&(X=Math.ceil(-I.y/n)*n,X+=r.top,G+=X),L+=r.right,G+=r.bottom,L=Math.max(L,s),G=Math.max(G,u),L=Math.min(L,c),G=Math.min(G,h),new Et(-j/C,-X/m,L/C,G/m)},scaleContentToFit:function(t){t||(t={});var e,n;if("contentArea"in t){var r=t.contentArea;e=this.localToPaperRect(r),n=new V(r)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(!(!e.width||!e.height)){Kr(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var s=Da(t.padding),u=t.minScaleX||t.minScale,c=t.maxScaleX||t.maxScale,h=t.minScaleY||t.minScale,p=t.maxScaleY||t.maxScale,I;if(t.fittingBBox)I=t.fittingBBox;else{var C=this.translate(),m=this.getComputedSize();I={x:C.tx,y:C.ty,width:m.width,height:m.height}}I=new Et(I).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});var L=this.scale(),G=I.width/e.width*L.sx,j=I.height/e.height*L.sy;if(t.preserveAspectRatio&&(G=j=Math.min(G,j)),t.scaleGrid){var X=t.scaleGrid;G=X*Math.floor(G/X),j=X*Math.floor(j/X)}G=Math.min(c,Math.max(u,G)),j=Math.min(p,Math.max(h,j));var Q=this.options.origin,J=I.x-n.x*G-Q.x,st=I.y-n.y*j-Q.y;this.scale(G,j),this.translate(J,st)}},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new Et:gt(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return qe(e)?n=e.apply(this,t):e===!0?n=this.getArea():e?n=new Et(e):n=null,n},createViewForModel:function(t){const{options:e}=this;var n,r,s=e.cellViewNamespace,u=t.get("type")+"View",c=lo(s,u,".");t.isLink()?(n=e.linkView,r=oo):(n=e.elementView,r=vn);var h=n.prototype instanceof Un.View?c||n:n.call(this,t)||c||r;return new h({model:t,interactive:e.interactive,labelsLayer:e.labelsLayer===!0?$r.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:r}=this,s=n[e];if(s){var{cid:u}=s;const{mounted:c,unmounted:h}=r;s.remove(),delete n[e],delete c[u],delete h[u]}return s},renderView:function(t,e){const{id:n}=t,r=this._views;let s,u,c=!0;return n in r&&(s=r[n],s.model===t?(u=s.FLAG_INSERT,c=!1):this.removeView(t)),c&&(s=r[n]=this.createViewForModel(t),s.paper=this,u=this.registerUnmountedView(s)|s.getFlag(xn(s,"initFlag"))),this.requestViewUpdate(s,u,s.UPDATE_PRIORITY,e),s},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var n=0,r=t.length;n<r;n++)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){Ai(this._views,"remove"),this._views={}},sortViews:function(){if(!!this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var t=Fe(this.cells).children("[model-id]"),e=this.model.get("cells");yA(t,function(n,r){var s=e.get(n.getAttribute("model-id")),u=e.get(r.getAttribute("model-id")),c=s.attributes.z||0,h=u.attributes.z||0;return c===h?0:c<h?-1:1})},insertView:function(t){const e=this.getLayerView($r.CELLS),{el:n,model:r}=t;switch(this.options.sorting){case Ma.APPROX:e.insertSortedNode(n,r.get("z"));break;case Ma.EXACT:default:e.insertNode(n);break}t.onMount()},scale:function(t,e,n,r){if(t===void 0)return gt.matrixToScale(this.matrix());e===void 0&&(e=t),n===void 0&&(n=0,r=0);var s=this.translate();if(n||r||s.tx||s.ty){var u=s.tx-n*(t-1),c=s.ty-r*(e-1);this.translate(u,c)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var h=this.matrix();return h.a=t,h.d=e,this.matrix(h),this.trigger("scale",t,e,n,r),this},rotate:function(t,e,n){if(t===void 0)return gt.matrixToRotate(this.matrix());if(e===void 0){var r=this.cells.getBBox();e=r.width/2,n=r.height/2}var s=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(s),this},translate:function(t,e){if(t===void 0)return gt.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:s}=n;t||(t=0),e||(e=0);const u=this.matrix();if(u.e===t&&u.f===e)return this;u.e=t,u.f=e,this.matrix(u);const{tx:c,ty:h}=this.translate();return r.x=c,r.y=h,this.trigger("translate",c,h),s&&this.drawGrid(),this},findView:function(t){var e=jn(t)?this.cells.querySelector(t):t instanceof Fe?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=jn(t)||hr(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){t=new V(t);var e=this.model.getElements().map(this.findViewByModel,this);return e.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=Kr(e||{},{strict:!1}),t=new Et(t);var n=this.model.getElements().map(this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(function(s){return s&&t[r](s.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){typeof t=="string"&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new V(t,e),r=gt.transformPoint(n,this.matrix());return r},localToPaperRect:function(t,e,n,r){var s=new Et(t,e,n,r),u=gt.transformRect(s,this.matrix());return u},paperToLocalPoint:function(t,e){var n=new V(t,e),r=gt.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(t,e,n,r){var s=new Et(t,e,n,r),u=gt.transformRect(s,this.matrix().inverse());return u},localToClientPoint:function(t,e){var n=new V(t,e),r=gt.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(t,e,n,r){var s=new Et(t,e,n,r),u=gt.transformRect(s,this.clientMatrix());return u},clientToLocalPoint:function(t,e){var n=new V(t,e),r=gt.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(t,e,n,r){var s=new Et(t,e,n,r),u=gt.transformRect(s,this.clientMatrix().inverse());return u},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,r){return this.localToPaperRect(t,e,n,r).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var n=new V(t,e),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(t,e,n,r){var s=this.pageOffset(),u=new Et(t,e,n,r);return u.x-=s.x,u.y-=s.y,this.paperToLocalRect(u)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new V(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof oo))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,r=this.model,s=r.constructor.validations;return!(!n.multiLinks&&!s.multiLinks.call(this,r,e)||!n.linkPinning&&!s.linkPinning.call(this,r,e)||typeof n.allowLink=="function"&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return qe(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:r,highlighterNamespace:s}=this.options;if(e===void 0){if(!r||n&&(e=r[n],e===!1))return!1;e||(e=r.default)}if(!e)return!1;jn(e)&&(e={name:e});const u=e.name,c=s[u];if(!c)throw new Error('Unknown highlighter ("'+u+'")');if(typeof c.highlight!="function")throw new Error('Highlighter ("'+u+'") is missing required highlight() method');if(typeof c.unhighlight!="function")throw new Error('Highlighter ("'+u+'") is missing required unhighlight() method');return{highlighter:c,options:e.options||{},name:u}},onCellHighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:u}=r;s.highlight(t,e,u)},onCellUnhighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:s,options:u}=r;s.unhighlight(t,e,u)},pointerdblclick:function(t){t.preventDefault(),t=Qn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){var e=this.eventData(t);if(e.mousemoved<=this.options.clickThreshold){t=Qn(t);var n=this.findView(t.target);if(this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,r.x,r.y):this.trigger("blank:pointerclick",t,r.x,r.y)}},contextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),t=Qn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=Qn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?(t.preventDefault(),e.pointerdown(t,n.x,n.y)):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,n.x,n.y)),this.delegateDragEvents(e,t.data)}},pointermove:function(t){var e=this.eventData(t);e.mousemoved||(e.mousemoved=0);var n=++e.mousemoved;if(!(n<=this.options.moveThreshold)){t=Qn(t);var r=this.snapToGrid(t.clientX,t.clientY),s=e.sourceView;s?s.pointermove(t,r.x,r.y):this.trigger("blank:pointermove",t,r.x,r.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=Qn(t),n=this.snapToGrid(e.clientX,e.clientY),r=this.eventData(t).sourceView;r?r.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(Fe.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(t){t=Qn(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=Qn(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=Qn(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const u=this.findView(n);s&&(u===s||(s.mouseenter(t),this.el.contains(n)))||u||r===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=Qn(t);const{target:e,relatedTarget:n,currentTarget:r}=t,s=this.findView(e);if(this.guard(t,s))return;const u=this.findView(n);s&&(u===s||(s.mouseleave(t),this.el.contains(n)))||u||r===this.el&&this.trigger("paper:mouseleave",t)},mousewheel:function(t){t=Qn(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=t.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),s=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,r.x,r.y,s):this.trigger("blank:mousewheel",t,r.x,r.y,s)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var r=this.findView(e);if(r){if(t=Qn(t),this.guard(t,r))return;var s=this.snapToGrid(t.clientX,t.clientY);r.onevent(t,n,s.x,s.y)}}},magnetEvent:function(t,e){var n=t.currentTarget,r=n.getAttribute("magnet");if(r){var s=this.findView(n);if(s){if(t=Qn(t),this.guard(t,s))return;var u=this.snapToGrid(t.clientX,t.clientY);e.call(this,s,t,n,u.x,u.y)}}},onmagnet:function(t){this.magnetEvent(t,function(e,n,r,s,u){e.onmagnet(n,s,u)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,r,s,u){e.magnetpointerdblclick(n,r,s,u)})},magnetcontextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),this.magnetEvent(t,function(e,n,r,s,u){e.magnetcontextmenu(n,r,s,u)})},onlabel:function(t){var e=t.currentTarget,n=this.findView(e);if(n){if(t=Qn(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,r.x,r.y)}},getPointerArgs(t){const e=Qn(t),{x:n,y:r}=this.snapToGrid(e.clientX,e.clientY);return[e,n,r]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e),this.undelegateEvents()},guard:function(t,e){return t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e)?!0:t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.model&&e.model instanceof yi||this.svg===t.target||this.el===t.target||Fe.contains(this.svg,t.target))},setGridSize:function(t){return this.options.gridSize=t,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:gt("svg",{width:"100%",height:"100%"},gt("defs")),patterns:{},add:function(t,e){gt(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(gt("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return this.patterns[t]!==void 0}}),this._gridCache},setGrid:function(t){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var e=Array.isArray(t)?t:[t||{}];return e.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(jn(t)&&Array.isArray(e[t]))return e[t].map(function(p){return qt({},p)});var n=t||{args:[{}]},r=Array.isArray(n),s=n.name;if(!r&&!s&&!n.markup&&(s="dot"),s&&Array.isArray(e[s])){var u=e[s].map(function(p){return qt({},p)}),c=Array.isArray(n.args)?n.args:[n.args||{}];Kr(c[0],Vs(t,"args"));for(var h=0;h<c.length;h++)u[h]&&qt(u[h],c[h]);return u}return r?n:[n]},drawGrid:function(t){var e=this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],r=this.matrix(),s=this._getGridRefs();this._gridSettings.forEach(function(c,h){var p="pattern_"+h,I=Pn(c,n[h],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});I.width=e*(r.a||1)*(I.scaleFactor||1),I.height=e*(r.d||1)*(I.scaleFactor||1),s.exist(p)||s.add(p,gt("pattern",{id:p,patternUnits:"userSpaceOnUse"},gt(I.markup)));var C=s.get(p);qe(I.update)&&I.update(C.node.childNodes[0],I);var m=I.ox%I.width;m<0&&(m+=I.width);var L=I.oy%I.height;L<0&&(L+=I.height),C.attr({x:m,y:L,width:I.width,height:I.height})});var u=new XMLSerializer().serializeToString(s.root.node);return u="url(data:image/svg+xml;base64,"+btoa(u)+")",this.$grid.css("backgroundImage",u),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",n=t.size||"auto auto",r=this.scale(),s=this.translate();if(rn(e)){var u=s.tx+r.sx*(e.x||0),c=s.ty+r.sy*(e.y||0);e=u+"px "+c+"px"}rn(n)&&(n=new Et(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==e.id)){e=e||{};var n,r=e.size,s=e.repeat||"no-repeat",u=e.opacity||1,c=Math.abs(e.quality)||1,h=this.constructor.backgroundPatterns[SA(s)];if(qe(h)){t.width*=c,t.height*=c;var p=h(t,e);if(!(p instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=p.toDataURL("image/png"),s="repeat",rn(r)?(r.width*=p.width/t.width,r.height*=p.height/t.height):r===void 0&&(e.size={width:p.width/c,height:p.height/c})}else n=t.src,r===void 0&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:u,backgroundRepeat:s,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=_r(t),so(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,Ai(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!rn(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+$o(JSON.stringify(t))),!this.isDefined(e)){var r=bA,s=r[n]&&r[n](t.args||{});if(!s)throw new Error("Non-existing filter "+n);var u=qt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});gt(s,u).appendTo(this.defs)}return e},defineGradient:function(t){if(!rn(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:r,id:s=r+e.id+$o(JSON.stringify(t)),stops:u,attrs:c={}}=t;if(this.isDefined(s))return s;const h=Ne(u).map(({offset:I,color:C,opacity:m})=>gt("stop").attr({offset:I,"stop-color":C,"stop-opacity":Number.isFinite(m)?m:1})),p=gt(r,c,h);return p.id=s,p.appendTo(n),s},definePattern:function(t){if(!rn(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+$o(JSON.stringify(t)),markup:s,attrs:u={}}=t;if(!s)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const c=gt("pattern",{patternUnits:"userSpaceOnUse"});if(c.id=r,c.attr(u),typeof s=="string")c.append(gt(s));else{const{fragment:h}=lu(s);c.append(h)}return c.appendTo(n),r},defineMarker:function(t){if(!rn(t))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+$o(JSON.stringify(t)),markup:s,attrs:u={},markerUnits:c="userSpaceOnUse"}=t;if(this.isDefined(r))return r;const h=gt("marker",{orient:"auto",overflow:"visible",markerUnits:c});if(h.id=r,h.attr(u),s)if(typeof s=="string")h.append(gt(s));else{const{fragment:p}=lu(s);h.append(p)}else{const{type:p="path"}=t,I=gt(p,Vs(t,"type","id","markup","attrs","markerUnits"));h.append(I)}return h.appendTo(n),r}},{sorting:Ma,Layers:$r,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(t,0,0,n,r),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(t,0,0,n,r),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(t,0,0,n,r),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n*2,e.height=r;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(2*n,0),s.scale(-1,1),s.drawImage(t,0,0,n,r),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=r*2;var s=e.getContext("2d");return s.drawImage(t,0,0,n,r),s.translate(0,2*r),s.scale(1,-1),s.drawImage(t,0,0,n,r),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,s=document.createElement("canvas");s.width=n*3,s.height=r*3;for(var u=s.getContext("2d"),c=hr(e.watermarkAngle)?-e.watermarkAngle:-20,h=gr(c),p=s.width/4,I=s.height/4,C=0;C<4;C++)for(var m=0;m<4;m++)(C+m)%2>0&&(u.setTransform(1,0,0,1,(2*C-1)*p,(2*m-1)*I),u.rotate(h),u.drawImage(t,-n/2,-r/2,n,r));return s}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){gt(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;gt(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,u=e.thickness;r-u>=0&&s-u>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",gt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,u=e.thickness;r-u>=0&&s-u>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",gt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,r=e.width,s=e.height,u=e.thickness;r-u>=0&&s-u>=0?n=["M",r,0,"H0 M0 0 V0",s].join(" "):n="M 0 0 0 0",gt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}}),Ug={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},Re=on.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),jy=Re.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),Zy=vn.extend({presentationAttributes:vn.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=vn.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),Gy=Re.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),gc=Re.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),By=Re.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),Ry=Re.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),_y=Re.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),Wy=Re.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),Fg=Re.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),Yy=Fg.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),hu=Ug.test("svgforeignobject"),Uy=Re.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',hu?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Re.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":qt({},e),div:{style:qt({},e)}})},updateContent:function(t,e){hu?this.attr({".content":{html:CA(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),Fy=vn.extend({presentationAttributes:hu?vn.prototype.presentationAttributes:vn.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=vn.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n=this.model;if(hu)vn.prototype.update.call(this,n,e);else{var r=Vs(e||n.get("attrs"),".content");vn.prototype.update.call(this,n,r),(!e||Fi(e,".content"))&&this.updateContent(n,e)}},updateContent:function(t,e){var n=Pn({},(e||t.get("attrs"))[".content"]);n=Vs(n,"text");var r=mg(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),s=Rl({},".content",n,"/");s[".content"].text=r,vn.prototype.update.call(this,t,s)}}),Xy=Object.freeze(Object.defineProperty({__proto__:null,Generic:Re,Rect:jy,TextView:Zy,Text:Gy,Circle:gc,Ellipse:By,Polygon:Ry,Polyline:_y,Image:Wy,Path:Fg,Rhombus:Yy,TextBlock:Uy,TextBlockView:Fy},Symbol.toStringTag,{value:"Module"})),Vy=on.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),Hy=on.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Jy=on.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),Qy=on.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),Ky=on.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),qy=on.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),$y=on.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),t1=on.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),e1=on.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),n1=on.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),r1=on.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var El=10;const i1=on.define("standard.Cylinder",{attrs:{body:{lateralArea:El,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:El,refRx:"50%",ry:El,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(t===void 0)return this.attr("body/lateralArea");var n=Ur(t),r={lateralArea:t},s=n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:r,top:s},e)}},{attributes:{lateralArea:{set:function(t,e){var n=Ur(t);n&&(t=parseFloat(t)/100);var r=e.x,s=e.y,u=e.width,c=e.height,h=u/2,p=n?c*t:t,I=gt.KAPPA,C=I*h,m=I*(n?c*t:t),L=r,G=r+u/2,j=r+u,X=s+p,Q=X-p,J=s+c-p,st=s+c,y=["M",L,X,"L",L,J,"C",r,J+m,G-C,st,G,st,"C",G+C,st,j,J+m,j,J,"L",j,X,"C",j,X-m,G+C,Q,G,Q,"C",G-C,Q,L,X-m,L,X,"Z"];return{d:y.join(" ")}}}}});var s1={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},a1={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},o1=Ug.test("svgforeignobject")?s1:a1;const u1=on.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},o1]},{attributes:{text:{set:function(t,e,n,r){if(n instanceof HTMLElement)n.textContent=t;else{var s=r.style||{},u={text:t,width:-5,height:"100%"},c=qt({textVerticalAnchor:"middle"},s);return Ng.textWrap.set.call(this,u,e,n,c),{fill:s.color||null}}},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),l1=kn.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),c1=kn.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),f1=kn.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),h1=Object.freeze(Object.defineProperty({__proto__:null,Rectangle:Vy,Circle:Hy,Ellipse:Jy,Path:Qy,Polygon:Ky,Polyline:qy,Image:$y,BorderedImage:t1,EmbeddedImage:e1,InscribedImage:n1,HeaderedRectangle:r1,Cylinder:i1,TextBlock:u1,Link:l1,DoubleLink:c1,ShadowLink:f1},Symbol.toStringTag,{value:"Module"})),dc=Re.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){Re.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var r=La(this.get("inPorts")),s=Cg(La(this.get("outPorts")),r),u=this.createPortItems("in",r),c=this.createPortItems("out",s);this.prop("ports/items",u.concat(c),qt({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return Ne(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,n){var r=this.get(e);return this.set(e,Array.isArray(r)?r.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,Yl(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,rn(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),g1=dc.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),d1=dc.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),p1=kn.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),v1=Object.freeze(Object.defineProperty({__proto__:null,Model:dc,Atomic:g1,Coupled:d1,Link:p1},Symbol.toStringTag,{value:"Module"})),Au=Re.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),pc=Au.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),m1=pc.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),I1=pc.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),vc=Au.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),Qs=Au.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),A1=vc.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),C1=vc.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),y1=Qs.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),w1=Qs.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),b1=Qs.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),x1=Qs.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),N1=Qs.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),M1=Qs.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),S1=kn.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),T1=Object.freeze(Object.defineProperty({__proto__:null,Gate:Au,IO:pc,Input:m1,Output:I1,Gate11:vc,Gate21:Qs,Repeater:A1,Not:C1,Or:y1,And:w1,Nor:b1,Nand:x1,Xor:N1,Xnor:M1,Wire:S1},Symbol.toStringTag,{value:"Module"})),D1=Re.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),L1=Re.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),P1=Re.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),k1=Re.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),z1=Re.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),O1=Re.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),E1=Re.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),j1=Re.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),Z1=Re.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),G1=Re.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),B1=Re.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),R1=Re.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),_1=Object.freeze(Object.defineProperty({__proto__:null,KingWhite:D1,KingBlack:L1,QueenWhite:P1,QueenBlack:k1,RookWhite:z1,RookBlack:O1,BishopWhite:E1,BishopBlack:j1,KnightWhite:Z1,KnightBlack:G1,PawnWhite:B1,PawnBlack:R1},Symbol.toStringTag,{value:"Module"})),Xg=on.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),W1=Xg.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),Vg=on.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),Y1=Vg.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),go=on.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),U1=go.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),F1=go.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),X1=go.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),V1=go.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),H1=on.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),J1=kn.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),Q1=Object.freeze(Object.defineProperty({__proto__:null,Entity:Xg,WeakEntity:W1,Relationship:Vg,IdentifyingRelationship:Y1,Attribute:go,Multivalued:U1,Derived:F1,Key:X1,Normal:V1,ISA:H1,Line:J1},Symbol.toStringTag,{value:"Module"})),K1=gc.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),q1=on.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),$1=on.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),tw=kn.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),ew=Object.freeze(Object.defineProperty({__proto__:null,State:K1,StartState:q1,EndState:$1,Arrow:tw},Symbol.toStringTag,{value:"Module"})),nw=on.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),rw=kn.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),iw=Object.freeze(Object.defineProperty({__proto__:null,Member:nw,Arrow:rw},Symbol.toStringTag,{value:"Module"})),sw=Re.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),aw=vn.extend({presentationAttributes:vn.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:vn.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=vn.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){t.removeClass(n)});var e=this.model.get("tokens");if(!!e)switch(e){case 1:t.addClass("one"),t.append(gt("circle"));break;case 2:t.addClass("two"),t.append([gt("circle"),gt("circle")]);break;case 3:t.addClass("three"),t.append([gt("circle"),gt("circle"),gt("circle")]);break;default:t.addClass("alot"),t.append(gt("text").text(e+""));break}}}),ow=Re.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),uw=kn.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),lw=Object.freeze(Object.defineProperty({__proto__:null,Place:sw,PlaceView:aw,Transition:ow,Link:uw},Symbol.toStringTag,{value:"Module"})),mc=Re.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),Re.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;e.forEach(function(r){var s=Array.isArray(r.text)?r.text:[r.text],u=s.length*20+20;t[".uml-class-"+r.type+"-text"].text=s.join(`
`),t[".uml-class-"+r.type+"-rect"].height=u,t[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=u})}}),Ic=vn.extend({initialize:function(){vn.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),cw=mc.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),fw=Ic,hw=mc.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),gw=Ic,dw=kn.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),pw=kn.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),vw=kn.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),mw=kn.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),Iw=kn.define("uml.Association"),Aw=Re.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),Re.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join(`
`))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),Cw=gc.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),yw=Re.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),ww=kn.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),bw=Object.freeze(Object.defineProperty({__proto__:null,Class:mc,ClassView:Ic,Abstract:cw,AbstractView:fw,Interface:hw,InterfaceView:gw,Generalization:dw,Implementation:pw,Aggregation:vw,Composition:mw,Association:Iw,State:Aw,StartState:Cw,EndState:yw,Transition:ww},Symbol.toStringTag,{value:"Module"})),Nw=Object.freeze(Object.defineProperty({__proto__:null,basic:Xy,standard:h1,devs:v1,logic:T1,chess:_1,erd:Q1,fsa:ew,org:iw,pn:lw,uml:bw},Symbol.toStringTag,{value:"Module"}));export{zg as G,l1 as L,xw as P,Vy as R,Nw as i};
